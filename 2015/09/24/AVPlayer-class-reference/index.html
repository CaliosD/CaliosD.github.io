<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="AVPlayer Class Reference"/><meta name="keywords" content="iOS, Calios' Eden" /><link rel="alternate" href="/default" title="Calios' Eden"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://www.caliosd.gq/2015/09/24/AVPlayer-class-reference/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>AVPlayer Class Reference - Calios' Eden</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Calios' Eden</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Calios' Eden</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">AVPlayer Class Reference
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-24
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Create-a-Player"><span class="toc-text">1.Create a Player</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Managing-Playback"><span class="toc-text">2.Managing Playback</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Managing-Time"><span class="toc-text">3.Managing Time</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Managing-External-Playback-abbr"><span class="toc-text">4.Managing External Playback (abbr.)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-Synchronizing-Playback-to-an-External-Source-abbr"><span class="toc-text">5.Synchronizing Playback to an External Source (abbr.)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-Timed-Observations"><span class="toc-text">6.Timed Observations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-Managing-Closed-Caption-Display"><span class="toc-text">7.Managing Closed Caption Display</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-Managing-Audio-Output"><span class="toc-text">8.Managing Audio Output</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-Player-Properties"><span class="toc-text">9.Player Properties</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-Media-Selection-Criteria-Settings-abbr"><span class="toc-text">10.Media Selection Criteria Settings (abbr.)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-Constants"><span class="toc-text">11.Constants</span></a></li></ol>
    </div>
  </div><div class="post-content"><h4 id="1-Create-a-Player"><a href="#1-Create-a-Player" class="headerlink" title="1.Create a Player"></a>1.Create a Player</h4><ul>
<li><p>With a url: </p>
<ul>
<li>implicitly create an <code>AVPlayerItem</code> object. Getting it by <code>currentItem</code>.</li>
</ul>
</li>
<li><p>With a player item: </p>
<ul>
<li>used to play items for which an <code>AVAsset</code> object has previously been created.</li>
</ul>
</li>
</ul>
<h4 id="2-Managing-Playback"><a href="#2-Managing-Playback" class="headerlink" title="2.Managing Playback"></a>2.Managing Playback</h4><ul>
<li><p>play: </p>
<ul>
<li>same as setting <code>rate</code> to <code>1.0</code>.</li>
</ul>
</li>
<li><p>pause:</p>
<ul>
<li>same as setting <code>rate</code> to <code>0.0</code>.</li>
</ul>
</li>
<li><p>rate: </p>
<ul>
<li>other than <code>0.0</code> and <code>1.0</code>, rate can be used if the associated player item returns <code>YES</code> for the <code>AVPlayerItem</code> properties<code>canPlaySlowForward</code> or <code>canPlayFastForward</code>.</li>
</ul>
</li>
<li><p>actionAtItemEnd：</p>
<ul>
<li><code>AVPlayerActionAtItemEndAdvance</code>: only for <code>AVQueuePlayer</code></li>
<li><code>AVPlayerActionAtItemEndPause</code>: default </li>
<li><code>AVPlayerActionAtItemEndNone</code>: let it be free. :P</li>
</ul>
</li>
<li><p>replaceCurrentItemWithPlayerItem: </p>
<ul>
<li>only for player instances without queues. </li>
<li>Use key-value observing to observe the currentItem property for changes.</li>
<li><u>Well, what does it means by ‘The new item must have the same compositor as the item it replaces, or have no compositor.’ ?</u></li>
</ul>
</li>
<li><p>prerollAtRate:completionHandler:</p>
<ul>
<li>loads data starting at the item’s current playback time.</li>
<li>only be set when <code>status</code> of player is <code>AVPlayerStatusReadyToPlay</code>, otherwise an exception is thown.</li>
</ul>
</li>
<li><p>cancelPendingPrerolls: </p>
<ul>
<li>cancels any pending operations to prepare the render pipeline for the current item.</li>
</ul>
</li>
</ul>
<h4 id="3-Managing-Time"><a href="#3-Managing-Time" class="headerlink" title="3.Managing Time"></a>3.Managing Time</h4><ul>
<li><p>currentTime: </p>
<ul>
<li><code>CMTime</code>,  <code>CoreMediaFramework</code></li>
<li>not key-value observable.</li>
<li>use <code>addPeriodicTimeObserverForInterval:queue:usingBlock:</code> or <code>addBoundaryTimeObserverForTimes:queue:usingBlock:</code> instead.</li>
</ul>
</li>
<li><p>seekToTime:completionHandler::</p>
<ul>
<li>Moves the playback cursor and executes the specified block when the seek operation has either been completed or been interrupted.</li>
</ul>
</li>
<li><p>other <code>seek</code> functions: nearly the same.</p>
</li>
</ul>
<h4 id="4-Managing-External-Playback-abbr"><a href="#4-Managing-External-Playback-abbr" class="headerlink" title="4.Managing External Playback (abbr.)"></a>4.Managing External Playback (abbr.)</h4><h4 id="5-Synchronizing-Playback-to-an-External-Source-abbr"><a href="#5-Synchronizing-Playback-to-an-External-Source-abbr" class="headerlink" title="5.Synchronizing Playback to an External Source (abbr.)"></a>5.Synchronizing Playback to an External Source (abbr.)</h4><h4 id="6-Timed-Observations"><a href="#6-Timed-Observations" class="headerlink" title="6.Timed Observations"></a>6.Timed Observations</h4><ul>
<li><p><strong>addPeriodicTimeObserverForInterval:queue:usingBlock:</strong></p>
<ul>
<li>requests invocation of a given block during playback to report changing time.</li>
<li><u>** You must retain the returned value as long as you want the time observer to be invoked by the player. Each invocation of this method should be paired with a corresponding call to <code>removeTimeObserver:</code>.**</u></li>
<li><strong>Attention:</strong> Releasing the observer object without invoking <code>removeTimeObserver:</code> will result in undefined behavior.</li>
</ul>
</li>
<li><p>addBoundaryTimeObserverForTimes:queue:usingBlock: (abbr.)</p>
</li>
<li><strong>removeTimeObserver:</strong><ul>
<li>Upon return, the caller is guaranteed that no new time observer blocks will begin executing. Depending on the calling thread and the queue used to add the time observer, an in-flight block may continue to execute after this method returns. You can guarantee synchronous time observer removal by enqueuing the call to <code>removeTimeObserver</code> on that queue. Alternatively, call <code>dispatch_sync(queue, ^{})</code> after <code>removeTimeObserver</code> to wait for any in-flight blocks to finish executing.</li>
</ul>
</li>
</ul>
<h4 id="7-Managing-Closed-Caption-Display"><a href="#7-Managing-Closed-Caption-Display" class="headerlink" title="7.Managing Closed Caption Display"></a>7.Managing Closed Caption Display</h4><ul>
<li>closedCaptionDisplayEnabled:<ul>
<li>Indicates whether the player uses closed captioning.</li>
</ul>
</li>
</ul>
<h4 id="8-Managing-Audio-Output"><a href="#8-Managing-Audio-Output" class="headerlink" title="8.Managing Audio Output"></a>8.Managing Audio Output</h4><ul>
<li>muted:<ul>
<li>Indicates whether the audio output of the player is muted.</li>
</ul>
</li>
<li><strong>volume:</strong><ul>
<li>audio playback volume for the player, ranging from 0.0 through 1.0 on a linear scale.</li>
<li>To provide UI in iOS for adjusting system audio playback volume, use the <code>MPVolumeView</code> class, which provides media playback controls that iOS users expect and whose appearance you can customize.</li>
</ul>
</li>
</ul>
<h4 id="9-Player-Properties"><a href="#9-Player-Properties" class="headerlink" title="9.Player Properties"></a>9.Player Properties</h4><ul>
<li>status:<ul>
<li>Indicates whether the player can be used for playback. (read-only)</li>
<li>When the value of this property is <code>AVPlayerStatusFailed</code>, you can no longer use the player for playback and you need to create a new instance to replace it. If this happens, you can check the value of the error property to determine the nature of the failure.</li>
<li>This property is key value observable using <code>Key-value observing</code>.</li>
</ul>
</li>
<li>error:<ul>
<li>If the receiver’s status is AVPlayerStatusFailed, this describes the error that caused the failure. (read-only)</li>
</ul>
</li>
<li>currentItem:<ul>
<li>The player’s current item. (read-only)</li>
</ul>
</li>
<li>outputObscuredDueToInsufficientExternalProtection (abbr.)</li>
</ul>
<h4 id="10-Media-Selection-Criteria-Settings-abbr"><a href="#10-Media-Selection-Criteria-Settings-abbr" class="headerlink" title="10.Media Selection Criteria Settings (abbr.)"></a>10.Media Selection Criteria Settings (abbr.)</h4><h4 id="11-Constants"><a href="#11-Constants" class="headerlink" title="11.Constants"></a>11.Constants</h4><ul>
<li><p>AVPlayerStatus:</p>
<ul>
<li>Possible values of the status property, to indicate whether it can successfully play items.</li>
</ul>
</li>
<li><p>AVPlayerActionAtItemEnd (abbr.)</p>
</li>
</ul>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://www.caliosd.gq">Calios</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://www.caliosd.gq/2015/09/24/AVPlayer-class-reference/">http://www.caliosd.gq/2015/09/24/AVPlayer-class-reference/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/iOS/">iOS</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2015/09/25/install-MongoDB-in-OS-X/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">OS X安装MongoDB</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/2015/09/18/lsof-usage/">
        <span class="next-text nav-default">lsof——Mac查看端口占用情况</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:calios_1124@163.com" class="iconfont icon-email" title="email"></a>
        <a href="http://github.com/caliosd" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Calios</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
