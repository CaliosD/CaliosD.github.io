<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="Stedfast as thou art."/><link rel="alternate" href="/atom.xml" title="Calios' Eden"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://www.caliosd.gq/page/10/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>Calios' Eden</title>
  <link rel="alternate" href="/atom.xml" title="Calios' Eden" type="application/atom+xml">
</head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Calios' Eden</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Calios' Eden</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags/">
            Tags
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><section id="posts" class="posts"><article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/11/12/how-not-to-crash-0-catalog/">ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-0ï¼šç›®å½•</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-11-12
        </span></div>
    </header>

    <div class="post-content"><p>åŸæ–‡ç´¢å¼•ï¼š</p>
<p><a href="http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind" title="http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind" target="_blank" rel="external">#1: KVOä¸æ‰‹åŠ¨ç»‘å®š</a><br><a href="http://inessential.com/2015/05/16/how_not_to_crash_2_mutation_exceptions" title="http://inessential.com/2015/05/16/how_not_to_crash_2_mutation_exceptions" target="_blank" rel="external">#2: å¯å˜å¯¹è±¡çš„å¼‚å¸¸</a><br><a href="http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification" title="http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification" target="_blank" rel="external">#3: NSNotification</a><br><a href="http://inessential.com/2015/05/22/how_not_to_crash_4_threading" title="http://inessential.com/2015/05/22/how_not_to_crash_4_threading" target="_blank" rel="external">#4: çº¿ç¨‹</a><br><a href="http://inessential.com/2015/05/26/how_not_to_crash_5_threading_part_2" title="http://inessential.com/2015/05/26/how_not_to_crash_5_threading_part_2" target="_blank" rel="external">#5: çº¿ç¨‹2</a><br><a href="http://inessential.com/2015/05/27/how_not_to_crash_6_properties_and_acce" title="http://inessential.com/2015/05/27/how_not_to_crash_6_properties_and_acce" target="_blank" rel="external">#6: å±æ€§å’Œå­˜å–å™¨</a><br><a href="http://inessential.com/2015/05/29/how_not_to_crash_7_dealing_with_nothin" title="http://inessential.com/2015/05/29/how_not_to_crash_7_dealing_with_nothin" target="_blank" rel="external">#7: ä»€ä¹ˆéƒ½ä¸åš</a><br><a href="http://inessential.com/2015/06/10/how_not_to_crash_8_infrastructure" title="http://inessential.com/2015/06/10/how_not_to_crash_8_infrastructure" target="_blank" rel="external">#8: åŸºæœ¬æ¶æ„</a><br><a href="http://inessential.com/2015/06/10/how_not_to_crash_9_mindset" title="http://inessential.com/2015/06/10/how_not_to_crash_9_mindset" target="_blank" rel="external">#9: å¿ƒæ€</a></p>
<hr>
<p>è¯‘æ–‡ç´¢å¼•ï¼š</p>
<p><a href="http://www.caliosd.gq/2015/11/12/how-not-to-crash-1-kvo-and-manual-bind/" title="http://www.caliosd.gq/2015/11/12/how-not-to-crash-1-kvo-and-manual-bind/">#1: KVOä¸æ‰‹åŠ¨ç»‘å®š</a><br><a href="http://www.caliosd.gq/2015/11/13/how-not-to-crash-2-mutation-exceptions/" title="http://www.caliosd.gq/2015/11/13/how-not-to-crash-2-mutation-exceptions/">#2: å¯å˜å¯¹è±¡çš„å¼‚å¸¸</a><br><a href="http://www.caliosd.gq/2015/11/16/how-not-to-crash-3-nsnotification/" title="http://www.caliosd.gq/2015/11/16/how-not-to-crash-3-nsnotification/">#3: NSNotification</a><br><a href="http://www.caliosd.gq/2015/11/19/how-not-to-crash-4-threading/" title="http://www.caliosd.gq/2015/11/19/how-not-to-crash-4-threading/">#4: çº¿ç¨‹</a><br><a href="http://www.caliosd.gq/2015/11/26/how-not-to-crash-5-threading-part-2/" title="http://www.caliosd.gq/2015/11/26/how-not-to-crash-5-threading-part-2/">#5: çº¿ç¨‹2</a><br><a href="http://www.caliosd.gq/2015/11/26/how-not-to-crash-6-properties-and-accessories/" title="http://www.caliosd.gq/2015/11/26/how-not-to-crash-6-properties-and-accessories/">#6: å±æ€§å’Œå­˜å–å™¨</a><br><a href="http://www.caliosd.gq/2015/12/19/how-not-to-crash-7-dealing-with-nothing/" title="http://www.caliosd.gq/2015/12/19/how-not-to-crash-7-dealing-with-nothing/">#7: ä»€ä¹ˆéƒ½ä¸åš</a><br><a href="http://www.caliosd.gq/2016/01/21/how-not-to-crash-8-infrastructure/" title="http://www.caliosd.gq/2016/01/21/how-not-to-crash-8-infrastructure/">#8: åŸºæœ¬æ¶æ„</a><br><a href="http://www.caliosd.gq/2016/02/24/how-not-to-crash-9-mindset/" title="http://www.caliosd.gq/2016/02/24/how-not-to-crash-9-mindset/">#9: å¿ƒæ€</a></p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/25/install-MongoDB-in-OS-X/">OS Xå®‰è£…MongoDB</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-25
        </span></div>
    </header>

    <div class="post-content"><p>åœ¨OS Xä¸­ï¼Œä½¿ç”¨<a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a>å®Œæˆå„ç§packageçš„å®‰è£…å·¥ä½œæ— ç–‘æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚å¦‚ä¸‹æ˜¯ä½¿ç”¨Homebrewå®‰è£…MongoDBçš„æ­¥éª¤ã€‚</p>
<h4 id="1-æ›´æ–°Homebrewçš„packageæ•°æ®åº“"><a href="#1-æ›´æ–°Homebrewçš„packageæ•°æ®åº“" class="headerlink" title="1.æ›´æ–°Homebrewçš„packageæ•°æ®åº“"></a>1.æ›´æ–°Homebrewçš„packageæ•°æ®åº“</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> brew update</span></div></pre></td></tr></table></figure>
<h4 id="2-å®‰è£…MongoDB"><a href="#2-å®‰è£…MongoDB" class="headerlink" title="2.å®‰è£…MongoDB"></a>2.å®‰è£…MongoDB</h4><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ brew install mongodb</div><div class="line">==\&gt; Downloading https:<span class="comment">//homebrew.bintray.com/bottles/mongodb-3.0.6.yosemite.bottle.tar.gz</span></div><div class="line">###### \#\#########                                                          <span class="number">23.0</span>%</div><div class="line">curl: (<span class="number">56</span>) SSLRead() return error <span class="number">-9806</span></div><div class="line">Error: Failed to download resource <span class="string">"mongodb"</span></div><div class="line">Download failed: https:<span class="comment">//homebrew.bintray.com/bottles/mongodb-3.0.6.yosemite.bottle.tar.gz</span></div><div class="line">Warning: Bottle installation failed: building <span class="keyword">from</span> source.</div><div class="line">==\&gt; Downloading https:<span class="comment">//fastdl.mongodb.org/src/mongodb-src-r3.0.6.tar.gz</span></div><div class="line">###### \#\################################################################# <span class="number">100.0</span>%</div><div class="line">==\&gt; Cloning https:<span class="comment">//github.com/mongodb/mongo-tools.git</span></div><div class="line">Cloning into <span class="string">'/Library/Caches/Homebrew/mongodb--github.com-mongodb-mongo-tools--git'</span>...</div><div class="line">remote: Counting objects: <span class="number">1180</span>, done.</div><div class="line">remote: Compressing objects: <span class="number">100</span>% (<span class="number">950</span>/<span class="number">950</span>), done.</div><div class="line">remote: Total <span class="number">1180</span> (delta <span class="number">184</span>), reused <span class="number">840</span> (delta <span class="number">136</span>), pack-reused <span class="number">0</span></div><div class="line">Receiving objects: <span class="number">100</span>% (<span class="number">1180</span>/<span class="number">1180</span>), <span class="number">1.86</span> MiB | <span class="number">230.00</span> KiB/s, done.</div><div class="line">Resolving deltas: <span class="number">100</span>% (<span class="number">184</span>/<span class="number">184</span>), done.</div><div class="line">Checking connectivity... done.</div><div class="line">Note: checking out <span class="string">'7588eb887549bd5d2fc7bbc08f7c62d4b29b9d75'</span>.</div></pre></td></tr></table></figure>
<p>You are in â€˜detached HEADâ€™ state. You can look around, make experimental<br>changes and commit them, and you can discard any commits you make in this<br>state without impacting any branches by performing another checkout.</p>
<p>If you want to create a new branch to retain commits you create, you may<br>do so (now or later) by using -b with the checkout command again. Example:<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">  git checkout -b new\_branch\_name</div><div class="line"></div><div class="line">=<span class="ruby">=&gt; Checking out tag r3.<span class="number">0</span>.<span class="number">6</span></span></div><div class="line">=<span class="ruby">=&gt; ./build.sh</span></div><div class="line">=<span class="ruby">=&gt; /usr/local/opt/scons/bin/scons install --prefix=<span class="regexp">/usr/local</span><span class="regexp">/Cellar/mongodb</span><span class="regexp">/3.0.6 -j8 --osx-version-min=10.10 --cc=</span></span></div><div class="line">=<span class="ruby"><span class="regexp">=&gt; Caveats</span></span></div><div class="line">To have launchd start mongodb at login:</div><div class="line">  ln -sfv /usr/local/opt/mongodb/\*.plist \~/Library/LaunchAgents</div><div class="line">Then to load mongodb now:</div><div class="line">  launchctl load \~/Library/LaunchAgents/homebrew.mxcl.mongodb.plist</div><div class="line">Or, if you don't want/need launchctl, you can just run:</div><div class="line">  mongod --config /usr/local/etc/mongod.conf</div><div class="line">=<span class="ruby"><span class="regexp">=&gt; Summary</span></span></div><div class="line">ğŸº  /usr/local/Cellar/mongodb/3.0.6: 17 files, 158M, built in 7.2 minutes</div></pre></td></tr></table></figure></p>
<p>çœ‹èµ·æ¥é€šè¿‡Homebrewçš„bottleæ¥å®‰è£…å¤±è´¥ï¼Œäºæ˜¯å¼€å§‹ä¸‹è½½æºä»£ç æ¥ç¼–è¯‘ï¼Œæœ€ç»ˆå®‰è£…æˆåŠŸã€‚</p>
<h4 id="3-å¯åŠ¨MongoDB"><a href="#3-å¯åŠ¨MongoDB" class="headerlink" title="3.å¯åŠ¨MongoDB"></a>3.å¯åŠ¨MongoDB</h4><p>æŒ‰ç…§Terminalä¸­çš„æç¤ºï¼Œç›´æ¥å¯åŠ¨MongoDBã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> mongod --config /usr/<span class="built_in">local</span>/etc/mongod.conf</span></div></pre></td></tr></table></figure>
<p>é€šè¿‡Terminalç›´æ¥è¿æ¥MongoDBã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> mongo</span></div><div class="line">MongoDB shell version: 3.0.6</div><div class="line">connecting to: test</div><div class="line"><span class="meta">&gt;</span><span class="bash"></span></div></pre></td></tr></table></figure>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/" target="_blank" rel="external">http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/</a></p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/24/AVPlayer-class-reference/">AVPlayer Class Reference</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-24
        </span></div>
    </header>

    <div class="post-content"><h4 id="1-Create-a-Player"><a href="#1-Create-a-Player" class="headerlink" title="1.Create a Player"></a>1.Create a Player</h4><ul>
<li><p>With a url: </p>
<ul>
<li>implicitly create an <code>AVPlayerItem</code> object. Getting it by <code>currentItem</code>.</li>
</ul>
</li>
<li><p>With a player item: </p>
<ul>
<li>used to play items for which an <code>AVAsset</code> object has previously been created.</li>
</ul>
</li>
</ul>
<h4 id="2-Managing-Playback"><a href="#2-Managing-Playback" class="headerlink" title="2.Managing Playback"></a>2.Managing Playback</h4><ul>
<li><p>play: </p>
<ul>
<li>same as setting <code>rate</code> to <code>1.0</code>.</li>
</ul>
</li>
<li><p>pause:</p>
<ul>
<li>same as setting <code>rate</code> to <code>0.0</code>.</li>
</ul>
</li>
<li><p>rate: </p>
<ul>
<li>other than <code>0.0</code> and <code>1.0</code>, rate can be used if the associated player item returns <code>YES</code> for the <code>AVPlayerItem</code> properties<code>canPlaySlowForward</code> or <code>canPlayFastForward</code>.</li>
</ul>
</li>
<li><p>actionAtItemEndï¼š</p>
<ul>
<li><code>AVPlayerActionAtItemEndAdvance</code>: only for <code>AVQueuePlayer</code></li>
<li><code>AVPlayerActionAtItemEndPause</code>: default </li>
<li><code>AVPlayerActionAtItemEndNone</code>: let it be free. :P</li>
</ul>
</li>
<li><p>replaceCurrentItemWithPlayerItem: </p>
<ul>
<li>only for player instances without queues. </li>
<li>Use key-value observing to observe the currentItem property for changes.</li>
<li><u>Well, what does it means by â€˜The new item must have the same compositor as the item it replaces, or have no compositor.â€™ ?</u></li>
</ul>
</li>
<li><p>prerollAtRate:completionHandler:</p>
<ul>
<li>loads data starting at the itemâ€™s current playback time.</li>
<li>only be set when <code>status</code> of player is <code>AVPlayerStatusReadyToPlay</code>, otherwise an exception is thown.</li>
</ul>
</li>
<li><p>cancelPendingPrerolls: </p>
<ul>
<li>cancels any pending operations to prepare the render pipeline for the current item.</li>
</ul>
</li>
</ul>
<h4 id="3-Managing-Time"><a href="#3-Managing-Time" class="headerlink" title="3.Managing Time"></a>3.Managing Time</h4><ul>
<li><p>currentTime: </p>
<ul>
<li><code>CMTime</code>,  <code>CoreMediaFramework</code></li>
<li>not key-value observable.</li>
<li>use <code>addPeriodicTimeObserverForInterval:queue:usingBlock:</code> or <code>addBoundaryTimeObserverForTimes:queue:usingBlock:</code> instead.</li>
</ul>
</li>
<li><p>seekToTime:completionHandler::</p>
<ul>
<li>Moves the playback cursor and executes the specified block when the seek operation has either been completed or been interrupted.</li>
</ul>
</li>
<li><p>other <code>seek</code> functions: nearly the same.</p>
</li>
</ul>
<h4 id="4-Managing-External-Playback-abbr"><a href="#4-Managing-External-Playback-abbr" class="headerlink" title="4.Managing External Playback (abbr.)"></a>4.Managing External Playback (abbr.)</h4><h4 id="5-Synchronizing-Playback-to-an-External-Source-abbr"><a href="#5-Synchronizing-Playback-to-an-External-Source-abbr" class="headerlink" title="5.Synchronizing Playback to an External Source (abbr.)"></a>5.Synchronizing Playback to an External Source (abbr.)</h4><h4 id="6-Timed-Observations"><a href="#6-Timed-Observations" class="headerlink" title="6.Timed Observations"></a>6.Timed Observations</h4><ul>
<li><p><strong>addPeriodicTimeObserverForInterval:queue:usingBlock:</strong></p>
<ul>
<li>requests invocation of a given block during playback to report changing time.</li>
<li><u>** You must retain the returned value as long as you want the time observer to be invoked by the player. Each invocation of this method should be paired with a corresponding call to <code>removeTimeObserver:</code>.**</u></li>
<li><strong>Attention:</strong> Releasing the observer object without invoking <code>removeTimeObserver:</code> will result in undefined behavior.</li>
</ul>
</li>
<li><p>addBoundaryTimeObserverForTimes:queue:usingBlock: (abbr.)</p>
</li>
<li><strong>removeTimeObserver:</strong><ul>
<li>Upon return, the caller is guaranteed that no new time observer blocks will begin executing. Depending on the calling thread and the queue used to add the time observer, an in-flight block may continue to execute after this method returns. You can guarantee synchronous time observer removal by enqueuing the call to <code>removeTimeObserver</code> on that queue. Alternatively, call <code>dispatch_sync(queue, ^{})</code> after <code>removeTimeObserver</code> to wait for any in-flight blocks to finish executing.</li>
</ul>
</li>
</ul>
<h4 id="7-Managing-Closed-Caption-Display"><a href="#7-Managing-Closed-Caption-Display" class="headerlink" title="7.Managing Closed Caption Display"></a>7.Managing Closed Caption Display</h4><ul>
<li>closedCaptionDisplayEnabled:<ul>
<li>Indicates whether the player uses closed captioning.</li>
</ul>
</li>
</ul>
<h4 id="8-Managing-Audio-Output"><a href="#8-Managing-Audio-Output" class="headerlink" title="8.Managing Audio Output"></a>8.Managing Audio Output</h4><ul>
<li>muted:<ul>
<li>Indicates whether the audio output of the player is muted.</li>
</ul>
</li>
<li><strong>volume:</strong><ul>
<li>audio playback volume for the player, ranging from 0.0 through 1.0 on a linear scale.</li>
<li>To provide UI in iOS for adjusting system audio playback volume, use the <code>MPVolumeView</code> class, which provides media playback controls that iOS users expect and whose appearance you can customize.</li>
</ul>
</li>
</ul>
<h4 id="9-Player-Properties"><a href="#9-Player-Properties" class="headerlink" title="9.Player Properties"></a>9.Player Properties</h4><ul>
<li>status:<ul>
<li>Indicates whether the player can be used for playback. (read-only)</li>
<li>When the value of this property is <code>AVPlayerStatusFailed</code>, you can no longer use the player for playback and you need to create a new instance to replace it. If this happens, you can check the value of the error property to determine the nature of the failure.</li>
<li>This property is key value observable using <code>Key-value observing</code>.</li>
</ul>
</li>
<li>error:<ul>
<li>If the receiverâ€™s status is AVPlayerStatusFailed, this describes the error that caused the failure. (read-only)</li>
</ul>
</li>
<li>currentItem:<ul>
<li>The playerâ€™s current item. (read-only)</li>
</ul>
</li>
<li>outputObscuredDueToInsufficientExternalProtection (abbr.)</li>
</ul>
<h4 id="10-Media-Selection-Criteria-Settings-abbr"><a href="#10-Media-Selection-Criteria-Settings-abbr" class="headerlink" title="10.Media Selection Criteria Settings (abbr.)"></a>10.Media Selection Criteria Settings (abbr.)</h4><h4 id="11-Constants"><a href="#11-Constants" class="headerlink" title="11.Constants"></a>11.Constants</h4><ul>
<li><p>AVPlayerStatus:</p>
<ul>
<li>Possible values of the status property, to indicate whether it can successfully play items.</li>
</ul>
</li>
<li><p>AVPlayerActionAtItemEnd (abbr.)</p>
</li>
</ul>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/18/lsof-usage/">lsofâ€”â€”MacæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-18
        </span></div>
    </header>

    <div class="post-content"><h4 id="Issue"><a href="#Issue" class="headerlink" title="Issue"></a>Issue</h4><p>åœ¨æœ¬åœ°é€šè¿‡Node.jsèµ·äº†ä¸€ä¸ªæœåŠ¡æ¥ç›‘å¬3000ç«¯å£ï¼Œåœ¨Terminalæ‰§è¡Œ<code>node index.js</code> åå¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè€Œå<strong>ç›´æ¥</strong>å†æ¬¡æ‰§è¡Œ<code>node index.js</code>ã€‚æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="string">Gulugulu:</span>myapp calios$ node index.js</div><div class="line">events.<span class="string">js:</span><span class="number">85</span></div><div class="line">	  <span class="keyword">throw</span> er; <span class="comment">// Unhandled 'error' event</span></div><div class="line">	        ^</div><div class="line"><span class="string">Error:</span> listen EADDRINUSE</div><div class="line">	at exports._errnoException (util.<span class="string">js:</span><span class="number">746</span>:<span class="number">11</span>)</div><div class="line">	at Server._listen2 (net.<span class="string">js:</span><span class="number">1156</span>:<span class="number">14</span>)</div><div class="line">	at listen (net.<span class="string">js:</span><span class="number">1182</span>:<span class="number">10</span>)</div><div class="line">	at Server.listen (net.<span class="string">js:</span><span class="number">1267</span>:<span class="number">5</span>)</div><div class="line">	at EventEmitter.listen (<span class="regexp">/Users/</span>calios<span class="regexp">/Documents/</span>MyWorkspace<span class="regexp">/Front/</span>Node<span class="regexp">/myapp/</span>node_modules<span class="regexp">/express/</span>lib/application.<span class="string">js:</span><span class="number">617</span>:<span class="number">24</span>)</div><div class="line">	at Object.&lt;anonymous&gt; (<span class="regexp">/Users/</span>calios<span class="regexp">/Documents/</span>MyWorkspace<span class="regexp">/Front/</span>Node<span class="regexp">/myapp/</span>index.<span class="string">js:</span><span class="number">10</span>:<span class="number">18</span>)</div><div class="line">	at Module._compile (module.<span class="string">js:</span><span class="number">460</span>:<span class="number">26</span>)</div><div class="line">	at Object.Module._extensions..js (module.<span class="string">js:</span><span class="number">478</span>:<span class="number">10</span>)</div><div class="line">	at Module.load (module.<span class="string">js:</span><span class="number">355</span>:<span class="number">32</span>)</div><div class="line">	at Function.Module._load (module.<span class="string">js:</span><span class="number">310</span>:<span class="number">12</span>)</div></pre></td></tr></table></figure>
<h4 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h4><p>é¦–å…ˆæŸ¥çœ‹<code>3000</code>ç«¯å£æ˜¯å¦å·²è¢«å ç”¨ã€‚</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ lsof -i :3000 (3000å¯æ›¿æ¢ä¸ºå…¶ä»–æƒ³æŸ¥çœ‹çš„ç«¯å£å·)</div><div class="line">COMMAND   PID  <span class="built_in"> USER </span>  FD  <span class="built_in"> TYPE </span>            DEVICE SIZE/OFF NODE NAME</div><div class="line">node    48002 calios   14u <span class="built_in"> IPv6 </span>0x9534c78c493eedc3      0t0  TCP \*:hbci (LISTEN)</div></pre></td></tr></table></figure>
<p>å‘ç°æ­£æ˜¯åˆšæ‰nodeèµ·æ¥çš„æœåŠ¡æ­£åœ¨å ç”¨ï¼Œkillæ‰è¿™ä¸ª<code>PID</code>ä¸º<code>48002</code>çš„å®¶ä¼™ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">kill</span> -9 48002</span></div></pre></td></tr></table></figure>
<p>æ­¤æ—¶å†æ‰§è¡Œ<code>node index.js</code>å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<h4 id="More"><a href="#More" class="headerlink" title="More"></a>More</h4><h5 id="lsof-list-open-files"><a href="#lsof-list-open-files" class="headerlink" title="lsof(list open files)"></a>lsof(list open files)</h5><blockquote>
<p>Lsof lists on its standard output file information about files opened by processes.</p>
<p>An open file may be a regular file, a directory, a block special file, a character special  file,  an executing  text  reference,  a library, a stream or a network file (Internet socket, NFS file or UNIX domain socket.)  A specific file or all the files in a file system may be selected by path.</p>
<p>-i [i]  selects the listing of files any of whose Internet address matches the address specified  in i.   If  no  address  is specified, this option selects the listing of all Internet and x.25(HP-UX) network files.<br> [46][protocol][@hostname|hostaddr][:service|port]</p>
</blockquote>
<p>And hereâ€™s some functional commands.</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">lsof `which httpd`           <span class="comment">//é‚£ä¸ªè¿›ç¨‹åœ¨ä½¿ç”¨apacheçš„å¯æ‰§è¡Œæ–‡ä»¶</span></div><div class="line">lsof /etc/passwd             <span class="comment">//é‚£ä¸ªè¿›ç¨‹åœ¨å ç”¨/etc/passwd</span></div><div class="line">lsof /dev/hda6               <span class="comment">//é‚£ä¸ªè¿›ç¨‹åœ¨å ç”¨hda6</span></div><div class="line">lsof /dev/cdrom              <span class="comment">//é‚£ä¸ªè¿›ç¨‹åœ¨å ç”¨å…‰é©±</span></div><div class="line">lsof -c sendmail             <span class="comment">//æŸ¥çœ‹sendmailè¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ</span></div><div class="line">lsof -c courier -u ^zahn     <span class="comment">//æ˜¾ç¤ºå‡ºé‚£äº›æ–‡ä»¶è¢«ä»¥courieræ‰“å¤´çš„è¿›ç¨‹æ‰“å¼€ï¼Œä½†æ˜¯å¹¶ä¸å±äºç”¨æˆ·zahn</span></div><div class="line">lsof -<span class="selector-tag">p</span> <span class="number">30297</span>                <span class="comment">//æ˜¾ç¤ºé‚£äº›æ–‡ä»¶è¢«pidä¸º30297çš„è¿›ç¨‹æ‰“å¼€</span></div><div class="line">lsof -D /tmp                 <span class="comment">//æ˜¾ç¤ºæ‰€æœ‰åœ¨/tmpæ–‡ä»¶å¤¹ä¸­æ‰“å¼€çš„instanceå’Œæ–‡ä»¶çš„è¿›ç¨‹ã€‚ä½†æ˜¯symbolæ–‡ä»¶å¹¶ä¸åœ¨åˆ—</span></div><div class="line"></div><div class="line">lsof -u1000                  <span class="comment">//æŸ¥çœ‹uidæ˜¯100çš„ç”¨æˆ·çš„è¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ</span></div><div class="line">lsof -utony                  <span class="comment">//æŸ¥çœ‹ç”¨æˆ·tonyçš„è¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ</span></div><div class="line">lsof -u^tony                 <span class="comment">//æŸ¥çœ‹ä¸æ˜¯ç”¨æˆ·tonyçš„è¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ(^æ˜¯å–åçš„æ„æ€)</span></div><div class="line">lsof -<span class="selector-tag">i</span>                      <span class="comment">//æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„ç«¯å£</span></div><div class="line">lsof -<span class="selector-tag">i</span>:<span class="number">80</span>                   <span class="comment">//æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€80ç«¯å£çš„è¿›ç¨‹</span></div><div class="line">lsof -<span class="selector-tag">i</span> -U                   <span class="comment">//æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„ç«¯å£å’ŒUNIX domainæ–‡ä»¶</span></div><div class="line">lsof -<span class="selector-tag">i</span> UDP@[url]www<span class="selector-class">.akadia</span><span class="selector-class">.com</span>:<span class="number">123</span>     <span class="comment">//æ˜¾ç¤ºé‚£äº›è¿›ç¨‹æ‰“å¼€äº†åˆ°www.akadia.comçš„UDPçš„123(ntp)ç«¯å£çš„é“¾æ¥</span></div><div class="line">lsof -<span class="selector-tag">i</span> tcp@ohaha<span class="selector-class">.ks</span><span class="selector-class">.edu</span><span class="selector-class">.tw</span>:ftp -r      <span class="comment">//ä¸æ–­æŸ¥çœ‹ç›®å‰ftpè¿æ¥çš„æƒ…å†µ(-rï¼Œlsofä¼šæ°¸è¿œä¸æ–­çš„æ‰§è¡Œï¼Œç›´åˆ°æ”¶åˆ°ä¸­æ–­ä¿¡å·,+rï¼Œlsofä¼šä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°æ²¡æœ‰æ¡£æ¡ˆè¢«æ˜¾ç¤º,ç¼ºçœæ˜¯15såˆ·æ–°)</span></div><div class="line">lsof -<span class="selector-tag">i</span> tcp@ohaha<span class="selector-class">.ks</span><span class="selector-class">.edu</span><span class="selector-class">.tw</span>:ftp -n      <span class="comment">//lsof -n ä¸å°†IPè½¬æ¢ä¸ºhostnameï¼Œç¼ºçœæ˜¯ä¸åŠ ä¸Š-nå‚æ•°</span></div></pre></td></tr></table></figure>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316599.html" target="_blank" rel="external">http://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316599.html</a></p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/17/ios9-http-not-work/">ã€è½¬ã€‘iOS9 HTTP ä¸èƒ½æ­£å¸¸ä½¿ç”¨çš„è§£å†³åŠæ³•</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-17
        </span></div>
    </header>

    <div class="post-content"><p><strong>åŸæ–‡é“¾æ¥ï¼š</strong> <a href="http://segmentfault.com/a/1190000002933776" target="_blank" rel="external">http://segmentfault.com/a/1190000002933776</a></p>
<p>ä»Šå¤©å‡çº§Xcode 7.0 bataå‘ç°ç½‘ç»œè®¿é—®å¤±è´¥ã€‚<br>è¾“å‡ºé”™è¯¯ä¿¡æ¯</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">The<span class="built_in"> resource </span>could <span class="keyword">not</span> be loaded because the App Transport Security<span class="built_in"> policy </span>requires the use of a secure connection.</div></pre></td></tr></table></figure>
<p>GoogleåæŸ¥è¯ï¼ŒiOS9å¼•å…¥äº†æ–°ç‰¹æ€§<code>App Transport Security (ATS)</code>ã€‚è¯¦æƒ…ï¼š<a href="https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html#//apple_ref/doc/uid/TP40016198-DontLinkElementID_13" target="_blank" rel="external">App Transport Security (ATS)</a></p>
<p>æ–°ç‰¹æ€§è¦æ±‚Appå†…è®¿é—®çš„ç½‘ç»œå¿…é¡»ä½¿ç”¨<code>HTTPS</code>åè®®ã€‚<br>ä½†æ˜¯ç°åœ¨å…¬å¸çš„é¡¹ç›®ä½¿ç”¨çš„æ˜¯<code>HTTP</code>åè®®ï¼Œä½¿ç”¨ç§æœ‰åŠ å¯†æ–¹å¼ä¿è¯æ•°æ®å®‰å…¨ã€‚ç°åœ¨ä¹Ÿä¸èƒ½é©¬ä¸Šæ”¹æˆ<code>HTTPS</code>åè®®ä¼ è¾“ã€‚</p>
<p>æœ€ç»ˆæ‰¾åˆ°ä»¥ä¸‹è§£å†³åŠæ³•ï¼š</p>
<p>1.åœ¨Info.plistä¸­æ·»åŠ <code>NSAppTransportSecurity</code>ç±»å‹<code>Dictionary</code>ã€‚</p>
<p>2.åœ¨<code>NSAppTransportSecurity</code>ä¸‹æ·»åŠ <code>NSAllowsArbitraryLoads</code>ç±»å‹<code>Boolean</code>,å€¼è®¾ä¸º<code>YES</code>ã€‚</p>
<hr>
<p><strong>å‚è€ƒï¼š</strong></p>
<ul>
<li><a href="https://github.com/meteor/meteor/issues/4560" target="_blank" rel="external">App Transport Security support aka apps on iOS 9 donâ€™t work #4560</a></li>
<li><a href="http://devstreaming.apple.com/videos/wwdc/2015/711y6zlz0ll/711/711_networking_with_nsurlsession.pdf?dl=1" target="_blank" rel="external">711_networking_with_nsurlsession.pdf</a></li>
</ul>
<hr>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>è‹¹æœæ­£åœ¨åŠ å¤§åº”ç”¨å®‰å…¨çš„ç®¡æ§ï¼Œè¿™ä¸ªä¸¾æªå¯ä»¥çœ‹å‡ºè‹¹æœå¯¹ä¿¡æ¯å®‰å…¨çš„é‡è§†ï¼Œä¹Ÿæš´éœ²å‡ºå¤§éƒ¨åˆ†åº”ç”¨ä¼ è¾“æ•°æ®æ—¶éƒ½æ˜¯æœªç»è¿‡åŠ å¯†çš„ï¼Œæˆ–ä½¿ç”¨ç§æœ‰æ–¹å¼åŠ å¯†ï¼Œä»¥è‡³äºè‹¹æœå¼€å§‹å¯¹å¼€å‘è€…æå‡ºè¦æ±‚ã€‚</p>
<p>ç§æœ‰åŠ å¯†è™½ç„¶ä¸€å®šç¨‹åº¦ä¸Šæ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ç»ˆç©¶ä¸æ˜¯ä¸€ä¸ªé•¿ä¹…ä¹‹è®¡ã€‚å…¨ä¸–ç•Œè¿™ä¹ˆå¤šå®‰å…¨ä¸“å®¶åœ¨ç»´æŠ¤<code>HTTPS</code>å®‰å…¨ï¼Œæ—©æ—¥ä½¿ç”¨<code>HTTPS</code>ç¡®ä¿ä¿¡æ¯å®‰å…¨æ‰æ˜¯ç‹é“ï¼ä¹Ÿçœå»äº†ç§æœ‰åŠ å¯†åè®®çš„å®‰å…¨éšæ‚£ï¼</p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/12/how-to-check-if-an-object-is-an-observer/">ã€è¯‘ã€‘KVO-å¦‚ä½•æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯è§‚å¯Ÿè€…ï¼Ÿ</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-12
        </span></div>
    </header>

    <div class="post-content"><p><strong>åŸæ–‡é“¾æ¥ï¼š<a href="http://stackoverflow.com/questions/9231896/kvo-how-to-check-if-an-object-is-an-observer" target="_blank" rel="external">KVO - How to check if an object is an observer?</a></strong></p>
<hr>
<h4 id="Nikolai-Ruheçš„å›ç­”"><a href="#Nikolai-Ruheçš„å›ç­”" class="headerlink" title="Nikolai Ruheçš„å›ç­”:"></a><a href="http://stackoverflow.com/users/104790/nikolai-ruhe" target="_blank" rel="external">Nikolai Ruhe</a>çš„å›ç­”:</h4><blockquote>
<p>æ˜¯å¦å¯èƒ½æ£€æŸ¥å‡ºä¸€ä¸ªå¯¹è±¡å®é™…ä¸Šæ˜¯å¦åœ¨è§‚å¯ŸæŸä¸ªå±æ€§ï¼Ÿ</p>
</blockquote>
<p>ä¸èƒ½ã€‚å½“å’ŒKVOæ‰“äº¤é“æ—¶ä½ åº”è¯¥è°¨è®°ä»¥ä¸‹è§„åˆ™ï¼š</p>
<p><u>æ¯å½“åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…ï¼ˆobserverï¼‰çš„æ—¶å€™ï¼Œä½ å°±è¦è´Ÿè´£ç§»é™¤è¿™ä¸ªè§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…æ˜¯é€šè¿‡å®ƒçš„ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰æ¥æ ‡è®°å”¯ä¸€æ€§çš„â€”â€”å› æ­¤ï¼Œä¸Šä¸‹æ–‡å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚å½“æ¥æ”¶é€šçŸ¥æ—¶ï¼ˆä»¥åŠåœ¨è‹¹æœçš„Lionç³»ç»Ÿä¸­ï¼Œç§»é™¤è§‚å¯Ÿè€…æ—¶ï¼‰ï¼Œä½ åº”è¯¥æ£€æŸ¥çš„æ˜¯ <strong>ä¸Šä¸‹æ–‡</strong> ï¼Œè€Œä¸æ˜¯pathã€‚</u></p>
<p>å¤„ç†è¢«è§‚å¯Ÿå¯¹è±¡çš„æœ€ä½³æ–¹æ³•æ˜¯ï¼Œåœ¨è¢«è§‚å¯Ÿå¯¹è±¡çš„<code>setter</code>æ–¹æ³•ä¸­ç§»é™¤å’Œåˆ›å»ºKVOäº‹ä»¶ã€‚</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="keyword">int</span> fooObservanceContext;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)<span class="string">setFoo:</span>(Foo \*)foo</div><div class="line">&#123;</div><div class="line">	[_foo <span class="string">removeObserver:</span>self <span class="string">forKeyPath:</span>@<span class="string">"bar"</span> <span class="string">context:</span>&amp;fooObservanceContext];</div><div class="line"></div><div class="line">	_foo = foo; <span class="comment">// or whatever ownership handling is needed.</span></div><div class="line"></div><div class="line">	[foo <span class="string">addObserver:</span>self <span class="string">forKeyPath:</span>@<span class="string">"bar"</span> <span class="string">options:</span><span class="number">0</span> <span class="string">context:</span>&amp;fooObservanceContext];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)<span class="string">observeValueForKeyPath:</span>(NSString *)keyPath <span class="string">ofObject:</span>(id)object <span class="string">change:</span>(NSDictionaryÂ *)change <span class="string">context:</span>(<span class="keyword">void</span> \*)context</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (context == &amp;fooObservanceContext) &#123;</div><div class="line">	    <span class="comment">// handle change</span></div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">	    <span class="comment">// not my observer callback</span></div><div class="line">	    [<span class="keyword">super</span> <span class="string">observeValueForKeyPath:</span>keyPath <span class="string">ofObject:</span>object <span class="string">change:</span>change <span class="string">context:</span>context];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)dealloc</div><div class="line">&#123;</div><div class="line">	self.foo = nil; <span class="comment">// removes observer</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å½“ä½¿ç”¨KVOæ—¶ï¼Œä½ å¿…é¡»ç¡®ä¿è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…è¿™ä¸¤ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå’Œæ­£åœ¨æ‰§è¡Œçš„KVOäº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·é•¿ã€‚</p>
<p>å½“æ·»åŠ ä¸€ä¸ªKVOäº‹ä»¶æ—¶ï¼Œä½ éœ€è¦è¡¡é‡æ˜¯å¦æ­£ç¡®ç§»é™¤äº†åŒä¸€ä¸ªKVOäº‹ä»¶ã€‚ä¸è¦å‡­ç©ºå‡è®¾ï¼Œä½ æ˜¯KVOçš„å”¯ä¸€ä½¿ç”¨è€…ã€‚æ¡†æ¶ä¸­çš„ç±»å¯èƒ½ä¼šæ ¹æ®å®ƒä»¬è‡ªå·±çš„éœ€æ±‚æ¥ä½¿ç”¨KVOï¼Œæ‰€ä»¥éœ€è¦åœ¨å›è°ƒæ—¶æ£€æŸ¥ä¸Šä¸‹æ–‡ã€‚</p>
<p>æœ€åï¼Œæˆ‘æƒ³æŒ‡å‡ºçš„æ˜¯ï¼šè¢«è§‚å¯Ÿçš„å±æ€§å¿…é¡»æ˜¯æ”¯æŒKVOçš„ã€‚<a href="http://stackoverflow.com/questions/4874288/use-key-value-observing-to-get-a-kvo-callback-on-a-uiviews-frame/19701380#19701380" target="_blank" rel="external">ä½ ä¸å¯èƒ½è§‚å¯Ÿä»»ä½•å±æ€§</a>ã€‚</p>
<hr>
<h4 id="Rayfleckçš„å›ç­”"><a href="#Rayfleckçš„å›ç­”" class="headerlink" title="Rayfleckçš„å›ç­”:"></a><a href="http://stackoverflow.com/users/165050/rayfleck" target="_blank" rel="external">Rayfleck</a>çš„å›ç­”:</h4><p><code>NSKeyValueObserving</code> åè®®ä¸­æœ‰éƒ¨åˆ†æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="literal">void</span> <span class="string">\*)observationInfo</span></div></pre></td></tr></table></figure>
<p>å®ƒä¼šåˆ—å‡ºè§‚å¯Ÿè€…ã€‚ä½†åªæœ‰åœ¨debugçš„æ—¶å€™æœ‰ç”¨ã€‚<br>å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥ï¼š<code>po [observedObject observationInfo]</code>ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¼‚äº®çš„è§‚å¯Ÿè€…å’Œkey pathçš„æ¦‚è§ˆã€‚</p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/12/ios-developing-tricks/">iOS Developing Tricks</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-12
        </span></div>
    </header>

    <div class="post-content"><h4 id="1-How-to-set-the-title-of-UIButton-as-left-alignment"><a href="#1-How-to-set-the-title-of-UIButton-as-left-alignment" class="headerlink" title="1.How to set the title of UIButton as left alignment?"></a>1.How to set the title of UIButton as left alignment?</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yourBtn.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yourBtn.contentEdgeInsets = UIEdgeInsetsMake(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>);</div></pre></td></tr></table></figure>
<h4 id="2-UINavigationController-Hide-Back-Button-on-Only-One-View"><a href="#2-UINavigationController-Hide-Back-Button-on-Only-One-View" class="headerlink" title="2.UINavigationController: Hide Back Button on Only One View"></a>2.UINavigationController: Hide Back Button on Only One View</h4><p>Sometimes, <code>controller.navigationItem.hidesBackButton = YES/NO</code> doesnâ€™t work at all.</p>
<p>And hereâ€™s a workaround:</p>
<p>To hide the back button, set the left bar button view to an empty view.</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">UIView *tmpView = <span class="comment">[<span class="comment">[UIView alloc]</span> initWithFrame:CGRectZero]</span>;</div><div class="line">UIBarButtonItem *tmpButtonItem = <span class="comment">[<span class="comment">[UIBarButtonItem alloc]</span> initWithCustomView:tmpView]</span>;</div><div class="line"><span class="comment">[tmpView release]</span>;</div><div class="line">self.navigationItem.leftBarButtonItem = tmpButtonItem;</div><div class="line"><span class="comment">[tmpButtonItem release]</span>;</div></pre></td></tr></table></figure>
<p>To restore the back button, just set the left bar button item to <code>nil</code>.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="keyword">self</span>.navigationItem setLeftBarButtonItem:<span class="literal">nil</span> animated:<span class="literal">YES</span>];</div></pre></td></tr></table></figure>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://stackoverflow.com/questions/2765024/how-to-set-the-title-of-uibutton-as-left-alignment" target="_blank" rel="external">http://stackoverflow.com/questions/2765024/how-to-set-the-title-of-uibutton-as-left-alignment</a></p>
<p><a href="http://stackoverflow.com/questions/5062405/uinavigationcontroller-hiding-back-button-on-one-view-hides-it-for-all-views" target="_blank" rel="external">http://stackoverflow.com/questions/5062405/uinavigationcontroller-hiding-back-button-on-one-view-hides-it-for-all-views</a></p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/12/UISearchBar/">UISearchBaräºŒä¸‰äº‹</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-12
        </span></div>
    </header>

    <div class="post-content"><h4 id="1-å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title"><a href="#1-å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title" class="headerlink" title="1.å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title"></a>1.å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title</h4><p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨iOS8 SDKï¼Œæœ¬æ¬¡ UISearchBaré€‚ç”¨äºiOS7(+)ç‰ˆæœ¬ï¼Œå¦‚æœæƒ³è¦é€‚é…iOS6ï¼Œåˆ™éœ€è¦å¯¹åº”é€‚é…iOS6.</p>
<ul>
<li>iOS7+: <code>for(id cc in [searchBar.subviews[0] subviews]){}</code></li>
<li>iOS7-: <code>for(id cc in [searchBar subviews]){}</code></li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">-(<span class="keyword">void</span>)<span class="string">searchBarTextDidBeginEditing:</span>(UISearchBar *)searchBar</div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span>(id cc <span class="keyword">in</span> [searchBar.subviews[<span class="number">0</span>] subviews])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>([cc <span class="string">isKindOfClass:</span>[UIButton <span class="class"><span class="keyword">class</span>]])</span></div><div class="line">        &#123;</div><div class="line">            UIButton *btn = (UIButton *)cc;</div><div class="line">            [btn <span class="string">setTitle:</span>[AppLanguageProcess <span class="string">getLanguageWithKey:</span>@<span class="string">"TEXT_CANCEL"</span>]  <span class="string">forState:</span>UIControlStateNormal];</div><div class="line">            [btn <span class="string">setTitleColor:</span>[UIColor whiteColor] <span class="string">forState:</span>UIControlStateNormal];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="2-iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®"><a href="#2-iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®" class="headerlink" title="2.iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®"></a>2.iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®</h4><p>ç”±äºæŸäº›åŸå› ï¼ŒiOSä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®ã€‚åŒæ ·çš„æƒ…å†µä¹Ÿå‘ç”Ÿåœ¨å°†UISearchBarè®¾ç½®ä¸ºnavigationItemçš„titleViewæ—¶ã€‚<br>ä½ å¯ä»¥é€šè¿‡åœ¨UISearchBarå¤–é¢åŒ…ä¸€å±‚viewæ¥è§„é¿è¿™ä¸ªé—®é¢˜ã€‚å¦‚ä¸‹æ˜¯æˆ‘å°†å®ƒæ”¾åœ¨titleViewæ—¶çš„è§£å†³åŠæ³•ï¼š<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">UISearchBar *searchBar = [UISearchBar new]<span class="comment">;</span></div><div class="line">searchBar.<span class="keyword">showsCancelButton </span>= YES<span class="comment">;</span></div><div class="line">[searchBar sizeToFit]<span class="comment">;</span></div><div class="line">UIView *<span class="keyword">barWrapper </span>= [[UIView alloc]initWithFrame:searchBar.<span class="keyword">bounds];</span></div><div class="line">[<span class="keyword">barWrapper </span><span class="keyword">addSubview:searchBar];</span></div><div class="line">self.navigationItem.titleView = <span class="keyword">barWrapper;</span></div></pre></td></tr></table></figure></p>
<h4 id="3-å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor"><a href="#3-å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor" class="headerlink" title="3.å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor"></a>3.å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor</h4><p>Hereâ€™s a future-proof way:<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="name">searchBar</span> setBackgroundImage:\[<span class="name">UIImage</span> new]]<span class="comment">;</span></div><div class="line">[<span class="name">searchBar</span> setTranslucent:YES]<span class="comment">;</span></div></pre></td></tr></table></figure></p>
<h4 id="4-å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹"><a href="#4-å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹" class="headerlink" title="4.å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹"></a>4.å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (id view <span class="keyword">in</span> [[_searchBar.subviews lastObject] subviews]) &#123;</div><div class="line">    <span class="keyword">if</span> ([view <span class="string">isKindOfClass:</span>[UIButton <span class="class"><span class="keyword">class</span>]]) &#123;</span></div><div class="line">         [view <span class="string">setEnabled:</span>YES];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://www.cocoachina.com/bbs/read.php?tid=280249" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=280249</a><br><a href="http://stackoverflow.com/questions/18986407/ios7-when-uisearchbar-added-in-uinavigationbar-not-showing-cancel-button" target="_blank" rel="external">iOS7 when UIsearchbar added in UINavigationBar not showing cancel button</a><br><a href="http://stackoverflow.com/a/12598711/1594792" target="_blank" rel="external">UISearchBar clear background color or set background image</a><br><a href="http://stackoverflow.com/questions/22499379/uitextfield-from-uisearchbar-in-ios-7-1" target="_blank" rel="external">http://stackoverflow.com/questions/22499379/uitextfield-from-uisearchbar-in-ios-7-1</a></p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2015/09/11/view-debugging/">View Debugging</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2015-09-11
        </span></div>
    </header>

    <div class="post-content"><ul>
<li>å°†è”æœºè°ƒè¯•çš„è®¾å¤‡æˆªå±ï¼šDebug -> View Debugging -> Take Screenshot of **iPhoneã€‚</li>
</ul>
<ul>
<li><p>æŸ¥çœ‹viewçš„å±‚çº§ç»“æ„ï¼šDebug -> View Debugging -> Capture View Hierarchy. ç‰¹åˆ«æ˜¯å½“æŸä¸ªviewä¸æ˜¾ç¤ºæˆ–ä½ç½®ä¸æ­£å¸¸æ—¶ï¼Œç”¨å®ƒå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°æ˜¯è¢«å“ªä¸ªviewé®æŒ¡ã€‚</p>
</li>
<li><p>è°ƒè¯•æ—¶æ˜¾ç¤ºviewçš„å°ºå¯¸å’Œframeï¼šDebug -> View Debugging -> Show View Frames/Show Alignment Rectanglesã€‚</p>
</li>
</ul>
<p>ä»¥ä¸Šï¼Œå‡å¯åœ¨ Xcode -> Preferences -> Key Bindings -> Debug Menu ä¸­è®¾ç½®å¿«æ·é”®ã€‚<br><img src="http://i12.tietuku.com/a137140412ce894c.png" alt=""></p>

        </div></article>
      <nav class="pagination"><a class="prev" href="/page/9/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    <a class="next" href="/page/11/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></section></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:calios_1124@163.com" class="iconfont icon-email" title="email"></a>
        <a href="http://github.com/caliosd" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Calios</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
