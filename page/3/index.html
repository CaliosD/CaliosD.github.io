<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="Stedfast as thou art."/><link rel="alternate" href="/default" title="Calios' Eden"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://www.caliosd.gq/page/3/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>Calios' Eden</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Calios' Eden</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Calios' Eden</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><section id="posts" class="posts"><article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2017/01/10/background-fetch/">Background fetch</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-01-10
        </span></div>
    </header>

    <div class="post-content"><p>å¦‚ä¸‹æ˜¯iOS7å¼€å§‹æ”¯æŒçš„background fetchåœ¨ä¸‹è½½ç®¡ç†ä¸­çš„åº”ç”¨ã€‚</p>
<p>1.Target -> Capabilities -> Background Modesï¼Œæ‰“å¼€å¼€å…³ï¼Œå‹¾é€‰<code>Background fetch</code>ä¸€é¡¹ã€‚<br>2.åœ¨è´Ÿè´£ä¸‹è½½ç®¡ç†çš„<code>CDDownloadManager</code>ï¼Œæˆ–æ˜¯<code>AppDelegate</code>ä¸­ï¼Œæ·»åŠ <code>@property (nonatomic, copy) void (^savedCompletionHandler)();</code>å±æ€§ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨<code>application:handleEventsForBackgroundURLSession:completionHandler:</code>ä¼ å…¥çš„blockï¼ˆè¯¦ç»†è¯´æ˜è§åæ–‡ï¼‰ã€‚<br>3.åœ¨<code>AppDelegate.m</code>ä¸­æ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š<br><figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- <span class="params">(void)</span>application:<span class="params">(UIApplication *)</span>application handleEventsForBackgroundURLSession:<span class="params">(NSString *)</span>identifier completionHandler:<span class="params">(void (^)</span><span class="params">()</span>)completionHandler</div><div class="line">&#123;</div><div class="line">    NSLog<span class="params">(@<span class="string">"%s"</span>,__FUNCTION__)</span>;</div><div class="line"></div><div class="line">    [CDDownloadManager sharedManager].savedCompletionHandler = completionHandler;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>åœ¨iOSä¸­ï¼Œå½“åå°ä¼ è¾“ç»“æŸæˆ–æ˜¯éœ€è¦è®¤è¯æ—¶ï¼Œå¦‚æœä½ çš„appä¸æ˜¯æ­£åœ¨è¿è¡Œçš„çŠ¶æ€ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨åœ¨åæ¥é‡æ–°å¯åŠ¨ï¼Œç„¶åappçš„<code>UIApplicationDelegate</code> ä¼šæ”¶åˆ°<code>application:handleEventsForBackgroundURLSession:completionHandler:</code>æ¶ˆæ¯ã€‚è¿™ä¸ªå‡½æ•°ä¸­åŒ…æ‹¬å¯¼è‡´appå¯åŠ¨çš„sessionçš„identifierã€‚ä½ çš„appåº”è¯¥åœ¨ç”¨ç›¸åŒçš„identifieråˆ›å»ºåå°configurationå¯¹è±¡ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªcompletion handlerå­˜ä¸‹æ¥ã€‚æ–°åˆ›å»ºçš„sessionä¼šè‡ªåŠ¨å’Œæ­£åœ¨æ‰§è¡Œçš„åå°æ´»åŠ¨å…³è”èµ·æ¥ã€‚</p>
<p>4.åœ¨<code>CDDownloadManager.m</code>ï¼Œæˆ–æ˜¯å…¶ä»–åˆ›å»ºäº†<code>NSURLSession</code>å®ä¾‹çš„ç±»ä¸­ï¼Œå®ç°å¦‚ä¸‹æ–¹æ³•ï¼š<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)URLSessionDidFinishEventsForBackgroundURLSession:(<span class="built_in">NSURLSession</span> *)session</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, __FUNCTION__);</div><div class="line"></div><div class="line">    [<span class="keyword">self</span>.session getTasksWithCompletionHandler:^(<span class="built_in">NSArray</span>&lt;<span class="built_in">NSURLSessionDataTask</span> *&gt; * _Nonnull dataTasks, <span class="built_in">NSArray</span>&lt;<span class="built_in">NSURLSessionUploadTask</span> *&gt; * _Nonnull uploadTasks, <span class="built_in">NSArray</span>&lt;<span class="built_in">NSURLSessionDownloadTask</span> *&gt; * _Nonnull downloadTasks) &#123;</div><div class="line">        <span class="keyword">if</span> (downloadTasks.count == <span class="number">0</span>) &#123;</div><div class="line">            <span class="comment">// A.</span></div><div class="line">            <span class="keyword">if</span> (<span class="keyword">self</span>.savedCompletionHandler != <span class="literal">nil</span>) &#123;</div><div class="line">                <span class="keyword">void</span>(^completionHandler)() = <span class="keyword">self</span>.savedCompletionHandler;</div><div class="line"></div><div class="line">                <span class="keyword">self</span>.savedCompletionHandler = <span class="literal">nil</span>;</div><div class="line"></div><div class="line">                <span class="comment">// B.</span></div><div class="line">                [[<span class="built_in">NSOperationQueue</span> mainQueue] addOperationWithBlock:^&#123;</div><div class="line">                    completionHandler();</div><div class="line">                    <span class="comment">// C.</span></div><div class="line">                    UNMutableNotificationContent *content = [[UNMutableNotificationContent alloc] init];</div><div class="line">                    content.title = <span class="string">@"Calios said:"</span>;</div><div class="line">                    content.body = <span class="string">@"Hi, what about enjoy Swift in 2017?"</span>;</div><div class="line">                    content.sound = [UNNotificationSound defaultSound];</div><div class="line">                    content.badge = @([[<span class="built_in">UIApplication</span> sharedApplication] applicationIconBadgeNumber] + <span class="number">1</span>);</div><div class="line"></div><div class="line">                    UNTimeIntervalNotificationTrigger *trigger = [UNTimeIntervalNotificationTrigger triggerWithTimeInterval:<span class="number">5.</span>f repeats:<span class="literal">NO</span>];</div><div class="line">                    UNNotificationRequest *request = [UNNotificationRequest requestWithIdentifier:<span class="string">@"FiveSecond"</span> content:content trigger:trigger];</div><div class="line"></div><div class="line">                    UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];</div><div class="line">                    [center addNotificationRequest:request withCompletionHandler:^(<span class="built_in">NSError</span> * _Nullable error) &#123;</div><div class="line">                        <span class="keyword">if</span> (!error) &#123;</div><div class="line">                            <span class="built_in">NSLog</span>(<span class="string">@"add notification request succeed!"</span>);</div><div class="line">                        &#125;</div><div class="line">                    &#125;];</div><div class="line">                &#125;];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯¹åº”ä¸Šæ®µä»£ç çš„å‡ ç‚¹è¯´æ˜ï¼š<br>A. è¿™é‡Œçš„<code>self.savedCompletionHandler</code>å°±æ˜¯ä¸Šé¢åœ¨<code>AppDelegate.m</code>ä¸­è¢«èµ‹å€¼çš„å®¶ä¼™ã€‚<br>B. ç”±äºæä¾›çš„completion handleræ˜¯<code>UIKIt</code>çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸€å®šè¦åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨ã€‚<br>C. è¿™é‡Œçš„æ“ä½œæ˜¯åœ¨æ‰€æœ‰ä¸‹è½½å®Œæˆåå¼¹å‡ºä¸€ä¸ªæœ¬åœ°é€šçŸ¥ï¼Œå¹¶åœ¨consoleæ˜¾ç¤ºä¸€è¡Œlogã€‚å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œæ›´æ”¹ã€‚<strong>æ³¨ï¼š</strong>iOS 10ä¹‹åï¼Œæœ¬åœ°é€šçŸ¥å’Œè¿œç¨‹é€šçŸ¥ç›¸å…³çš„æ¥å£éƒ½ç§»åˆ°äº†<code>UserNotification</code>ä¸­ï¼ŒAPIä¹Ÿæœ‰å¾ˆå¤šå˜åŒ–ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œæ›´å¤šè¯¦æƒ…å¯å‚è§å–µç¥çš„<a href="https://onevcat.com/2016/08/notification/" target="_blank" rel="external">è¿™ç¯‡åšå®¢</a>ã€‚</p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2017/01/10/notes-for-block/">Blockå­¦ä¹ ç¬”è®°</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-01-10
        </span></div>
    </header>

    <div class="post-content"><h3 id="1-Blockå£°æ˜"><a href="#1-Blockå£°æ˜" class="headerlink" title="1.Blockå£°æ˜"></a>1.Blockå£°æ˜</h3><p>ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶è®©blockä¸­å¼•ç”¨çš„æ‰€æœ‰å˜é‡éƒ½è¢«ä¿å­˜ä¸‹æ¥ï¼Œä»¥å¤‡åœ¨blockçš„æ‰€æœ‰å‰¯æœ¬çš„ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)block1</div><div class="line">&#123;</div><div class="line">    <span class="built_in">int</span> (^myTest)(<span class="built_in">int</span>) = ^(<span class="built_in">int</span> <span class="built_in">num</span>)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">num</span> * <span class="built_in">num</span>;</div><div class="line">    &#125;;</div><div class="line">    NSLog(@<span class="string">"double: %d"</span>,myTest(<span class="number">9</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="2-åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨-blockå£°æ˜"><a href="#2-åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨-blockå£°æ˜" class="headerlink" title="2.åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨__blockå£°æ˜"></a>2.åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨<code>__block</code>å£°æ˜</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)block2</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSArray</span> *stringsArray = @[ <span class="string">@"string 1"</span>,</div><div class="line">                               <span class="string">@"String 21"</span>, <span class="comment">// &lt;-</span></div><div class="line">                               <span class="string">@"string 12"</span>,</div><div class="line">                               <span class="string">@"String 11"</span>,</div><div class="line">                               <span class="string">@"StrÃ®ng 21"</span>, <span class="comment">// &lt;-</span></div><div class="line">                               <span class="string">@"StriÃ±g 21"</span>, <span class="comment">// &lt;-</span></div><div class="line">                               <span class="string">@"String 02"</span> ];</div><div class="line"></div><div class="line">    <span class="built_in">NSLocale</span> *currentLocale = [<span class="built_in">NSLocale</span> currentLocale];</div><div class="line">    __block <span class="built_in">NSUInteger</span> orderedSameCount = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="built_in">NSArray</span> *diacriticInsensitiveSortArray = [stringsArray sortedArrayUsingComparator:^(<span class="keyword">id</span> string1, <span class="keyword">id</span> string2) &#123;</div><div class="line"></div><div class="line">        <span class="built_in">NSRange</span> string1Range = <span class="built_in">NSMakeRange</span>(<span class="number">0</span>, [string1 length]);</div><div class="line">        <span class="built_in">NSComparisonResult</span> comparisonResult = [string1 compare:string2 options:<span class="built_in">NSDiacriticInsensitiveSearch</span> range:string1Range locale:currentLocale];</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (comparisonResult == <span class="built_in">NSOrderedSame</span>) &#123;</div><div class="line">            orderedSameCount++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> comparisonResult;</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"diacriticInsensitiveSortArray: %@"</span>, diacriticInsensitiveSortArray);</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"orderedSameCount: %lu"</span>, (<span class="keyword">unsigned</span> <span class="keyword">long</span>)orderedSameCount);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic-argumentsï¼‰"><a href="#3-blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic-argumentsï¼‰" class="headerlink" title="3.blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic argumentsï¼‰"></a>3.blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic argumentsï¼‰</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)block3</div><div class="line">&#123;</div><div class="line">    <span class="keyword">void</span> (^variadicParams)(<span class="built_in">NSString</span>*, ...) = ^(<span class="built_in">NSString</span> *format, ...) &#123;</div><div class="line">        <span class="keyword">id</span> eachObject;</div><div class="line">        va_list argumentList;   <span class="comment">// va_listæ˜¯æŒ‡å‘å˜é‡åˆ—è¡¨çš„æŒ‡é’ˆ</span></div><div class="line">        <span class="keyword">if</span> (format) &#123;   <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°å¹¶ä¸æ˜¯å˜é‡åˆ—è¡¨ä¸­çš„ä¸€ä¸ª</span></div><div class="line">            <span class="built_in">NSMutableArray</span> *tmpArray = [<span class="built_in">NSMutableArray</span> arrayWithObject:format];</div><div class="line">            va_start(argumentList, format); <span class="comment">// åˆå§‹åŒ–va_listï¼Œå¹¶è®©å®ƒæŒ‡å‘ä¼ å…¥çš„å‚æ•°ï¼ˆformatï¼‰åé¢ç´§è·Ÿçš„ç¬¬ä¸€ä¸ªå‚æ•°</span></div><div class="line">            <span class="keyword">while</span> ((eachObject = va_arg(argumentList, <span class="keyword">id</span>)) != <span class="literal">nil</span>)&#123;  <span class="comment">//   va_argï¼Œå–å‡ºåˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå‚æ•°ã€‚å¿…é¡»æŒ‡æ˜å‚æ•°çš„ç±»å‹ï¼ˆè¿™æ ·va_argæ‰èƒ½çŸ¥é“è¯¥ç»™å®ƒåˆ†é…å¤šå°‘ç©ºé—´ï¼‰</span></div><div class="line">                [tmpArray addObject:eachObject];    <span class="comment">// ä¸ä¼šæŠŠä»»ä½•nilå¯¹è±¡æ·»åŠ åˆ°tmpArrayä¸­</span></div><div class="line">            &#125;</div><div class="line">            va_end(argumentList);   <span class="comment">// é‡Šæ”¾va_listè¿™ä¸ªæ•°æ®ç»“æ„æ‰€æŒæœ‰çš„ä»»ä½•å†…å­˜</span></div><div class="line">            <span class="built_in">NSLog</span>(<span class="string">@"variadic params: %@"</span>,tmpArray);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    variadicParams(<span class="string">@"11"</span>,<span class="string">@"22"</span>,<span class="string">@"333"</span>,<span class="string">@"666"</span>,<span class="literal">nil</span>);  <span class="comment">//  ï£¿ Calios:è¿™é‡Œæœ€åä¸€ä¸ªå‚æ•°å¿…é¡»ä¼ nilï¼Œargså¿…é¡»æœ‰æœ€åä¸€ä¸ªç»“å°¾ï¼Œå¦åˆ™æ˜¯æ— æ³•åˆ¤æ–­çš„ã€‚Butï¼Œwhyï¼Ÿ</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’"><a href="#4-å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’" class="headerlink" title="4.å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’"></a>4.å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSInteger</span> CounterGlobal;    <span class="comment">//  ï£¿ Calios:It throws out error for not finding CounterGlobal if extern is added. But, why?</span></div><div class="line"><span class="keyword">static</span> <span class="built_in">NSInteger</span> CounterStatic;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)block4</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSInteger</span> localCounter = <span class="number">42</span>;</div><div class="line">    __block <span class="keyword">char</span> localCharacter;</div><div class="line"></div><div class="line">    <span class="keyword">void</span> (^aBlock)(<span class="keyword">void</span>) = ^(<span class="keyword">void</span>) &#123;</div><div class="line">        ++CounterGlobal;</div><div class="line">        ++CounterStatic;</div><div class="line">        CounterGlobal = localCounter; <span class="comment">// localCounter fixed at block creation</span></div><div class="line">        localCharacter = <span class="string">'a'</span>; <span class="comment">// sets localCharacter in enclosing scope</span></div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    ++localCounter; <span class="comment">// unseen by the block</span></div><div class="line">    localCharacter = <span class="string">'b'</span>;</div><div class="line"></div><div class="line">    aBlock(); <span class="comment">// execute the block</span></div><div class="line">    <span class="comment">// localCharacter now 'a'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚"><a href="#5-å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚" class="headerlink" title="5.å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚"></a>5.å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚</h3><p>å¦‚æœä½ åœ¨ä¸€ä¸ªæ–¹æ³•çš„å®ç°ä¸­ä½¿ç”¨äº†blockï¼š</p>
<ul>
<li>å¦‚æœä½ ä½¿ç”¨äº†å®ä¾‹å˜é‡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆå°±å¯¹ <strong>self</strong> äº§ç”Ÿäº†å¼ºå¼•ç”¨ï¼›</li>
<li>å¦‚æœä½ ä½¿ç”¨äº†å®ä¾‹å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå°±å¯¹ <strong>è¯¥å˜é‡</strong> äº§ç”Ÿäº†å¼ºå¼•ç”¨ã€‚<figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">	- (<span class="literal">void</span>)block5</div><div class="line">	&#123;</div><div class="line"><span class="literal">void</span> (^doSomethingWithObject)(id) = ^(id <span class="keyword">var</span>)&#123;</div><div class="line">	NSLog(@<span class="string">"do something: %@"</span>,<span class="keyword">var</span>);</div><div class="line">&#125;;</div><div class="line">dispatch<span class="string">\_queue\_t</span> queue = dispatch<span class="string">\_queue\_create("com.calios.BlockSample.someQueue",</span> DISPATCH<span class="string">\_QUEUE\_SERIAL);</span></div><div class="line">dispatch<span class="string">\_async(queue,</span> ^&#123;    <span class="regexp">// dispatch\_async()æ˜¯å°†blockæ‹·è´åˆ°æŒ‡å®šçš„queueä¸­ï¼Œè€Œå¤åˆ¶æ“ä½œï¼ˆBlock\_copy()ï¼‰ä¼šå°†blockç§»åŠ¨åˆ°å †ä¸Šã€‚</span></div><div class="line">	// instanceVariable <span class="keyword">is</span> used <span class="keyword">by</span> reference, a strong reference <span class="keyword">is</span> made <span class="keyword">to</span> self</div><div class="line">	doSomethingWithObject(instanceVariable);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">id localVariable = instanceVariable;</div><div class="line">dispatch<span class="string">\_async(queue,</span> ^&#123;</div><div class="line">	<span class="comment">/*</span></div><div class="line">	 localVariable is used by value, a strong reference is made to localVariable</div><div class="line">	 (and not to self).</div><div class="line">	 */</div><div class="line">	doSomethingWithObject(localVariable);</div><div class="line">&#125;);</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-åº”è¯¥é¿å…çš„åšæ³•"><a href="#6-åº”è¯¥é¿å…çš„åšæ³•" class="headerlink" title="6.åº”è¯¥é¿å…çš„åšæ³•"></a>6.åº”è¯¥é¿å…çš„åšæ³•</h3><p>blockå­—é¢é‡ï¼ˆå³^{ â€¦ }ï¼‰æ˜¯ä»£è¡¨è¿™ä¸ªblockçš„å±€éƒ¨æ ˆæ•°æ®ç»“æ„çš„åœ°å€ã€‚å› æ­¤ï¼Œå±€éƒ¨æ ˆæ•°æ®ç»“æ„çš„ä½œç”¨äºå°±æ˜¯ä»…é™äºå¤§æ‹¬å·ä¸­çš„è¯­å¥ï¼Œæ‰€ä»¥ä½ åº” <strong>é¿å…</strong> å‘ä¸‹é¢è¿™æ ·ä½¿ç”¨blockã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)block6</div><div class="line">&#123;</div><div class="line">    dontDoThis();</div><div class="line">    dontDoThisEither();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dontDoThis</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">void</span> (^blockArray[<span class="number">3</span>])(<span class="keyword">void</span>);  <span class="comment">// an array of 3 block references</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</div><div class="line">        blockArray[i] = ^&#123; <span class="built_in">printf</span>(<span class="string">"hello, %d\n"</span>, i); &#125;;</div><div class="line">        <span class="comment">// WRONG: The block literal scope is the "for" loop.</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dontDoThisEither</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">void</span> (^block)(<span class="keyword">void</span>);</div><div class="line"></div><div class="line">    <span class="keyword">int</span> i = arc4random() % <span class="number">1024</span>;</div><div class="line">    <span class="keyword">if</span> (i &gt; <span class="number">1000</span>) &#123;</div><div class="line">        block = ^&#123; <span class="built_in">printf</span>(<span class="string">"got i at: %d\n"</span>, i); &#125;;</div><div class="line">        <span class="comment">// WRONG: The block literal scope is the "then" clause.</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Blocks/Articles/00_Introduction.html" target="_blank" rel="external">https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Blocks/Articles/00_Introduction.html</a></li>
</ul>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2017/01/10/at-the-beginning-of-2017/">å†™åœ¨2017å¹´åˆ</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-01-10
        </span></div>
    </header>

    <div class="post-content"><p>åœ¨æœ¬åœ°çš„Homebrewè¢«æˆ‘ææŒ‚æ‰ä¹‹åï¼Œåšå®¢ä¼‘çœ äº†ä¸¤ä¸ªå¤šæœˆã€‚æœ¬åœ°çš„è‰ç¨¿ç®±ä¸€ç›´å¢åŠ ï¼Œonlineçš„å†…å®¹ä¸€ç›´æ²¡å˜åŒ–ã€‚å®åœ¨ä¸èƒ½å¿äº†ã€‚</p>
<p>ç»ˆäºåœ¨2017å¹´çš„ç¬¬åå¤©è¢«æˆ‘ä¿®ç†å¥½äº†ã€‚ç»§ç»­ç¬¬ä¸‰å¹´çš„blogä¹‹æ—…ã€‚</p>
<p><strong>ä½†æ±‚æŠŠçŸ¥è¯†å˜æˆèƒ½åŠ›ï¼›</strong><br><strong>ä½†æ±‚æŠŠæ¯æ¶©çš„çŸ¥è¯†å˜æˆä¸°ç›ˆçš„è¯­è¨€ï¼›</strong><br><strong>ä½†æ±‚æˆ‘å¿ƒä¾æ—§ã€‚</strong></p>
<p>â€”â€” Calios<br>2017.01.10</p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2016/10/28/back-button-in-custom-UINavigationBar/">æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-10-28
        </span></div>
    </header>

    <div class="post-content"><p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navbar.png" alt="" title="è‡ªå®šä¹‰navigationBarè¿”å›æŒ‰é’®"></p>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼šä¸€æ˜¯æŠŠåŸæœ‰çš„ä¸Šä¸€å±‚çš„titleå»æ‰ï¼ŒäºŒæ˜¯æŠŠè¿”å›æŒ‰é’®çš„indicatorå›¾ç‰‡æ¢æˆè‡ªå®šä¹‰çš„ã€‚</p>
<p>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œè§£å†³åŠæ³•æ˜¯ï¼š</p>
<pre><code>[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60) forBarMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬äºŒç‚¹ï¼Œæœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼š</p>
<pre><code>// Solution 1:
UIImage *img = [UIImage imageNamed:@&quot;itm_back&quot;];
[UINavigationBar appearance].backIndicatorImage = img;
[UINavigationBar appearance].backIndicatorTransitionMaskImage = img;

// Solution 2:
[[UIBarButtonItem appearance] setBackButtonBackgroundImage:[img resizableImageWithCapInsets:UIEdgeInsetsMake(0, img.size.width - 1, 0, 0)] forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰çš„back indicator imageï¼Œ<code>backIndicatorImage</code>å’Œ<code>backIndicatorTransitionMaskImage</code>å¿…é¡»æˆå¯¹å‡ºç°ï¼Œ<a href="https://developer.apple.com/reference/uikit/uinavigationbar/1624938-backindicatortransitionmaskimage" target="_blank" rel="external">åŒæ—¶è®¾ç½®</a>ã€‚</p>
<p>å¯¹äºç¬¬äºŒä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç›´æ¥æŠŠ<code>img</code>ä¼ è¿›å»ï¼Œå°±ä¼šå‘ç°ï¼Œå›¾ç‰‡è¢«æ‹‰é•¿äº†ï¼Œå˜æˆäº†ä¸€æŸ„å‰‘ã€‚ã€‚ã€‚</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navBar-sword.png" alt=""></p>
<p>è€Œåœ¨<code>-setBackButtonBackgroundImage: forState: barMetrics</code>çš„apiä¸­ï¼Œç‰¹æ„æ·»åŠ äº†æ³¨é‡Šæé†’å¼€å‘è€…ï¼š<code>backgroundImage must be a resizable image for good results.</code></p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/nav-showFrame.png" alt=""></p>
<p>è¿™é‡Œæˆ‘çš„ç†è§£æ˜¯ï¼Œnavigation barè¿”å›æŒ‰é’®çš„å›¾ç‰‡+æ–‡å­—çš„placeholderæœ‰å›ºå®šå°ºå¯¸ï¼Œå½“å›¾ç‰‡ä¸å¤Ÿå¡«å……æ»¡è¿™ä¸ªåŒºåŸŸçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹‰ä¼¸ï¼Œæ‰€ä»¥æ³¨é‡Šä¸­è¦æ±‚å¼€å‘è€…ä¼ å…¥ä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„å›¾ç‰‡ä½œä¸ºå‚æ•°ã€‚</p>
<p>è€Œå½“æˆ‘ä»¬è°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œå¹¶ä¼ å…¥capInsetsæ—¶ï¼Œç›¸å½“äºé”å®šäº†cap insetsçš„éƒ¨åˆ†ï¼Œè®©å…¶ä½™éƒ¨åˆ†è¿›è¡Œæ‹‰ä¼¸ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œè®¾ç½®capInsetsä¸º<code>UIEdgeInsetsMake(0, img.size.width, 0, 0)</code>ï¼Œç›¸å½“äºä¿è¯åŸå›¾ç‰‡å®½åº¦èŒƒå›´å†…çš„å›¾ç‰‡ä¸è¢«æ‹‰ä¼¸ï¼Œä¹Ÿå°±ä¿è¯äº†åŸå›¾ç‰‡çš„æ˜¾ç¤ºæ•ˆæœã€‚å½“ç„¶ï¼Œè°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œ<a href="https://developer.apple.com/reference/uikit/uiimage/1624102-resizableimagewithcapinsets" target="_blank" rel="external">å®é™…ä¸Šæ˜¯è¿”å›äº†ä¸€å¼ æ–°å›¾ç‰‡ï¼ŒåŸæœ‰çš„å›¾ç‰‡æ˜¯æ— æ³•è§¦åŠçš„</a>ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¸‹é¢é¢åŒ…ç‰‡æ¨¡å…·çš„ğŸŒ°æ¥ç†è§£è¿™ä¸ªæ–¹æ³•ï¼ˆå—¯ï¼Œåƒè´§çš„æ€è·¯å°±æ˜¯è¿™ä¹ˆç‹¬ç‰¹ã€‚ã€‚ï½_ï½ ï¼‰ï¼š</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/bread.jpeg" alt=""></p>
<p>è“è‰²æ¡†èŒƒå›´å†…æ˜¯åŸé¢åŒ…ç‰‡ï¼ˆå³åŸå›¾ç‰‡ï¼‰ï¼›è“è‰²æ¡†å’Œç»¿è‰²æ¡†ä¹‹é—´çš„é¢åŒ…è¾¹å„¿å°±æ˜¯ä½ è®¾å®šçš„capInsetsï¼Œè¿™å–å†³äºä½ ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ¨¡å…·ï¼›è€Œç»¿è‰²æ¡†èŒƒå›´å†…æ˜¯ä½ å¯ä»¥è‡ªç”±å‘æŒ¥çš„éƒ¨åˆ†ï¼Œé‡Œé¢å¤¹çŒ•çŒ´æ¡ƒé¦™è•‰ç‰‡éšä½ ï¼ˆå³å¯æ‹‰ä¼¸èŒƒå›´ã€‚ã€‚å—¯ï¼Œå¯¹äºé¢åŒ…ç‰‡æ˜¯çºµå‘çš„ä¼¸å±•ï¼‰ã€‚</p>
<hr>
<p>ä»¥ä¸‹å¼•è‡ªè‹¹æœå®˜æ–¹æ–‡æ¡£ï¼Œåˆ—åœ¨æ­¤å¤„ï¼Œå¤‡æŸ¥ã€‚</p>
<blockquote>
<p>ä»iOS5.0åŠä¹‹åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼ˆè‡ªå®šä¹‰baræ ·å¼ï¼‰åˆ—ä¸¾çš„æ–¹æ³•æ¥è‡ªå®šä¹‰UINavigationBarçš„æ ·å¼ã€‚ä½ å¯ä»¥ç”¨<code>[UINavigationBar appearance]</code>æ¥è‡ªå®šä¹‰æ‰€æœ‰UINavigationBarçš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥åªæ”¹å˜å•ç‹¬çš„ä¸€ä¸ªã€‚</p>
<p>åœ¨iOS 7ä¸­ï¼ŒUINavigationBarçš„<code>tintColor</code>ä¼šå½±å“è¿”å›æŒ‡ç¤ºæŒ‰é’®çš„å›¾ç‰‡ã€æŒ‰é’®çš„æ ‡é¢˜å’ŒæŒ‰é’®çš„å›¾ç‰‡ã€‚<code>barTintColor</code>ä¼šå½±å“baræœ¬èº«çš„é¢œè‰²ã€‚å¦å¤–ï¼Œnavigation baré»˜è®¤æ˜¯åŠé€æ˜çš„ã€‚å¼€å…³åŠé€æ˜çš„è®¾ç½®ä¸ä¼šå½±å“æŒ‰é’®ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ²¡æœ‰èƒŒæ™¯çš„ã€‚</p>
<p>è‡ªå®šä¹‰baræ ·å¼ï¼š</p>
<ul>
<li><code>backIndicatorImage</code>ï¼šè¿”å›æŒ‰é’®è¾¹ä¸Šçš„å›¾ç‰‡</li>
<li><code>backIndicatorTransitionMaskImage</code>ï¼šåœ¨pushå’Œpopè¿‡ç¨‹ä¸­ä½œä¸ºå†…å®¹çš„è’™ç‰ˆçš„å›¾ç‰‡ï¼ˆ@_@ï¼‰</li>
<li><code>titleVerticalPositionAdjustmentForBarMetrics:</code>ï¼šå¯¹ç»™å®šçš„æ¨ªå±æˆ–ç«–å±çš„barè°ƒæ•´titleçš„å‚ç›´æ–¹å‘çš„ä½ç½®åç§»ã€‚</li>
<li><code>titleTextAttributes</code>ï¼šbarçš„titleçš„å„ç§æ˜¾ç¤ºå±æ€§ï¼Œå¦‚å­—ä½“ã€é¢œè‰²ã€é˜´å½±ç­‰ã€‚</li>
</ul>
</blockquote>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://developer.apple.com/reference/uikit/uinavigationbar" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uinavigationbar</a></li>
<li><a href="https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc</a></li>
<li><a href="http://stackoverflow.com/a/20986544/1594792" target="_blank" rel="external">http://stackoverflow.com/a/20986544/1594792</a></li>
<li><a href="http://stackoverflow.com/a/29937730/1594792" target="_blank" rel="external">http://stackoverflow.com/a/29937730/1594792</a></li>
</ul>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2016/10/18/how-to-update-vim-in-Mac/">å¦‚ä½•æ›´æ–°Macä¸­è‡ªå¸¦çš„Vim</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-10-18
        </span></div>
    </header>

    <div class="post-content"><p>å‰å‡ å¤©ç¿»å–æ¡ƒå›çš„å…¬ä¼—å·ï¼Œæ¸©æ•…äº†ä¸€ä¸‹Vim 8.0çš„ç§ç§æˆ‘ç›®å‰ä¹Ÿç”¨ä¸ä¸Šçš„ç‰¹æ€§ï¼Œç«Ÿæ˜¯å…´å¥‹äº†ä¸€ä¼šå„¿ï¼Œæ¥ç€å°±å¼€å§‹è€ƒè™‘æ€ä¹ˆæŠŠæœ¬æœºçš„Vimå‡çº§æˆ8.0äº†ã€‚</p>
<p>æ ¹æ®SOFä¸Šçš„ä¸€ä¸ªå›ç­”ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="comment"># Create the directories you need</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> sudo mkdir -p /opt/<span class="built_in">local</span>/bin</span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="comment"># Download, compile, and install the latest Vim</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ~</span></div><div class="line"><span class="meta">$</span><span class="bash"> hg <span class="built_in">clone</span> https://bitbucket.org/vim-mirror/vim or git <span class="built_in">clone</span> https://github.com/vim/vim.git</span></div><div class="line"><span class="meta">$</span><span class="bash"></span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> vim</span></div><div class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/opt/<span class="built_in">local</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> make</span></div><div class="line"><span class="meta">$</span><span class="bash"> sudo make install</span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="comment"># Add the binary to your path, ahead of /usr/bin</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">'PATH=/opt/local/bin:$PATH'</span> &gt;&gt; ~/.bash_profile</span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="comment"># Reload bash_profile so the changes take effect in this window</span></span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.bash_profile</span></div></pre></td></tr></table></figure></p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p><code>/usr/bin</code>è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œé™¤éæœ‰æ˜ç¡®çš„ç†ç”±ï¼Œå¦åˆ™ä¸è¦æ”¹åŠ¨ã€‚ä¸€æ—¦æ“ä½œå¤±è¯¯ï¼Œæ— æ³•å›é€€ã€‚æ‰€ä»¥ï¼Œè°¨æ…ä¸ºå¦™ã€‚</p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/a/7211910/1594792" target="_blank" rel="external">http://stackoverflow.com/a/7211910/1594792</a></li>
</ul>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2016/09/03/differences-among-workspace-project-target-scheme/">ã€è¯‘ã€‘Workspace & Project & Target & Scheme çš„åŒºåˆ«</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-09-03
        </span></div>
    </header>

    <div class="post-content"><p>æ¥è‡ª<a href="http://stackoverflow.com/users/916299/james-webster" title="http://stackoverflow.com/users/916299/james-webster" target="_blank" rel="external">James Webster</a>çš„å›ç­”ï¼š</p>
<ul>
<li><strong>Workspace:</strong> åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª<code>project</code>ï¼Œè¿™äº›<code>project</code>é€šå¸¸æ˜¯ç›¸äº’å…³è”çš„ã€‚</li>
<li><strong>Project:</strong> åŒ…æ‹¬ä»£ç å’Œèµ„æºç­‰ç­‰ã€‚ï¼ˆä½ ä¼šç†Ÿæ‚‰è¿™äº›çš„ã€‚ï¼‰</li>
<li><strong>Target:</strong> æ¯ä¸ª<code>project</code>éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª<code>target</code>ã€‚<ul>
<li>æ¯ä¸ªtargetéƒ½å®šä¹‰äº†è¯¥<code>project</code>çš„ build settingåˆ—è¡¨ã€‚</li>
<li>æ¯ä¸ªtargetè¿˜å®šä¹‰äº†åœ¨buildæ—¶éœ€è¦å¼•ç”¨æˆ–ä½¿ç”¨çš„ç±»ã€èµ„æºã€è‡ªå®šä¹‰è„šæœ¬çš„åˆ—è¡¨ã€‚</li>
<li>Targeté€šå¸¸ç”¨äºåŒä¸€ä¸ªprojectçš„ä¸åŒå‘å¸ƒç‰ˆæœ¬ã€‚<ul>
<li>æ¯”å¦‚ï¼Œæˆ‘çš„é¡¹ç›®æœ‰ä¸¤ä¸ªtargetï¼Œä¸€ä¸ªé€šç”¨æ„å»ºå’Œä¸€ä¸ªå®˜æ–¹æ„å»ºï¼Œå…¶ä¸­åè€…åŒ…å«é¢å¤–æµ‹è¯•åŠŸèƒ½ï¼Œå¯èƒ½è¿˜åŒ…å«å‡ ç§èƒŒæ™¯éŸ³ä¹è½¨é“ï¼Œè¿˜æœ‰ä¸€ä¸ªåˆ‡æ¢è½¨é“çš„æŒ‰é’®ã€‚</li>
<li>ä½ åº”è¯¥å·²ç»ä¹ æƒ¯äºå‘é»˜è®¤çš„targetä¸­æ·»åŠ ç±»å’Œèµ„æºäº†ã€‚</li>
<li>ä½ å¯ä»¥æŒ‘é€‰å“ªäº›ç±»ï¼èµ„æºè¢«æ·»åŠ åˆ°å“ªä¸ªtargetä¸­ã€‚<ul>
<li>åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘æœ‰ä¸€ä¸ªå«â€œDebugHandlerâ€çš„ç±»è¦æ·»åŠ åˆ°å®˜æ–¹æ„å»ºä¸­ã€‚</li>
</ul>
</li>
<li>å¦‚æœä½ æ·»åŠ æµ‹è¯•ï¼Œå°±éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„targetäº†ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>Scheme: </strong> Schemeå®šä¹‰äº†å½“ä½ æŒ‰ä¸‹â€œBuildâ€ï¼Œâ€œTestâ€ï¼Œâ€œProfileâ€çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆã€‚<ul>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ªtargetåŒ…æ‹¬è‡³å°‘ä¸€ä¸ªschemeã€‚</li>
<li>ä½ å¯ä»¥ä¸ºä½ çš„targetè‡ªåŠ¨åˆ›å»ºschemeï¼Œæ–¹æ³•æ˜¯åœ¨ Scheme > Manage Schemesï¼Œç‚¹â€œAutocreate Schemes Nowâ€ã€‚</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/a/20637892/1594792" target="_blank" rel="external">http://stackoverflow.com/a/20637892/1594792</a></li>
<li><a href="http://www.teratotech.com/blog/xcode-7-steps-to-easily-switch-between-multiple-environments/" target="_blank" rel="external">http://www.teratotech.com/blog/xcode-7-steps-to-easily-switch-between-multiple-environments/</a></li>
</ul>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2016/08/19/summary-for-hr-project/">æŸHRé¡¹ç›®iOSç«¯æ€»ç»“</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-08-19
        </span></div>
    </header>

    <div class="post-content"><h3 id="1-äº§å“è®¾è®¡"><a href="#1-äº§å“è®¾è®¡" class="headerlink" title="1.äº§å“è®¾è®¡"></a>1.äº§å“è®¾è®¡</h3><ul>
<li>åŠæ—¶æ›´æ–°RPå›¾ã€‚</li>
<li>å¯¹äºiOSå’ŒAndroidå·®å¼‚åŒ–ä¸å¤§çš„é¡µé¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¥—RPå›¾ã€‚</li>
<li>ä¿è¯å¯¹é¡µé¢é€»è¾‘çš„è¯¦ç»†è¯´æ˜ã€‚</li>
<li>å¯¹äºç‰¹æ®ŠçŠ¶æ€ï¼ˆå¦‚ç­›é€‰ã€æœç´¢ç­‰ï¼‰çš„è¯´æ˜ï¼å›¾è§£è¦æ¸…æ™°ã€‚</li>
</ul>
<h3 id="2-æ¥å£æ–‡æ¡£éƒ¨åˆ†"><a href="#2-æ¥å£æ–‡æ¡£éƒ¨åˆ†" class="headerlink" title="2.æ¥å£æ–‡æ¡£éƒ¨åˆ†"></a>2.æ¥å£æ–‡æ¡£éƒ¨åˆ†</h3><h5 id="2-1-æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š"><a href="#2-1-æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="2.1 æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š"></a>2.1 æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š</h5><ul>
<li>å¯¹äºæ‰€æœ‰æ¥å£éƒ½é€šç”¨çš„å‚æ•°æˆ–JSONæ•°æ®æ ¼å¼ï¼Œå¯ä»¥æ·»åŠ å…¬å…±è®¾ç½®çš„éƒ¨åˆ†ï¼Œé›†ä¸­è¯´æ˜ã€‚ </li>
<li>è¯·æ±‚æ•°æ®çš„å‚æ•°ï¼Œè¦è¯´æ˜å“ªäº›æ˜¯å¿…é¡»çš„ï¼Œå“ªäº›æ˜¯å¯é€‰çš„ï¼Œå¯é€‰çš„é»˜è®¤å€¼æ˜¯ä»€ä¹ˆã€‚ </li>
<li>è¯´æ¸…è¯·æ±‚æ•°æ®çš„æ–¹å¼æ˜¯GETè¿˜æ˜¯POSTã€‚ </li>
<li>å‘½åè¦æ¸…æ™°ï¼Œå¯¹äº<strong>åè¯</strong>å‘½åçš„å‚æ•°ï¼ŒåŒºåˆ†æ¸…æ¥š<code>xxId</code>å’Œ<code>xxTitle</code>ï¼Œè€Œä¸æ˜¯<code>xx</code>ã€‚ </li>
<li>æ ‡è®°ç±»å‹ã€çŠ¶æ€ç±»å‹çš„æ–‡å­—ï¼Œä¸å…¶ç§»åŠ¨ç«¯å’ŒæœåŠ¡å™¨å„è‡ªæ‰‹åŠ¨ç»´æŠ¤ä¸€ç»„æšä¸¾å€¼ï¼Œä¸å¦‚ä¼ è¾“<strong>æ–‡å­—æœ¬èº«</strong>ã€‚ </li>
<li>è¯·æ±‚å‚æ•°å’Œè¿”å›å‚æ•°ä¸­ï¼Œç‰¹æ®Šç±»å‹çš„æ•°æ®è¦è¯´æ˜ã€‚å¦‚æ—¥æœŸçš„æ ¼å¼æ˜¯<code>yyyy-MM-dd</code>ã€<code>yyyy/MM/dd</code>è¿˜æ˜¯<code>yyyy.MM</code>ã€‚ </li>
<li>æ— éœ€å°†userId/usernameä¼ ç»™æœåŠ¡å™¨æ—¶ï¼Œåšå†³ä¸ä¼ ï¼Œé¿å…æœåŠ¡å™¨ç«¯å¯¹äºuserId/usernameçš„è¯¯ç”¨ã€‚</li>
<li>å¯ä»¥å°†â€œå‡¡æ˜¯ä»¥<code>xxId</code>å‘½åçš„å­—æ®µä¸€å®šä¸ºè¡¨çš„ä¸»é”®â€è¿™æ ·çš„è§„åˆ™å†™åœ¨æ–‡æ¡£å¼€å§‹çš„å…¬å…±è¯´æ˜ä¸­ã€‚</li>
<li>æ˜ç¡®å¯é€‰å‚æ•°å¯¹åº”å€¼ä¸ºç©ºæ—¶ï¼Œæ˜¯ä¼ â€œkey:â€â€ â€è¿˜æ˜¯ç›´æ¥ä¸ä¼ å‚æ•°çš„keyã€‚</li>
<li>æ–‡æ¡£ä¸­è¦æœ‰è¯¦å®çš„ä¾‹å­ï¼Œè¿˜è¦æ³¨æ„æŒ‰ç…§æ¥å£è°ƒç”¨çš„æ—¶åºç»„ç»‡æ–‡æ¡£ã€‚</li>
</ul>
<h5 id="2-2-å·¥ä½œæµç¨‹ï¼š"><a href="#2-2-å·¥ä½œæµç¨‹ï¼š" class="headerlink" title="2.2 å·¥ä½œæµç¨‹ï¼š"></a>2.2 å·¥ä½œæµç¨‹ï¼š</h5><ul>
<li>ç°åœ¨çš„æµç¨‹ï¼š<br>  pcç«¯æ•°æ®åº“è®¾è®¡ä¸å¼€å‘ ã€‹ç§»åŠ¨ç«¯äº§å“è®¾è®¡ ã€‹<strong>ç§»åŠ¨ç«¯å¼€å‘ ã€‹ç§»åŠ¨ç«¯æ¥å£è®¾è®¡</strong> ã€‹pcç«¯æ¥å£å¼€å‘ </li>
</ul>
<ul>
<li><p>å¯ä¼˜åŒ–ä¸ºï¼š<br>  pcç«¯æ•°æ®åº“è®¾è®¡ä¸å¼€å‘ ã€‹ç§»åŠ¨ç«¯äº§å“è®¾è®¡ ã€‹<strong>ç§»åŠ¨ç«¯æ¥å£è®¾è®¡ ã€‹ç§»åŠ¨ç«¯å¼€å‘</strong> ã€‹pcç«¯æ¥å£å¼€å‘ </p>
</li>
<li><p>ä¼˜åŒ–åçš„å¥½å¤„ï¼š</p>
<ul>
<li>é¿å…ç§»åŠ¨ç«¯Modelæ„å»ºæ—¶ï¼Œé€ä¸ªæ¯”å¯¹å­—æ®µåç§°çš„é—®é¢˜ã€‚</li>
<li>å‡å°‘pcç«¯ä¾ç…§â€œç§»åŠ¨ç«¯å†™çš„æ¥å£æ–‡æ¡£â€å„ç§ä¿®æ”¹å­—æ®µåçš„é—®é¢˜ã€‚</li>
<li>é¢å‘æ¥å£è¿›è¡Œä»£ç è®¾è®¡ï¼Œå¯ä»¥åœ¨é¡¹ç›®åˆæœŸå°±å¯¹å„åŠŸèƒ½æ¨¡å—æœ‰æ•´ä½“è®¤è¯†ã€‚</li>
</ul>
</li>
</ul>
<h5 id="2-3-ç¼–å†™å·¥å…·ï¼š"><a href="#2-3-ç¼–å†™å·¥å…·ï¼š" class="headerlink" title="2.3 ç¼–å†™å·¥å…·ï¼š"></a>2.3 ç¼–å†™å·¥å…·ï¼š</h5><ul>
<li><p>ç°åœ¨çš„å·¥å…·ï¼š<br>  word + SVN(?)</p>
</li>
<li><p>å­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ul>
<li>å„ç§å’Œæ–‡æ¡£ç›¸å…³çš„æ ·å¼ã€ä¹±ç ã€æ’ç‰ˆçš„é—®é¢˜ã€‚</li>
<li>æ— æ³•å³æ—¶è°ƒè¯•ï¼Œéœ€è‡ªè¡Œç²˜è´´åˆ°postmanå»æµ‹è¯•ã€‚</li>
</ul>
</li>
<li><p>å¯ä¼˜åŒ–ä¸ºï¼š<br>  ï¼ swaggerï¼š<a href="http://editor.swagger.io/#/" target="_blank" rel="external">http://editor.swagger.io/#/</a><br>  ï¼ RAPï¼ˆfrom Alibabaï¼‰ï¼š </p>
<ul>
<li>Githubï¼š<a href="https://github.com/thx/RAP" target="_blank" rel="external">https://github.com/thx/RAP </a><ul>
<li>è¯´æ˜ï¼š<a href="http://div.io/topic/642" target="_blank" rel="external">http://div.io/topic/642</a> </li>
<li>ä¾‹å­ï¼š<a href="http://rap.taobao.org/workspace/myWorkspace.do?projectId=5359#37446" target="_blank" rel="external">http://rap.taobao.org/workspace/myWorkspace.do?projectId=5359#37446</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2-4-æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š"><a href="#2-4-æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š" class="headerlink" title="2.4 æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š"></a>2.4 æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š</h5><ul>
<li><a href="http://ismartstudio.com/mobile-app-server-side-api-should-be-designed-to-take-into-account-problems.html" target="_blank" rel="external">http://ismartstudio.com/mobile-app-server-side-api-should-be-designed-to-take-into-account-problems.html </a></li>
<li><a href="https://segmentfault.com/q/1010000002523945" title="https://segmentfault.com/q/1010000002523945" target="_blank" rel="external">https://segmentfault.com/q/1010000002523945</a> </li>
</ul>
<h3 id="3-ç§»åŠ¨ç«¯å¼€å‘"><a href="#3-ç§»åŠ¨ç«¯å¼€å‘" class="headerlink" title="3.ç§»åŠ¨ç«¯å¼€å‘"></a>3.ç§»åŠ¨ç«¯å¼€å‘</h3><h5 id="3-1-BugListåˆ†æ"><a href="#3-1-BugListåˆ†æ" class="headerlink" title="3.1 BugListåˆ†æ"></a>3.1 BugListåˆ†æ</h5><p>BugListï¼ˆiOSç«¯ï¼‰æ±‡æ€»å›¾è¡¨åŠæ˜ç»†<br>ï¼ˆè§<code>XX HR iOSç«¯BugListæ±‡æ€»åŠæ˜ç»†.xlsx</code>ï¼‰</p>
<p>Bugæ•°é‡æœ€å¤šçš„ç±»å‹å‰ä¸‰ç±»ï¼ˆå•ä½ï¼šä¸ªï¼‰ï¼š</p>
<ul>
<li>é€»è¾‘ç¼ºå¤±ï¼ˆ23ï¼‰</li>
<li>å’Œpcç«¯å¯¹æ¥é—®é¢˜ï¼ˆ19ï¼‰</li>
<li>æœªä¸RPå›¾å¯¹ç…§ï¼ˆ14ï¼‰</li>
</ul>
<p>é€ä¸ªåˆ†æä¸€ä¸‹ï¼š</p>
<h5 id="3-1-1-é€»è¾‘ç¼ºå¤±"><a href="#3-1-1-é€»è¾‘ç¼ºå¤±" class="headerlink" title="3.1.1 é€»è¾‘ç¼ºå¤±"></a>3.1.1 é€»è¾‘ç¼ºå¤±</h5><p>å…±è®¡23ä¸ªé€»è¾‘ç¼ºå¤±çš„Bugä¸­ï¼Œæ¯”è¾ƒçªå‡ºçš„é—®é¢˜æœ‰ï¼š</p>
<ul>
<li>æ•°æ®æ›´æ–°åæ²¡æœ‰è‡ªåŠ¨åˆ·æ–°çš„é—®é¢˜ï¼ˆ6ä¸ªï¼‰  </li>
<li>é¡µé¢æˆ–æ•°æ®çŠ¶æ€çš„ä¿å­˜æˆ–ä¼ é€’é—®é¢˜ï¼ˆ5ä¸ªï¼‰ï¼›</li>
<li>ç½‘ç»œè¯·æ±‚æ—¶ï¼Œå¯é€‰å‚æ•°keyä¸ºç©ºçš„å¤„ç†ï¼ˆ2ä¸ªï¼‰ã€‚</li>
</ul>
<p><strong>è§£å†³å»ºè®®</strong></p>
<ul>
<li>å¯¹äºæ•°æ®æœ‰å¯èƒ½æ›´æ–°çš„åˆ—è¡¨ï¼Œè¦æ·»åŠ è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½ï¼›</li>
<li>è¯·æ±‚æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸ä¼ çš„å‚æ•°keyéœ€è¦å•ç‹¬å¤„ç†ã€‚</li>
</ul>
<h5 id="3-1-2-å’Œpcç«¯å¯¹æ¥é—®é¢˜"><a href="#3-1-2-å’Œpcç«¯å¯¹æ¥é—®é¢˜" class="headerlink" title="3.1.2 å’Œpcç«¯å¯¹æ¥é—®é¢˜"></a>3.1.2 å’Œpcç«¯å¯¹æ¥é—®é¢˜</h5><p>å’Œpcç«¯å¯¹æ¥çš„ç›¸å…³Bugä¸­ï¼Œé—®é¢˜ä¸»è¦é›†ä¸­åœ¨ï¼š</p>
<ul>
<li>ç§»åŠ¨ç«¯ä½¿ç”¨å­—æ®µé”™è¯¯ï¼Œå¯¼è‡´å±•ç¤ºé”™è¯¯ä¿¡æ¯ï¼ˆ6ä¸ªï¼‰ï¼›</li>
<li>ä¸åŒæ¥å£çš„<code>BaseURL</code>ä¸ç›¸åŒï¼ˆåæœŸå·²ç»Ÿä¸€ï¼‰ï¼ˆ3ä¸ªï¼‰ï¼›</li>
<li>ç§»åŠ¨ç«¯ä½¿ç”¨çš„æ ¡éªŒæ–¹å¼ä¸pcç«¯ä¸ä¸€è‡´ï¼ˆ3ä¸ªï¼‰ï¼›</li>
<li>ç©ºå€¼çš„ä¼ è¾“å’Œå¤„ç†ï¼ˆ3ä¸ªï¼‰ï¼šå½“æŸå­—æ®µçš„å€¼ä¸ºç©ºæ—¶ï¼Œéœ€ä¼ ç»™æœåŠ¡å™¨keyå’Œç©ºå€¼ã€‚</li>
</ul>
<p><strong>è§£å†³å»ºè®®</strong></p>
<ul>
<li>å¢å¼ºå¯¹æ¥å£æ–‡æ¡£çš„ç»Ÿä¸€ç†è§£ï¼›</li>
<li>pcç«¯å’Œç§»åŠ¨ç«¯å¯ä»¥åœ¨å„è‡ªçš„æ¥å£å¼€å‘æ—¶çº¦å®šå¥½ï¼š<ul>
<li>æ‰€æœ‰æ¥å£çš„<code>BaseURL</code>ï¼›</li>
<li>é™¤äº†<code>status=1</code>å’Œ<code>status=-1</code>çš„çŠ¶æ€å¤–ï¼Œå…¶ä»–å¯èƒ½å­˜åœ¨<code>status=0</code>çš„æ¥å£ã€‚</li>
</ul>
</li>
</ul>
<h5 id="3-1-3-æœªä¸RPå›¾å¯¹ç…§"><a href="#3-1-3-æœªä¸RPå›¾å¯¹ç…§" class="headerlink" title="3.1.3 æœªä¸RPå›¾å¯¹ç…§"></a>3.1.3 æœªä¸RPå›¾å¯¹ç…§</h5><p>ä¸»è¦ç”±äºåœ¨RPå›¾ä¸æ–­æ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œæœªèƒ½åŠæ—¶å˜æ›´ç›¸åº”æµç¨‹ã€æ“ä½œå’Œç”¨æˆ·å‹å¥½æ€§çš„ç»†èŠ‚ã€‚è¿™ä¸€éƒ¨åˆ†çš„bugï¼Œæ˜¯åº”è¯¥åœ¨è‡ªæµ‹ä¸­æ¶ˆé™¤æ‰çš„ã€‚</p>
<h5 id="3-2-ä»£ç åˆ†æ"><a href="#3-2-ä»£ç åˆ†æ" class="headerlink" title="3.2 ä»£ç åˆ†æ"></a>3.2 ä»£ç åˆ†æ</h5><h5 id="3-2-1-ä»£ç è¡Œæ•°ç»Ÿè®¡"><a href="#3-2-1-ä»£ç è¡Œæ•°ç»Ÿè®¡" class="headerlink" title="3.2.1 ä»£ç è¡Œæ•°ç»Ÿè®¡"></a>3.2.1 ä»£ç è¡Œæ•°ç»Ÿè®¡</h5><table>
<thead>
<tr>
<th>æ–‡ä»¶å¤¹</th>
<th>ä»£ç è¡Œæ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>Classes</td>
<td>21357</td>
</tr>
<tr>
<td>Utility</td>
<td>2941</td>
</tr>
<tr>
<td>Constant</td>
<td>1498</td>
</tr>
<tr>
<td>AppDelegate</td>
<td>201</td>
</tr>
<tr>
<td>Categories</td>
<td>1758</td>
</tr>
<tr>
<td><strong>Sum</strong></td>
<td><strong>27755</strong></td>
</tr>
</tbody>
</table>
<h5 id="3-2-2-å…¬å…±ç±»çš„å°è£…"><a href="#3-2-2-å…¬å…±ç±»çš„å°è£…" class="headerlink" title="3.2.2 å…¬å…±ç±»çš„å°è£…"></a>3.2.2 å…¬å…±ç±»çš„å°è£…</h5><ul>
<li><code>BaseFundamentalViewController</code>ä¸­å°è£…äº†ç©ºæ•°æ®çš„å¤„ç†ã€ç½‘ç»œè¯·æ±‚ç­‰é€šç”¨åŠŸèƒ½ï¼Œé¡¹ç›®ä¸­å‡ ä¹æ‰€æœ‰controlleréƒ½ç»§æ‰¿è‡ªè¯¥ç±»ã€‚</li>
<li><code>BaseViewController</code>ç»§æ‰¿è‡ª<code>BaseFundamentalViewController</code>ã€‚ä¸»è¦å°è£…äº†ä¸TableViewç›¸å…³çš„åŠŸèƒ½ï¼Œå¦‚ä¸Šæ‹‰åŠ è½½ã€æ·»åŠ ï¼æ¸…é™¤ç­›é€‰æ¡ä»¶ç­‰ã€‚æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æ™®é€šåˆ—è¡¨çš„å±•ç¤ºï¼Œåªéœ€è¦ä¸åˆ°50è¡Œä»£ç ã€‚</li>
<li><code>BaseWebViewController</code>ç»§æ‰¿è‡ª<code>BaseFundamentalViewController</code>ã€‚ä¸»è¦ç”¨äºå…¨å±çš„webviewæ¨¡æ¿å±•ç¤ºã€‚</li>
</ul>
<h5 id="3-2-3-ä»£ç å¤ç”¨"><a href="#3-2-3-ä»£ç å¤ç”¨" class="headerlink" title="3.2.3 ä»£ç å¤ç”¨"></a>3.2.3 ä»£ç å¤ç”¨</h5><ul>
<li>ä»¥åå¯èƒ½ç”¨åˆ°çš„åŠŸèƒ½æ¨¡å—ï¼š<ul>
<li><code>Base</code>ç³»åˆ—ï¼›</li>
<li>ä¸‹è½½ç®¡ç†ï¼ˆ<em>å¾…å®Œå–„</em>ï¼‰ï¼›</li>
<li>WebViewæ¨¡æ¿å±•ç¤ºï¼ˆGRMustacheï¼‰ï¼›</li>
<li>è¡¨æ ¼å±•ç¤ºï¼ˆGridViewï¼‰ï¼›</li>
<li>Chartså±•ç¤ºï¼ˆChartsï¼‰ï¼›</li>
<li>å›¾ç‰‡æµè§ˆåŠé€‰æ‹©ï¼ˆæ”¯æŒå¤šé€‰ï¼ŒMWPhotoBrowserï¼‰ï¼›</li>
<li>è¡¨å•çš„å±•ç¤ºåŠå¡«å†™ï¼ˆXLFormï¼‰ï¼›</li>
<li>å¹´æœˆé€‰æ‹©å™¨ã€‚</li>
</ul>
</li>
</ul>
<h3 id="4-ç¾å·¥-amp-æµ‹è¯•"><a href="#4-ç¾å·¥-amp-æµ‹è¯•" class="headerlink" title="4.ç¾å·¥ &amp; æµ‹è¯•"></a>4.ç¾å·¥ &amp; æµ‹è¯•</h3><ul>
<li>å¯¹äºç§»åŠ¨ç«¯çš„åˆ‡å›¾å¯ä»¥é€æ¸æ¨¡æ¿åŒ–ï¼Œå¦‚æŸäº›å›ºå®šå°ºå¯¸ã€å›ºå®šçš„éœ€æ±‚ï¼ˆå¦‚ï¼šAndroidçš„å›¾ç‰‡è®¾è®¡æ—¶æœ‰æ•ˆå†…å®¹å°½é‡å±…ä¸­ï¼Œä¾¿äºè‡ªè¡Œå‰ªè£ï¼‰ç­‰ã€‚</li>
<li>æ—¶é—´å…è®¸çš„æ¡ä»¶ä¸‹ï¼ŒåŒç±»å‹bugå¯ä»¥è®¾ç½®å…³è”bugï¼Œæ–¹ä¾¿å¼€å‘äººå‘˜ç»Ÿä¸€ä¿®å¤ã€‚</li>
</ul>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2016/07/24/commands-in-svn/">å®ç”¨svnå‘½ä»¤</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-07-24
        </span></div>
    </header>

    <div class="post-content"><p>1.Check all the changed files:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> svn st</span></div></pre></td></tr></table></figure></p>
<p>2.Check the differences between this version and the last version:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> svn diff -r PREV filename</span></div></pre></td></tr></table></figure></p>
<p>3.Undo add a file before commit:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- language: bash --&gt;</span></div><div class="line">	$ svn revert --recursive folder_name</div></pre></td></tr></table></figure></p>
<p>4.Undo delete a file before commit:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> svn revert . --recursive</span></div></pre></td></tr></table></figure></p>
<p>5.Delete all locally missing files: <a href="http://stackoverflow.com/questions/9600382/svn-command-to-delete-all-locally-missing-files" title="http://stackoverflow.com/questions/9600382/svn-command-to-delete-all-locally-missing-files" target="_blank" rel="external">solutions</a></p>
<p>6.Delete a folder from svn repository:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ svn <span class="keyword">delete</span> http:<span class="regexp">//</span>www.yourrepository.com<span class="regexp">/svn/</span>folder --message <span class="string">"Deleting"</span></div></pre></td></tr></table></figure></p>
<p>7.Revert to a previous SVN revision of a file:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> svn merge -c -854 l3toks.dtx</span></div></pre></td></tr></table></figure></p>
<p>8.Ignore Pods foler:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> svn propset svn:ignore Pods .</span></div></pre></td></tr></table></figure></p>
<p>9.SVN remains in conflict status:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ svn resolved &lt;filename <span class="keyword">or</span> directory <span class="keyword">that</span> gives trouble&gt;</div></pre></td></tr></table></figure></p>
<p>10.View all historical changes to a file in SVN:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># history_of_file</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># Outputs the full history of a given file as a sequence of</span></div><div class="line"><span class="comment"># logentry/diff pairs.  The first revision of the file is emitted as</span></div><div class="line"><span class="comment"># full text since there's not previous version to compare it to.</span></div><div class="line"></div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">history_of_file</span></span>() &#123;</div><div class="line">    url=<span class="variable">$1</span> <span class="comment"># current url of file</span></div><div class="line">    svn <span class="built_in">log</span> -q <span class="variable">$url</span> | grep -E -e <span class="string">"^r[[:digit:]]+"</span> -o | cut -c2- | sort -n | &#123;</div><div class="line"></div><div class="line"><span class="comment">#       first revision as full text</span></div><div class="line">        <span class="built_in">echo</span></div><div class="line">        <span class="built_in">read</span> r</div><div class="line">        svn <span class="built_in">log</span> -r<span class="variable">$r</span> <span class="variable">$url</span>@HEAD</div><div class="line">        svn cat -r<span class="variable">$r</span> <span class="variable">$url</span>@HEAD</div><div class="line">        <span class="built_in">echo</span></div><div class="line"></div><div class="line"><span class="comment">#       remaining revisions as differences to previous revision</span></div><div class="line">        <span class="keyword">while</span> <span class="built_in">read</span> r</div><div class="line">        <span class="keyword">do</span></div><div class="line">            <span class="built_in">echo</span></div><div class="line">            svn <span class="built_in">log</span> -r<span class="variable">$r</span> <span class="variable">$url</span>@HEAD</div><div class="line">            svn diff -c<span class="variable">$r</span> <span class="variable">$url</span>@HEAD</div><div class="line">            <span class="built_in">echo</span></div><div class="line">        <span class="keyword">done</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">$ history_of_file <span class="variable">$1</span></div></pre></td></tr></table></figure></p>
<p>11.Add tags for SVN:</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># First of all, the `ios/1.0.39219` directory should already exists. If it doesn't, you can create it using `svn mkdir` like below.</span></div><div class="line"><span class="variable">$ </span>svn mkdir <span class="symbol">http:</span>/<span class="regexp">/path/to</span><span class="regexp">/project/tags</span><span class="regexp">/projectA/mobile</span><span class="regexp">/ios/</span><span class="number">1.0</span>.<span class="number">39219</span> -m <span class="string">"create tag v1.0 for iOS."</span></div><div class="line"><span class="variable">$ </span>svn copy <span class="symbol">http:</span>/<span class="regexp">/path/to</span><span class="regexp">/project/trunk</span><span class="regexp">/projectA/mobile</span><span class="regexp">/ios/project</span>A <span class="symbol">http:</span>/<span class="regexp">/path/to</span><span class="regexp">/project/tags</span><span class="regexp">/projectA/mobile</span><span class="regexp">/ios/</span><span class="number">1.0</span>.<span class="number">39219</span>/projectA -m <span class="string">"create v1.0. Before updating all the base url and cas url."</span></div><div class="line"></div><div class="line">Committed revision <span class="number">41000</span>.</div></pre></td></tr></table></figure>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2016/07/07/set-deployment-target-for-CocoaPods'-pod-in-batches/">Set deployment target for CocoaPodsâ€™ pod in batches</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-07-07
        </span></div>
    </header>

    <div class="post-content"><p>When I tried to <code>pod update</code> an old project, it changed all the podsâ€™ deployment target to 8.0. Iâ€™ve been tired up with changing it all the time and finally found <a href="http://stackoverflow.com/a/37289688/1594792" title="http://stackoverflow.com/a/37289688/1594792" target="_blank" rel="external">this solution</a>.</p>
<p>It says:</p>
<blockquote>
<p>While some development versions of CocoaPods (as well as pre-1.0 versions) may have propagated the deployment target of the project down to the pods, this is no longer the case in 1.0. To work around this, the current developer recommends using a post-install hook.<br>Hereâ€™s a brute force approach to force a hard-coded deployment target for every pod in the generated Pods project. Paste this at the end of your Podfile:<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">post_install <span class="built_in">do</span> |<span class="type">installer</span>|</div><div class="line">  <span class="type">installer</span>.pods_project.targets.each <span class="built_in">do</span> |<span class="type">target</span>|</div><div class="line">    <span class="type">target</span>.build_configurations.each <span class="built_in">do</span> |<span class="type">config</span>|</div><div class="line">      <span class="type">config</span>.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '<span class="number">9.2</span>'</div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure></p>
<p>Replace <code>9.2</code> with whatever deployment target you would like to use.</p>
</blockquote>
<p>It does work in two of my projects and the warnings and errors are silent again. LOL.</p>

        </div></article>
      <nav class="pagination"><a class="prev" href="/page/2/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    <a class="next" href="/page/4/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></section></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:calios_1124@163.com" class="iconfont icon-email" title="email"></a>
        <a href="http://github.com/caliosd" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2019<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Calios</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
