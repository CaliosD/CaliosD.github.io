<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰ Â· Calios' Eden</title><meta name="description" content="æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰ - Calios"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/img/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.calios.gq/atom.xml" title="Calios' Eden"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/img/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link active">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/calios1124" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/caliosd" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰</h1><div class="post-info">2016å¹´10æœˆ28æ—¥</div><div class="post-tags"><a href="/tags/iOS/" class="post-tag"> iOS</a><a href="/tags/UIKit/" class="post-tag"> UIKit</a></div><div class="post-content"><p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navbar.png" alt="" title="è‡ªå®šä¹‰navigationBarè¿”å›æŒ‰é’®"></p>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼šä¸€æ˜¯æŠŠåŸæœ‰çš„ä¸Šä¸€å±‚çš„titleå»æ‰ï¼ŒäºŒæ˜¯æŠŠè¿”å›æŒ‰é’®çš„indicatorå›¾ç‰‡æ¢æˆè‡ªå®šä¹‰çš„ã€‚</p>
<p>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œè§£å†³åŠæ³•æ˜¯ï¼š</p>
<pre><code>[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60) forBarMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬äºŒç‚¹ï¼Œæœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼š</p>
<pre><code>// Solution 1:
UIImage *img = [UIImage imageNamed:@&quot;itm_back&quot;];
[UINavigationBar appearance].backIndicatorImage = img;
[UINavigationBar appearance].backIndicatorTransitionMaskImage = img;

// Solution 2:
[[UIBarButtonItem appearance] setBackButtonBackgroundImage:[img resizableImageWithCapInsets:UIEdgeInsetsMake(0, img.size.width - 1, 0, 0)] forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰çš„back indicator imageï¼Œ<code>backIndicatorImage</code>å’Œ<code>backIndicatorTransitionMaskImage</code>å¿…é¡»æˆå¯¹å‡ºç°ï¼Œ<a href="https://developer.apple.com/reference/uikit/uinavigationbar/1624938-backindicatortransitionmaskimage" target="_blank" rel="external">åŒæ—¶è®¾ç½®</a>ã€‚</p>
<p>å¯¹äºç¬¬äºŒä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç›´æ¥æŠŠ<code>img</code>ä¼ è¿›å»ï¼Œå°±ä¼šå‘ç°ï¼Œå›¾ç‰‡è¢«æ‹‰é•¿äº†ï¼Œå˜æˆäº†ä¸€æŸ„å‰‘ã€‚ã€‚ã€‚</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navBar-sword.png" alt=""></p>
<p>è€Œåœ¨<code>-setBackButtonBackgroundImage: forState: barMetrics</code>çš„apiä¸­ï¼Œç‰¹æ„æ·»åŠ äº†æ³¨é‡Šæé†’å¼€å‘è€…ï¼š<code>backgroundImage must be a resizable image for good results.</code></p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/nav-showFrame.png" alt=""></p>
<p>è¿™é‡Œæˆ‘çš„ç†è§£æ˜¯ï¼Œnavigation barè¿”å›æŒ‰é’®çš„å›¾ç‰‡+æ–‡å­—çš„placeholderæœ‰å›ºå®šå°ºå¯¸ï¼Œå½“å›¾ç‰‡ä¸å¤Ÿå¡«å……æ»¡è¿™ä¸ªåŒºåŸŸçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹‰ä¼¸ï¼Œæ‰€ä»¥æ³¨é‡Šä¸­è¦æ±‚å¼€å‘è€…ä¼ å…¥ä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„å›¾ç‰‡ä½œä¸ºå‚æ•°ã€‚</p>
<p>è€Œå½“æˆ‘ä»¬è°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œå¹¶ä¼ å…¥capInsetsæ—¶ï¼Œç›¸å½“äºé”å®šäº†cap insetsçš„éƒ¨åˆ†ï¼Œè®©å…¶ä½™éƒ¨åˆ†è¿›è¡Œæ‹‰ä¼¸ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œè®¾ç½®capInsetsä¸º<code>UIEdgeInsetsMake(0, img.size.width, 0, 0)</code>ï¼Œç›¸å½“äºä¿è¯åŸå›¾ç‰‡å®½åº¦èŒƒå›´å†…çš„å›¾ç‰‡ä¸è¢«æ‹‰ä¼¸ï¼Œä¹Ÿå°±ä¿è¯äº†åŸå›¾ç‰‡çš„æ˜¾ç¤ºæ•ˆæœã€‚å½“ç„¶ï¼Œè°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œ<a href="https://developer.apple.com/reference/uikit/uiimage/1624102-resizableimagewithcapinsets" target="_blank" rel="external">å®é™…ä¸Šæ˜¯è¿”å›äº†ä¸€å¼ æ–°å›¾ç‰‡ï¼ŒåŸæœ‰çš„å›¾ç‰‡æ˜¯æ— æ³•è§¦åŠçš„</a>ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¸‹é¢é¢åŒ…ç‰‡æ¨¡å…·çš„ğŸŒ°æ¥ç†è§£è¿™ä¸ªæ–¹æ³•ï¼ˆå—¯ï¼Œåƒè´§çš„æ€è·¯å°±æ˜¯è¿™ä¹ˆç‹¬ç‰¹ã€‚ã€‚ï½_ï½ ï¼‰ï¼š</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/bread.jpeg" alt=""></p>
<p>è“è‰²æ¡†èŒƒå›´å†…æ˜¯åŸé¢åŒ…ç‰‡ï¼ˆå³åŸå›¾ç‰‡ï¼‰ï¼›è“è‰²æ¡†å’Œç»¿è‰²æ¡†ä¹‹é—´çš„é¢åŒ…è¾¹å„¿å°±æ˜¯ä½ è®¾å®šçš„capInsetsï¼Œè¿™å–å†³äºä½ ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ¨¡å…·ï¼›è€Œç»¿è‰²æ¡†èŒƒå›´å†…æ˜¯ä½ å¯ä»¥è‡ªç”±å‘æŒ¥çš„éƒ¨åˆ†ï¼Œé‡Œé¢å¤¹çŒ•çŒ´æ¡ƒé¦™è•‰ç‰‡éšä½ ï¼ˆå³å¯æ‹‰ä¼¸èŒƒå›´ã€‚ã€‚å—¯ï¼Œå¯¹äºé¢åŒ…ç‰‡æ˜¯çºµå‘çš„ä¼¸å±•ï¼‰ã€‚</p>
<hr>
<p>ä»¥ä¸‹å¼•è‡ªè‹¹æœå®˜æ–¹æ–‡æ¡£ï¼Œåˆ—åœ¨æ­¤å¤„ï¼Œå¤‡æŸ¥ã€‚</p>
<blockquote>
<p>ä»iOS5.0åŠä¹‹åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼ˆè‡ªå®šä¹‰baræ ·å¼ï¼‰åˆ—ä¸¾çš„æ–¹æ³•æ¥è‡ªå®šä¹‰UINavigationBarçš„æ ·å¼ã€‚ä½ å¯ä»¥ç”¨<code>[UINavigationBar appearance]</code>æ¥è‡ªå®šä¹‰æ‰€æœ‰UINavigationBarçš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥åªæ”¹å˜å•ç‹¬çš„ä¸€ä¸ªã€‚</p>
<p>åœ¨iOS 7ä¸­ï¼ŒUINavigationBarçš„<code>tintColor</code>ä¼šå½±å“è¿”å›æŒ‡ç¤ºæŒ‰é’®çš„å›¾ç‰‡ã€æŒ‰é’®çš„æ ‡é¢˜å’ŒæŒ‰é’®çš„å›¾ç‰‡ã€‚<code>barTintColor</code>ä¼šå½±å“baræœ¬èº«çš„é¢œè‰²ã€‚å¦å¤–ï¼Œnavigation baré»˜è®¤æ˜¯åŠé€æ˜çš„ã€‚å¼€å…³åŠé€æ˜çš„è®¾ç½®ä¸ä¼šå½±å“æŒ‰é’®ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ²¡æœ‰èƒŒæ™¯çš„ã€‚</p>
<p>è‡ªå®šä¹‰baræ ·å¼ï¼š</p>
<ul>
<li><code>backIndicatorImage</code>ï¼šè¿”å›æŒ‰é’®è¾¹ä¸Šçš„å›¾ç‰‡</li>
<li><code>backIndicatorTransitionMaskImage</code>ï¼šåœ¨pushå’Œpopè¿‡ç¨‹ä¸­ä½œä¸ºå†…å®¹çš„è’™ç‰ˆçš„å›¾ç‰‡ï¼ˆ@_@ï¼‰</li>
<li><code>titleVerticalPositionAdjustmentForBarMetrics:</code>ï¼šå¯¹ç»™å®šçš„æ¨ªå±æˆ–ç«–å±çš„barè°ƒæ•´titleçš„å‚ç›´æ–¹å‘çš„ä½ç½®åç§»ã€‚</li>
<li><code>titleTextAttributes</code>ï¼šbarçš„titleçš„å„ç§æ˜¾ç¤ºå±æ€§ï¼Œå¦‚å­—ä½“ã€é¢œè‰²ã€é˜´å½±ç­‰ã€‚</li>
</ul>
</blockquote>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://developer.apple.com/reference/uikit/uinavigationbar" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uinavigationbar</a></li>
<li><a href="https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc</a></li>
<li><a href="http://stackoverflow.com/a/20986544/1594792" target="_blank" rel="external">http://stackoverflow.com/a/20986544/1594792</a></li>
<li><a href="http://stackoverflow.com/a/29937730/1594792" target="_blank" rel="external">http://stackoverflow.com/a/29937730/1594792</a></li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2017/01/10/å†™åœ¨2017å¹´åˆ/" class="prev">PREV</a><a href="/2016/10/18/å¦‚ä½•æ›´æ–°Macä¸­è‡ªå¸¦çš„Vim/" class="next">NEXT</a></div><div class="copyright"><p>Â© 2015 - 2017 <a href="http://www.calios.gq">Calios</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>