<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Stedfast as thou art."><title>æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰ | Calios' Eden</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰</h1><a id="logo" href="/.">Calios' Eden</a><p class="description">Stedfast as thou art.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰</h1><div class="post-meta">Oct 28, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navbar.png" alt="" title="è‡ªå®šä¹‰navigationBarè¿”å›æŒ‰é’®"></p>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼šä¸€æ˜¯æŠŠåŸæœ‰çš„ä¸Šä¸€å±‚çš„titleå»æ‰ï¼ŒäºŒæ˜¯æŠŠè¿”å›æŒ‰é’®çš„indicatorå›¾ç‰‡æ¢æˆè‡ªå®šä¹‰çš„ã€‚</p>
<p>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œè§£å†³åŠæ³•æ˜¯ï¼š</p>
<pre><code>[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60) forBarMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬äºŒç‚¹ï¼Œæœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼š</p>
<pre><code>// Solution 1:
UIImage *img = [UIImage imageNamed:@&quot;itm_back&quot;];
[UINavigationBar appearance].backIndicatorImage = img;
[UINavigationBar appearance].backIndicatorTransitionMaskImage = img;

// Solution 2:
[[UIBarButtonItem appearance] setBackButtonBackgroundImage:[img resizableImageWithCapInsets:UIEdgeInsetsMake(0, img.size.width - 1, 0, 0)] forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰çš„back indicator imageï¼Œ<code>backIndicatorImage</code>å’Œ<code>backIndicatorTransitionMaskImage</code>å¿…é¡»æˆå¯¹å‡ºç°ï¼Œ<a href="https://developer.apple.com/reference/uikit/uinavigationbar/1624938-backindicatortransitionmaskimage" target="_blank" rel="external">åŒæ—¶è®¾ç½®</a>ã€‚</p>
<p>å¯¹äºç¬¬äºŒä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç›´æ¥æŠŠ<code>img</code>ä¼ è¿›å»ï¼Œå°±ä¼šå‘ç°ï¼Œå›¾ç‰‡è¢«æ‹‰é•¿äº†ï¼Œå˜æˆäº†ä¸€æŸ„å‰‘ã€‚ã€‚ã€‚</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navBar-sword.png" alt=""></p>
<p>è€Œåœ¨<code>-setBackButtonBackgroundImage: forState: barMetrics</code>çš„apiä¸­ï¼Œç‰¹æ„æ·»åŠ äº†æ³¨é‡Šæé†’å¼€å‘è€…ï¼š<code>backgroundImage must be a resizable image for good results.</code></p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/nav-showFrame.png" alt=""></p>
<p>è¿™é‡Œæˆ‘çš„ç†è§£æ˜¯ï¼Œnavigation barè¿”å›æŒ‰é’®çš„å›¾ç‰‡+æ–‡å­—çš„placeholderæœ‰å›ºå®šå°ºå¯¸ï¼Œå½“å›¾ç‰‡ä¸å¤Ÿå¡«å……æ»¡è¿™ä¸ªåŒºåŸŸçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹‰ä¼¸ï¼Œæ‰€ä»¥æ³¨é‡Šä¸­è¦æ±‚å¼€å‘è€…ä¼ å…¥ä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„å›¾ç‰‡ä½œä¸ºå‚æ•°ã€‚</p>
<p>è€Œå½“æˆ‘ä»¬è°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œå¹¶ä¼ å…¥capInsetsæ—¶ï¼Œç›¸å½“äºé”å®šäº†cap insetsçš„éƒ¨åˆ†ï¼Œè®©å…¶ä½™éƒ¨åˆ†è¿›è¡Œæ‹‰ä¼¸ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œè®¾ç½®capInsetsä¸º<code>UIEdgeInsetsMake(0, img.size.width, 0, 0)</code>ï¼Œç›¸å½“äºä¿è¯åŸå›¾ç‰‡å®½åº¦èŒƒå›´å†…çš„å›¾ç‰‡ä¸è¢«æ‹‰ä¼¸ï¼Œä¹Ÿå°±ä¿è¯äº†åŸå›¾ç‰‡çš„æ˜¾ç¤ºæ•ˆæœã€‚å½“ç„¶ï¼Œè°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œ<a href="https://developer.apple.com/reference/uikit/uiimage/1624102-resizableimagewithcapinsets" target="_blank" rel="external">å®é™…ä¸Šæ˜¯è¿”å›äº†ä¸€å¼ æ–°å›¾ç‰‡ï¼ŒåŸæœ‰çš„å›¾ç‰‡æ˜¯æ— æ³•è§¦åŠçš„</a>ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¸‹é¢é¢åŒ…ç‰‡æ¨¡å…·çš„ğŸŒ°æ¥ç†è§£è¿™ä¸ªæ–¹æ³•ï¼ˆå—¯ï¼Œåƒè´§çš„æ€è·¯å°±æ˜¯è¿™ä¹ˆç‹¬ç‰¹ã€‚ã€‚ï½_ï½ ï¼‰ï¼š</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/bread.jpeg" alt=""></p>
<p>è“è‰²æ¡†èŒƒå›´å†…æ˜¯åŸé¢åŒ…ç‰‡ï¼ˆå³åŸå›¾ç‰‡ï¼‰ï¼›è“è‰²æ¡†å’Œç»¿è‰²æ¡†ä¹‹é—´çš„é¢åŒ…è¾¹å„¿å°±æ˜¯ä½ è®¾å®šçš„capInsetsï¼Œè¿™å–å†³äºä½ ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ¨¡å…·ï¼›è€Œç»¿è‰²æ¡†èŒƒå›´å†…æ˜¯ä½ å¯ä»¥è‡ªç”±å‘æŒ¥çš„éƒ¨åˆ†ï¼Œé‡Œé¢å¤¹çŒ•çŒ´æ¡ƒé¦™è•‰ç‰‡éšä½ ï¼ˆå³å¯æ‹‰ä¼¸èŒƒå›´ã€‚ã€‚å—¯ï¼Œå¯¹äºé¢åŒ…ç‰‡æ˜¯çºµå‘çš„ä¼¸å±•ï¼‰ã€‚</p>
<hr>
<p>ä»¥ä¸‹å¼•è‡ªè‹¹æœå®˜æ–¹æ–‡æ¡£ï¼Œåˆ—åœ¨æ­¤å¤„ï¼Œå¤‡æŸ¥ã€‚</p>
<blockquote>
<p>ä»iOS5.0åŠä¹‹åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼ˆè‡ªå®šä¹‰baræ ·å¼ï¼‰åˆ—ä¸¾çš„æ–¹æ³•æ¥è‡ªå®šä¹‰UINavigationBarçš„æ ·å¼ã€‚ä½ å¯ä»¥ç”¨<code>[UINavigationBar appearance]</code>æ¥è‡ªå®šä¹‰æ‰€æœ‰UINavigationBarçš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥åªæ”¹å˜å•ç‹¬çš„ä¸€ä¸ªã€‚</p>
<p>åœ¨iOS 7ä¸­ï¼ŒUINavigationBarçš„<code>tintColor</code>ä¼šå½±å“è¿”å›æŒ‡ç¤ºæŒ‰é’®çš„å›¾ç‰‡ã€æŒ‰é’®çš„æ ‡é¢˜å’ŒæŒ‰é’®çš„å›¾ç‰‡ã€‚<code>barTintColor</code>ä¼šå½±å“baræœ¬èº«çš„é¢œè‰²ã€‚å¦å¤–ï¼Œnavigation baré»˜è®¤æ˜¯åŠé€æ˜çš„ã€‚å¼€å…³åŠé€æ˜çš„è®¾ç½®ä¸ä¼šå½±å“æŒ‰é’®ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ²¡æœ‰èƒŒæ™¯çš„ã€‚</p>
<p>è‡ªå®šä¹‰baræ ·å¼ï¼š</p>
<ul>
<li><code>backIndicatorImage</code>ï¼šè¿”å›æŒ‰é’®è¾¹ä¸Šçš„å›¾ç‰‡</li>
<li><code>backIndicatorTransitionMaskImage</code>ï¼šåœ¨pushå’Œpopè¿‡ç¨‹ä¸­ä½œä¸ºå†…å®¹çš„è’™ç‰ˆçš„å›¾ç‰‡ï¼ˆ@_@ï¼‰</li>
<li><code>titleVerticalPositionAdjustmentForBarMetrics:</code>ï¼šå¯¹ç»™å®šçš„æ¨ªå±æˆ–ç«–å±çš„barè°ƒæ•´titleçš„å‚ç›´æ–¹å‘çš„ä½ç½®åç§»ã€‚</li>
<li><code>titleTextAttributes</code>ï¼šbarçš„titleçš„å„ç§æ˜¾ç¤ºå±æ€§ï¼Œå¦‚å­—ä½“ã€é¢œè‰²ã€é˜´å½±ç­‰ã€‚</li>
</ul>
</blockquote>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://developer.apple.com/reference/uikit/uinavigationbar" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uinavigationbar</a></li>
<li><a href="https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc</a></li>
<li><a href="http://stackoverflow.com/a/20986544/1594792" target="_blank" rel="external">http://stackoverflow.com/a/20986544/1594792</a></li>
<li><a href="http://stackoverflow.com/a/29937730/1594792" target="_blank" rel="external">http://stackoverflow.com/a/29937730/1594792</a></li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://www.calios.gq/2016/10/28/æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰/" data-id="cj3vdeqtj005ogh51f90af8fu" class="article-share-link">åˆ†äº«åˆ°</a><div class="tags"><a href="/tags/iOS/">iOS</a><a href="/tags/UIKit/">UIKit</a></div><div class="post-nav"><a href="/2017/01/10/å†™åœ¨2017å¹´åˆ/" class="pre">å†™åœ¨2017å¹´åˆ</a><a href="/2016/10/18/å¦‚ä½•æ›´æ–°Macä¸­è‡ªå¸¦çš„Vim/" class="next">å¦‚ä½•æ›´æ–°Macä¸­è‡ªå¸¦çš„Vim</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://www.calios.gq"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/SolutionSummary/" style="font-size: 15px;">SolutionSummary</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/AVPlayer/" style="font-size: 15px;">AVPlayer</a> <a href="/tags/AutoLayout/" style="font-size: 15px;">AutoLayout</a> <a href="/tags/Bash/" style="font-size: 15px;">Bash</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/CoreAnimation/" style="font-size: 15px;">CoreAnimation</a> <a href="/tags/PragmaticProgrammer/" style="font-size: 15px;">PragmaticProgrammer</a> <a href="/tags/Cè¯­è¨€/" style="font-size: 15px;">Cè¯­è¨€</a> <a href="/tags/CAS/" style="font-size: 15px;">CAS</a> <a href="/tags/Block/" style="font-size: 15px;">Block</a> <a href="/tags/iOS8/" style="font-size: 15px;">iOS8</a> <a href="/tags/UIKit/" style="font-size: 15px;">UIKit</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/EnjoyMyCoffee/" style="font-size: 15px;">EnjoyMyCoffee</a> <a href="/tags/GPS/" style="font-size: 15px;">GPS</a> <a href="/tags/LLDB/" style="font-size: 15px;">LLDB</a> <a href="/tags/Foundation/" style="font-size: 15px;">Foundation</a> <a href="/tags/KVC/" style="font-size: 15px;">KVC</a> <a href="/tags/KVO/" style="font-size: 15px;">KVO</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/Objective-C/" style="font-size: 15px;">Objective-C</a> <a href="/tags/Regex/" style="font-size: 15px;">Regex</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/TesseractOCR/" style="font-size: 15px;">TesseractOCR</a> <a href="/tags/Background/" style="font-size: 15px;">Background</a> <a href="/tags/TextKit/" style="font-size: 15px;">TextKit</a> <a href="/tags/UICollectionView/" style="font-size: 15px;">UICollectionView</a> <a href="/tags/Swift/" style="font-size: 15px;">Swift</a> <a href="/tags/Chrome/" style="font-size: 15px;">Chrome</a> <a href="/tags/WebSocket/" style="font-size: 15px;">WebSocket</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/SourceRead/" style="font-size: 15px;">SourceRead</a> <a href="/tags/å¤šçº¿ç¨‹/" style="font-size: 15px;">å¤šçº¿ç¨‹</a> <a href="/tags/RichText/" style="font-size: 15px;">RichText</a> <a href="/tags/Terminal/" style="font-size: 15px;">Terminal</a> <a href="/tags/Clang/" style="font-size: 15px;">Clang</a> <a href="/tags/è„‘æ´å¼€ä¸€å¼€/" style="font-size: 15px;">è„‘æ´å¼€ä¸€å¼€</a> <a href="/tags/è¯‘è¨€/" style="font-size: 15px;">è¯‘è¨€</a> <a href="/tags/NotToCrashSeries/" style="font-size: 15px;">NotToCrashSeries</a> <a href="/tags/éšç¬”/" style="font-size: 15px;">éšç¬”</a> <a href="/tags/iOS9/" style="font-size: 15px;">iOS9</a> <a href="/tags/SVN/" style="font-size: 15px;">SVN</a> <a href="/tags/Download/" style="font-size: 15px;">Download</a> <a href="/tags/NSURLSession/" style="font-size: 15px;">NSURLSession</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Storyboard/" style="font-size: 15px;">Storyboard</a> <a href="/tags/JumpNStruggleOut/" style="font-size: 15px;">JumpNStruggleOut</a> <a href="/tags/Summary/" style="font-size: 15px;">Summary</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€æ–°æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/05/12/KVO-KVC-missing-points/">KVO & KVC çŸ¥è¯†ç‚¹å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/23/éšç¬”ä¸€åˆ™-0422/">éšç¬”ä¸€åˆ™-0422</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/19/WebSocketåˆæ¢/">WebSocketåˆæ¢</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/15/Regex-Notes/">Regex Notes</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/12/CASç™»å½•ä¹‹iOSç«¯æ€»ç»“/">CASç™»å½•ä¹‹iOSç«¯æ€»ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/22/GPS-and-related/">GPS and related</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/16/Objective-C-Runtime-Programming-Guide-ç¿»è¯‘åŠè¯¦è§£/">Objective-C Runtime Programming Guide ç¿»è¯‘åŠè¯¦è§£</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/[SourceRead]-MJExtension/">[SourceRead]-MJExtension</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/27/Cçš„å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼šç»“æ„ä½“ã€æŒ‡é’ˆã€å‡½æ•°æŒ‡é’ˆã€å†…å­˜åˆ†é…ç­‰/">Cçš„å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼šç»“æ„ä½“ã€æŒ‡é’ˆã€å‡½æ•°æŒ‡é’ˆã€å†…å­˜åˆ†é…ç­‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/Cçš„å®é­”æ³•/">Cçš„å®é­”æ³•</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Â© <a href="/." rel="nofollow">Calios' Eden.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>