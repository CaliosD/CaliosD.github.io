<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Stedfast as thou art."><title>Crash related to `UIVisualEffectView` | Calios' Eden</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Crash related to `UIVisualEffectView`</h1><a id="logo" href="/.">Calios' Eden</a><p class="description">Stedfast as thou art.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Crash related to `UIVisualEffectView`</h1><div class="post-meta">Mar 2, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span></div><div class="post-content"><p>å°è¯•åœ¨storyboardä¸­æ·»åŠ äº†ä¸€ä¸ª<code>UIVisualEffectView</code>ï¼Œç„¶ååˆæ·»åŠ äº†å‡ ä¸ªå­è§†å›¾ï¼Œç„¶åï¼Œå°±å’»çš„ä¸€ä¸‹ï¼ŒæŒ‚äº†ã€‚<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2016</span><span class="number">-03</span><span class="number">-02</span> <span class="number">14</span>:<span class="number">57</span>:<span class="number">45.953</span> K06-Where[<span class="number">3499</span>:<span class="number">225450</span>] The view hierarchy <span class="keyword">is</span> <span class="keyword">not</span> prepared <span class="keyword">for</span> <span class="keyword">the</span> constraint: &lt;NSLayoutConstraint:<span class="number">0x7f843501d7f0</span> UIView:<span class="number">0x7f843501da50</span>.centerX == UIVisualEffectView:<span class="number">0x7f843501d150</span>.centerX&gt;</div><div class="line">    When added <span class="keyword">to</span> a view, <span class="keyword">the</span> constraint's items must be descendants <span class="keyword">of</span> <span class="keyword">that</span> view (<span class="keyword">or</span> <span class="keyword">the</span> view itself). This will crash <span class="keyword">if</span> <span class="keyword">the</span> constraint needs <span class="keyword">to</span> be resolved <span class="keyword">before</span> <span class="keyword">the</span> view hierarchy <span class="keyword">is</span> assembled. Break <span class="keyword">on</span> -[UIView(UIConstraintBasedLayout) _viewHierarchyUnpreparedForConstraint:] <span class="keyword">to</span> debug.</div><div class="line"><span class="number">2016</span><span class="number">-03</span><span class="number">-02</span> <span class="number">14</span>:<span class="number">57</span>:<span class="number">45.954</span> K06-Where[<span class="number">3499</span>:<span class="number">225450</span>] The view hierarchy <span class="keyword">is</span> <span class="keyword">not</span> prepared <span class="keyword">for</span> <span class="keyword">the</span> constraint: &lt;NSLayoutConstraint:<span class="number">0x7f843501e250</span> UIView:<span class="number">0x7f843501da50</span>.top == UIVisualEffectView:<span class="number">0x7f843501d150</span>.top + <span class="number">66</span>&gt;</div></pre></td></tr></table></figure></p>
<p><code>command + shift + 0</code>æŸ¥ä¸€ä¸‹è‹¹æœçš„æ–‡æ¡£ï¼š</p>
<blockquote>
<p>After you add the visual effect view to the view hierarchy, add any subviews to the contentView property of the visual effect view. Do not add subviews directly to the visual effect view itself. (From <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView" title="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView" target="_blank" rel="external">ğŸ</a>)</p>
</blockquote>
<p>å¦‚åŒ<code>UITableViewCell</code>ä¸€æ ·ï¼Œ<code>UIVisualEffectView</code>æœ‰è‡ªå·±çš„<code>contentView</code>ã€‚æ‰€ä»¥ï¼Œä¸ç®¡æ˜¯æ·»åŠ å­è§†å›¾ï¼Œè¿˜æ˜¯æ·»åŠ å­è§†å›¾ç›¸å…³çš„çº¦æŸï¼Œéƒ½åº”è¯¥åŠ åœ¨è¿™ä¸ª<code>contentView</code>ä¸Šï¼Œè€Œä¸æ˜¯ç›´æ¥åŠ åˆ°<code>UIVisualEffectView</code>ä¸Šã€‚ä¸Šé¢çš„crashå°±æ˜¯ç”±äºå­è§†å›¾æ·»åŠ çš„çº¦æŸä¸ç¬¦åˆè§†å›¾æ ‘çš„è§„åˆ™å¯¼è‡´çš„ã€‚</p>
<p>çŸ¥é“äº†è¿™äº›ï¼ŒæŠŠåŸæœ¬æ·»åŠ åœ¨<code>UIVisualEffectView</code>çš„çº¦æŸåˆ æ‰ï¼Œæ”¹ä¸ºæ·»åŠ åˆ°å®ƒçš„<code>contentView</code>ä¸Šã€‚Overï½</p>
<hr>
<p><strong> Ref: </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView" target="_blank" rel="external">https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView</a></li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://www.caliosd.gq/2016/03/02/Crash-related-to-UIVisualEffectView/" data-id="cj59cqnms000ia851ptebwq9t" class="article-share-link">åˆ†äº«</a><div class="tags"><a href="/tags/iOS/">iOS</a><a href="/tags/iOS8/">iOS8</a><a href="/tags/UIKit/">UIKit</a></div><div class="post-nav"><a href="/2016/03/03/How-to-generate-a-random-number-in-Objective-C/" class="pre">How to generate a random number in Objective-C ?</a><a href="/2016/03/02/CoreLocation-Authorization-in-iOS8/" class="next">CoreLocation Authorization in iOS8+</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://www.caliosd.gq"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/TextKit/" style="font-size: 15px;">TextKit</a> <a href="/tags/AVPlayer/" style="font-size: 15px;">AVPlayer</a> <a href="/tags/AutoLayout/" style="font-size: 15px;">AutoLayout</a> <a href="/tags/Background/" style="font-size: 15px;">Background</a> <a href="/tags/PragmaticProgrammer/" style="font-size: 15px;">PragmaticProgrammer</a> <a href="/tags/Bash/" style="font-size: 15px;">Bash</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Block/" style="font-size: 15px;">Block</a> <a href="/tags/CAS/" style="font-size: 15px;">CAS</a> <a href="/tags/CoreAnimation/" style="font-size: 15px;">CoreAnimation</a> <a href="/tags/iOS8/" style="font-size: 15px;">iOS8</a> <a href="/tags/UIKit/" style="font-size: 15px;">UIKit</a> <a href="/tags/Cè¯­è¨€/" style="font-size: 15px;">Cè¯­è¨€</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/EnjoyMyCoffee/" style="font-size: 15px;">EnjoyMyCoffee</a> <a href="/tags/GPS/" style="font-size: 15px;">GPS</a> <a href="/tags/Foundation/" style="font-size: 15px;">Foundation</a> <a href="/tags/property/" style="font-size: 15px;">property</a> <a href="/tags/KVC/" style="font-size: 15px;">KVC</a> <a href="/tags/KVO/" style="font-size: 15px;">KVO</a> <a href="/tags/LLDB/" style="font-size: 15px;">LLDB</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/Objective-C/" style="font-size: 15px;">Objective-C</a> <a href="/tags/Regex/" style="font-size: 15px;">Regex</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/TesseractOCR/" style="font-size: 15px;">TesseractOCR</a> <a href="/tags/SolutionSummary/" style="font-size: 15px;">SolutionSummary</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/UICollectionView/" style="font-size: 15px;">UICollectionView</a> <a href="/tags/Swift/" style="font-size: 15px;">Swift</a> <a href="/tags/Chrome/" style="font-size: 15px;">Chrome</a> <a href="/tags/WebSocket/" style="font-size: 15px;">WebSocket</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/SourceRead/" style="font-size: 15px;">SourceRead</a> <a href="/tags/Clang/" style="font-size: 15px;">Clang</a> <a href="/tags/RichText/" style="font-size: 15px;">RichText</a> <a href="/tags/å¤šçº¿ç¨‹/" style="font-size: 15px;">å¤šçº¿ç¨‹</a> <a href="/tags/ARC/" style="font-size: 15px;">ARC</a> <a href="/tags/å†…å­˜ç®¡ç†/" style="font-size: 15px;">å†…å­˜ç®¡ç†</a> <a href="/tags/Terminal/" style="font-size: 15px;">Terminal</a> <a href="/tags/è„‘æ´å¼€ä¸€å¼€/" style="font-size: 15px;">è„‘æ´å¼€ä¸€å¼€</a> <a href="/tags/è¯‘è¨€/" style="font-size: 15px;">è¯‘è¨€</a> <a href="/tags/NotToCrashSeries/" style="font-size: 15px;">NotToCrashSeries</a> <a href="/tags/iOS9/" style="font-size: 15px;">iOS9</a> <a href="/tags/Download/" style="font-size: 15px;">Download</a> <a href="/tags/NSURLSession/" style="font-size: 15px;">NSURLSession</a> <a href="/tags/copy/" style="font-size: 15px;">copy</a> <a href="/tags/éšç¬”/" style="font-size: 15px;">éšç¬”</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/SVN/" style="font-size: 15px;">SVN</a> <a href="/tags/JumpNStruggleOut/" style="font-size: 15px;">JumpNStruggleOut</a> <a href="/tags/Summary/" style="font-size: 15px;">Summary</a> <a href="/tags/Storyboard/" style="font-size: 15px;">Storyboard</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/iOSçš„å†…å­˜ç®¡ç†ä¹‹ARCéƒ¨åˆ†æ€»ç»“/">iOSçš„å†…å­˜ç®¡ç†ä¹‹ARCéƒ¨åˆ†æ€»ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/28/å…³äºcopyçš„å¸¸è§é—®é¢˜/">å…³äºcopyçš„å¸¸è§é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/30/Issue-of-lazy-loading-property/">Issue of lazy loading property</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/12/KVO-KVC-missing-points/">KVO & KVC çŸ¥è¯†ç‚¹å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/23/éšç¬”ä¸€åˆ™-0422/">éšç¬”ä¸€åˆ™-0422-ç¾å›¢æ²™é¾™é¢åŸº</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/19/WebSocketåˆæ¢/">WebSocketåˆæ¢</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/15/Regex-Notes/">Regex Notes</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/12/CASç™»å½•ä¹‹iOSç«¯æ€»ç»“/">CASç™»å½•ä¹‹iOSç«¯æ€»ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/22/GPS-and-related/">GPS and related</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/16/Objective-C-Runtime-Programming-Guide-ç¿»è¯‘åŠè¯¦è§£/">Objective-C Runtime Programming Guide ç¿»è¯‘åŠè¯¦è§£</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2017 <a href="/." rel="nofollow">Calios' Eden.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>