<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Some methods for DownloadManager]]></title>
      <url>http://www.calios.gq/2017/01/10/%E4%B8%8B%E8%BD%BD%E7%AE%A1%E7%90%86%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>éšç€è‹¹æœæä¾›APIçš„ä¸æ–­å®Œå–„ï¼Œå®ç°ä¸‹è½½ç®¡ç†çš„æ–¹æ³•ä¹Ÿå‘ç”Ÿäº†ä¸€äº›å˜åŒ–ã€‚ä»ä½¿ç”¨æ›´æ–¹ä¾¿çš„ç¬¬ä¸‰æ–¹åº“ï¼Œåˆ°å®Œå…¨å¯ä»¥ç”¨è‡ªå¸¦APIå®ç°æ¯«æ— å‹åŠ›ã€‚ä¸”å°†å„ç§æ–¹æ³•è®°å½•äºæ­¤ï¼Œæƒå½“å¤‡æŸ¥ã€‚</p>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸‹ä¸‹è½½ç®¡ç†çš„èŒƒå›´ï¼š</p>
<ul>
<li>å¯ä»¥åŒæ—¶ä¸‹è½½å¤šä¸ªæ–‡ä»¶ï¼›</li>
<li>å¯¹äºå•ä¸ªæ–‡ä»¶è€Œå·²ï¼Œå¯ä»¥ä¸‹è½½/æš‚å®š/æ¢å¤ä¸‹è½½/å–æ¶ˆä¸‹è½½/æ˜¾ç¤ºä¸‹è½½è¿›åº¦ï¼›</li>
<li>å¯ä»¥æ§åˆ¶åŒæ—¶ä¸‹è½½çš„æœ€å¤§æ•°é‡ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œä»æœ€æ—©é‡‡ç”¨çš„å®ç°æ–¹æ³•è¯´èµ·ã€‚</p>
<ol>
<li>NSOperationQueue</li>
</ol>
<ul>
<li>åˆ›å»ºç»§æ‰¿è‡ª<code>NSOperation</code>çš„è‡ªå®šä¹‰ç±»ï¼›</li>
<li>å°†ä¸‹è½½éœ€è¦çš„ç½‘ç»œè¯·æ±‚ï¼ˆå¦‚<code>NSURLSessionDownloadTask</code>ï¼‰ä½œä¸ºå…¶ä¸­çš„ä¸€ä¸ªå±æ€§ï¼›</li>
</ul>
<ol>
<li>dispatch_queue_create()</li>
<li>NSURLSession</li>
</ol>
<p><strong>æ ¸å¿ƒï¼šAll the other APIs -> model -> UI</strong></p>
<p><strong>è¿™é‡Œé™„ä¸Šè‹¹æœå¼€å‘è€…è®ºå›ä¸­ï¼Œä¸€ä½å¼€å‘è€…ä¸è‹¹æœå¼€å‘è€…çš„å…³äº<code>NSURLSession</code>çš„é—®ç­”ï¼ˆ2015å¹´7æœˆï¼‰ã€‚</strong></p>
<p>æˆ‘éœ€è¦åœ¨æˆ‘çš„appä¸­ä¸Šä¼ 200å¼ å›¾ç‰‡ï¼Œ<br>1.æˆ‘è¯¥ä½¿ç”¨<code>NSURLSessionUploadTask</code>è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆç±»ï¼Ÿ<br>ç­”ï¼š<code>NSURLSessionUploadTask</code>.<br>2.ä¸ºäº†è®©è¿™äº›uploadä¿æŒåœ¨backgroundï¼Œæˆ‘è¯¥åšäº›ä»€ä¹ˆï¼Ÿ<br>ç­”ï¼šæŠŠæ‰€æœ‰çš„uploadæ‰”è¿›ä¸€ä¸ª<code>NSURLSession</code>çš„background sessionä¸­ã€‚<br>3.å½“appæ²¡æœ‰åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘è¯¥åšäº›ä»€ä¹ˆï¼Ÿï¼ˆæ²¡æœ‰æ˜ç¡®å›ç­”ï¼‰<br>4.é’ˆå¯¹ä»¥ä¸Š3ç‚¹ï¼Œæˆ‘è¯¥åœ¨<code>NSURLSession</code>å¤–é¢åŒ…ä¸€å±‚<code>NSOperation</code>ä»¥ä¾¿äºä½¿ç”¨<code>NSOperationQueue</code>ï¼Œè¿˜æ˜¯è¯´ï¼ŒiOSä¼šæœ‰å®ƒè‡ªå·±çš„å†…éƒ¨queueæ¥æ­£ç¡®å¤„ç†<code>NSURLSession</code>å¯¹è±¡ä»¬ï¼Ÿ<br>ç­”ï¼šè¿™ä¸ªå¾ˆéš¾è¯´ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘æ˜¯<code>NSOperation</code>çš„æ­»å¿ ç²‰ï¼Œä½†ç”±äºbackground sessionå’Œappç”Ÿå‘½å‘¨æœŸçš„äº¤äº’æ–¹å¼ï¼Œç”¨<code>NSOperation</code>æ¥è§£å†³<code>NSURLSession</code>çš„background sessionçš„é—®é¢˜å´æœ‰äº›æ£˜æ‰‹ã€‚<br>å…·ä½“æ¥è¯´ï¼Œé€šå¸¸çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<p>1.ä½ çš„appå¼€å§‹ä¸€å †åå°ä¼ è¾“ï¼›<br>2.ç”¨æˆ·æŠŠå®ƒç§»åˆ°åå°ï¼›<br>3.ç³»ç»Ÿæš‚åœäº†ä½ çš„appï¼›<br>4.ä¼ è¾“åœ¨åå°ç»§ç»­è¿è¡Œï¼›<br>5.ç³»ç»Ÿç»ˆæ­¢äº†ä½ çš„appï¼›<br>6.ä¼ è¾“ç»§ç»­åœ¨åå°è¿è¡Œï¼›<br>7.ä¼ è¾“ç»“æŸï¼›<br>8.ç³»ç»Ÿé‡æ–°å¯åŠ¨ä½ çš„appã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨<code>NSOperation</code>æ¥è¿½è¸ªæ¯ä¸ªä¼ è¾“ï¼Œå½“ä½ åœ¨ç¬¬8æ­¥é‡æ–°å¯åŠ¨appæ—¶ï¼Œå°±éœ€è¦é‡æ–°åˆ›å»ºé‚£ä¸€å †çš„operationã€‚å½“ç„¶ï¼Œåœ¨ç¬¬8æ­¥æ˜¯éœ€è¦é‡æ–°åˆ›å»º<em>ä¸€äº›ä¸œè¥¿</em>ï¼Œåªæ˜¯é‡æ–°åˆ›å»º<code>NSOperation</code>è¦æ¯”é‡æ–°åˆ›å»ºå…¶ä»–ä¸é‚£ä¹ˆå¤æ‚çš„å¯¹è±¡æ£˜æ‰‹äº›ã€‚</p>
<p>5.ä½ çš„æ„æ€æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä¸€æ¬¡æ€§æŠŠ200ä¸ª<code>NSURLSessionUploadTask</code>çš„å®ä¾‹æ·»åŠ åˆ°åŒä¸€ä¸ªbackground sessioné…ç½®çš„<code>NSURLSession</code>ä¸­ï¼ŒiOSä¼šæŠŠå®ƒä»¬éƒ½æ­£ç¡®å¤„ç†å¥½ï¼Ÿ<br>ç­”ï¼šæ˜¯çš„ã€‚<code>NSURLSession</code>åå°ä¸‹è½½ç³»ç»Ÿä¼šå¾ˆä¹æ„å¤„ç†å‡ ç™¾ä¸ªè¯·æ±‚çš„ã€‚å®ƒåœ¨å†…éƒ¨å°†å®ƒä»¬ä¸²è”èµ·æ¥ï¼Œæ‰€ä»¥åœ¨ä»»ä½•æ—¶å€™åªæœ‰å°‘é‡çš„è¯·æ±‚æ˜¯åœ¨æ‰§è¡Œä¸­ã€‚<br>6.å¦‚æœæ˜¯çš„è¯ï¼Œå¯¹äºtaskçš„æ•°é‡æ˜¯å¦æœ‰æ‰€é™åˆ¶ï¼Ÿ<br>ç­”ï¼šæ²¡æœ‰ç¡¬æ€§è§„å®šï¼Œä½†æˆ‘é€šå¸¸å»ºè®®ä¸è¦åšçš„å¤ªè¿‡åˆ†ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå‡ ç™¾ä¸ªè¯·æ±‚æ˜¯å¯ä»¥æ¥å—çš„ï¼Œå‡ åƒä¸ªè¯·æ±‚å°±æœ‰ç‚¹å‹‰å¼ºï¼Œä¸Šä¸‡çš„è¯·æ±‚å°±æœ‰ç‚¹2ã€‚ã€‚æˆ‘é€šå¸¸å»ºè®®ï¼Œå¦‚æœä½ ä¸å¾—ä¸å¤„ç†ä¸Šåƒä¸ªå•ç‹¬çš„itemï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬æ‰“åŒ…èµ·æ¥ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªå¯æ¢å¤çš„ä¼ è¾“ã€‚ç„¶è€Œï¼Œæœ‰ä¸€äº›é—®é¢˜ï¼š</p>
<ul>
<li>åšè¿™ç§äº‹æƒ…éœ€è¦ä¸¥è°¨çš„æœåŠ¡å™¨ç«¯çš„æ”¯æŒã€‚<ul>
<li><code>NSURLSession</code>çš„background sessionè‡ªåŠ¨å¤„ç†ä¸‹è½½çš„æ–­ç‚¹ç»­ä¼ ã€‚ä½†å¯¹äºä¸Šä¼ å¹¶éå¦‚æ­¤ã€‚å¦‚æœä½ éœ€è¦ä¸Šä¼ çš„æ–­ç‚¹ç»­ä¼ ï¼Œä½ å°±å¾—æ¶‰åŠåˆ°æ¯æ¬¡çš„è¿æ¥æ•°æ®ï¼ˆè¿™é‡ŒåŸæ–‡ç”¨çš„æ˜¯â€tearsâ€ï¼Œä¸å¤ªç†è§£ã€‚ã€‚ï¼‰ã€‚è€ƒè™‘åˆ°è¿™ä¸ªåŸå› ï¼ŒæŠŠä¸Šä¼ æ–‡ä»¶æ‰“åŒ…æˆåˆç†å¤§å°çš„æ•´å—æ–‡ä»¶å°±å¾ˆæœ‰å¿…è¦ï¼Œè¿™æ ·ä¸Šä¼ å°±ä¼šäº§ç”Ÿä¸€æ‰“çš„è¿›åº¦ï¼Œå³ä½¿æœ‰å¯èƒ½è¿æ¥å¤±è´¥ï¼Œä¹Ÿå¥½è¿‡ä½ çš„appé‡æ–°æ¢å¤ä¸Šä¼ ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å¦å¤–ï¼Œå¯¹äºå¦‚ä½•çŸ¥é“å½“å‰å¹¶è¡Œçš„ä¸‹è½½æ•°ï¼Œ<code>MZDownloadManager</code>çš„ä½œè€…ä¹Ÿåœ¨è¿™ä¸ªissueä¸‹ç»™å‡ºäº†<a href="https://github.com/mzeeshanid/MZDownloadManager/issues/29" target="_blank" rel="external">ç­”æ¡ˆ</a>ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯é€šè¿‡ç­›é€‰å­˜å‚¨ç€modelçš„arrayï¼Œå¾—åˆ°çŠ¶æ€ä¸ºâ€œä¸‹è½½ä¸­â€çš„modelçš„æ•°é‡ã€‚</strong></p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://forums.developer.apple.com/thread/10239" target="_blank" rel="external">https://forums.developer.apple.com/thread/10239</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Background fetch]]></title>
      <url>http://www.calios.gq/2017/01/10/Background-fetch/</url>
      <content type="html"><![CDATA[<p>å¦‚ä¸‹æ˜¯iOS7å¼€å§‹æ”¯æŒçš„background fetchåœ¨ä¸‹è½½ç®¡ç†ä¸­çš„åº”ç”¨ã€‚</p>
<p>1.Target -> Capabilities -> Background Modesï¼Œæ‰“å¼€å¼€å…³ï¼Œå‹¾é€‰<code>Background fetch</code>ä¸€é¡¹ã€‚<br>2.åœ¨è´Ÿè´£ä¸‹è½½ç®¡ç†çš„<code>CDDownloadManager</code>ï¼Œæˆ–æ˜¯<code>AppDelegate</code>ä¸­ï¼Œæ·»åŠ <code>@property (nonatomic, copy) void (^savedCompletionHandler)();</code>å±æ€§ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨<code>application:handleEventsForBackgroundURLSession:completionHandler:</code>ä¼ å…¥çš„blockï¼ˆè¯¦ç»†è¯´æ˜è§åæ–‡ï¼‰ã€‚<br>3.åœ¨<code>AppDelegate.m</code>ä¸­æ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<pre><code>- (void)application:(UIApplication *)application handleEventsForBackgroundURLSession:(NSString *)identifier completionHandler:(void (^)())completionHandler
{
    NSLog(@&quot;%s&quot;,__FUNCTION__);

    [CDDownloadManager sharedManager].savedCompletionHandler = completionHandler;
}
</code></pre><p>åœ¨iOSä¸­ï¼Œå½“åå°ä¼ è¾“ç»“æŸæˆ–æ˜¯éœ€è¦è®¤è¯æ—¶ï¼Œå¦‚æœä½ çš„appä¸æ˜¯æ­£åœ¨è¿è¡Œçš„çŠ¶æ€ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨åœ¨åæ¥é‡æ–°å¯åŠ¨ï¼Œç„¶åappçš„<code>UIApplicationDelegate</code> ä¼šæ”¶åˆ°<code>application:handleEventsForBackgroundURLSession:completionHandler:</code>æ¶ˆæ¯ã€‚è¿™ä¸ªå‡½æ•°ä¸­åŒ…æ‹¬å¯¼è‡´appå¯åŠ¨çš„sessionçš„identifierã€‚ä½ çš„appåº”è¯¥åœ¨ç”¨ç›¸åŒçš„identifieråˆ›å»ºåå°configurationå¯¹è±¡ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªcompletion handlerå­˜ä¸‹æ¥ã€‚æ–°åˆ›å»ºçš„sessionä¼šè‡ªåŠ¨å’Œæ­£åœ¨æ‰§è¡Œçš„åå°æ´»åŠ¨å…³è”èµ·æ¥ã€‚</p>
<p>4.åœ¨<code>CDDownloadManager.m</code>ï¼Œæˆ–æ˜¯å…¶ä»–åˆ›å»ºäº†<code>NSURLSession</code>å®ä¾‹çš„ç±»ä¸­ï¼Œå®ç°å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<pre><code>- (void)URLSessionDidFinishEventsForBackgroundURLSession:(NSURLSession *)session
{
    NSLog(@&quot;%s&quot;, __FUNCTION__);

    [self.session getTasksWithCompletionHandler:^(NSArray&lt;NSURLSessionDataTask *&gt; * _Nonnull dataTasks, NSArray&lt;NSURLSessionUploadTask *&gt; * _Nonnull uploadTasks, NSArray&lt;NSURLSessionDownloadTask *&gt; * _Nonnull downloadTasks) {
        if (downloadTasks.count == 0) {
            // A.
            if (self.savedCompletionHandler != nil) {
                void(^completionHandler)() = self.savedCompletionHandler;

                self.savedCompletionHandler = nil;

                // B. 
                [[NSOperationQueue mainQueue] addOperationWithBlock:^{
                    completionHandler();
                    // C.
                    UNMutableNotificationContent *content = [[UNMutableNotificationContent alloc] init];
                    content.title = @&quot;Calios said:&quot;;
                    content.body = @&quot;Hi, what about enjoy Swift in 2017?&quot;;
                    content.sound = [UNNotificationSound defaultSound];
                    content.badge = @([[UIApplication sharedApplication] applicationIconBadgeNumber] + 1);

                    UNTimeIntervalNotificationTrigger *trigger = [UNTimeIntervalNotificationTrigger triggerWithTimeInterval:5.f repeats:NO];
                    UNNotificationRequest *request = [UNNotificationRequest requestWithIdentifier:@&quot;FiveSecond&quot; content:content trigger:trigger];

                    UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];
                    [center addNotificationRequest:request withCompletionHandler:^(NSError * _Nullable error) {
                        if (!error) {
                            NSLog(@&quot;add notification request succeed!&quot;);
                        }
                    }];
                }];
            }
        }
    }];
}
</code></pre><p>å¯¹åº”ä¸Šæ®µä»£ç çš„å‡ ç‚¹è¯´æ˜ï¼š<br>A. è¿™é‡Œçš„<code>self.savedCompletionHandler</code>å°±æ˜¯ä¸Šé¢åœ¨<code>AppDelegate.m</code>ä¸­è¢«èµ‹å€¼çš„å®¶ä¼™ã€‚<br>B. ç”±äºæä¾›çš„completion handleræ˜¯<code>UIKIt</code>çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸€å®šè¦åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨ã€‚<br>C. è¿™é‡Œçš„æ“ä½œæ˜¯åœ¨æ‰€æœ‰ä¸‹è½½å®Œæˆåå¼¹å‡ºä¸€ä¸ªæœ¬åœ°é€šçŸ¥ï¼Œå¹¶åœ¨consoleæ˜¾ç¤ºä¸€è¡Œlogã€‚å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œæ›´æ”¹ã€‚<strong>æ³¨ï¼š</strong>iOS 10ä¹‹åï¼Œæœ¬åœ°é€šçŸ¥å’Œè¿œç¨‹é€šçŸ¥ç›¸å…³çš„æ¥å£éƒ½ç§»åˆ°äº†<code>UserNotification</code>ä¸­ï¼ŒAPIä¹Ÿæœ‰å¾ˆå¤šå˜åŒ–ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œæ›´å¤šè¯¦æƒ…å¯å‚è§å–µç¥çš„<a href="https://onevcat.com/2016/08/notification/" target="_blank" rel="external">è¿™ç¯‡åšå®¢</a>ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Blockå­¦ä¹ ç¬”è®°]]></title>
      <url>http://www.calios.gq/2017/01/10/Block%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<h3 id="1-Blockå£°æ˜"><a href="#1-Blockå£°æ˜" class="headerlink" title="1.Blockå£°æ˜"></a>1.Blockå£°æ˜</h3><p>ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶è®©blockä¸­å¼•ç”¨çš„æ‰€æœ‰å˜é‡éƒ½è¢«ä¿å­˜ä¸‹æ¥ï¼Œä»¥å¤‡åœ¨blockçš„æ‰€æœ‰å‰¯æœ¬çš„ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ã€‚</p>
<pre><code>- (void)block1
{
    int (^myTest)(int) = ^(int num){
        return num * num;
    };
    NSLog(@&quot;double: %d&quot;,myTest(9));
}
</code></pre><h3 id="2-åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨-blockå£°æ˜"><a href="#2-åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨-blockå£°æ˜" class="headerlink" title="2.åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨__blockå£°æ˜"></a>2.åœ¨blockä¸­æ”¹å˜çš„å¤–éƒ¨å˜é‡ï¼Œéœ€è¦ç”¨<code>__block</code>å£°æ˜</h3><pre><code>- (void)block2
{
    NSArray *stringsArray = @[ @&quot;string 1&quot;,
                               @&quot;String 21&quot;, // &lt;-
                               @&quot;string 12&quot;,
                               @&quot;String 11&quot;,
                               @&quot;StrÃ®ng 21&quot;, // &lt;-
                               @&quot;StriÃ±g 21&quot;, // &lt;-
                               @&quot;String 02&quot; ];

    NSLocale *currentLocale = [NSLocale currentLocale];
    __block NSUInteger orderedSameCount = 0;

    NSArray *diacriticInsensitiveSortArray = [stringsArray sortedArrayUsingComparator:^(id string1, id string2) {

        NSRange string1Range = NSMakeRange(0, [string1 length]);
        NSComparisonResult comparisonResult = [string1 compare:string2 options:NSDiacriticInsensitiveSearch range:string1Range locale:currentLocale];

        if (comparisonResult == NSOrderedSame) {
            orderedSameCount++;
        }
        return comparisonResult;
    }];

    NSLog(@&quot;diacriticInsensitiveSortArray: %@&quot;, diacriticInsensitiveSortArray);
    NSLog(@&quot;orderedSameCount: %lu&quot;, (unsigned long)orderedSameCount);
}
</code></pre><h3 id="3-blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic-argumentsï¼‰"><a href="#3-blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic-argumentsï¼‰" class="headerlink" title="3.blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic argumentsï¼‰"></a>3.blockæ”¯æŒä¸å®šä¸ªæ•°çš„å‚æ•°ï¼ˆvariadic argumentsï¼‰</h3><pre><code>- (void)block3
{
    void (^variadicParams)(NSString*, ...) = ^(NSString *format, ...) {
        id eachObject;
        va_list argumentList;   // va_listæ˜¯æŒ‡å‘å˜é‡åˆ—è¡¨çš„æŒ‡é’ˆ
        if (format) {   // ç¬¬ä¸€ä¸ªå‚æ•°å¹¶ä¸æ˜¯å˜é‡åˆ—è¡¨ä¸­çš„ä¸€ä¸ª
            NSMutableArray *tmpArray = [NSMutableArray arrayWithObject:format];
            va_start(argumentList, format); // åˆå§‹åŒ–va_listï¼Œå¹¶è®©å®ƒæŒ‡å‘ä¼ å…¥çš„å‚æ•°ï¼ˆformatï¼‰åé¢ç´§è·Ÿçš„ç¬¬ä¸€ä¸ªå‚æ•°
            while ((eachObject = va_arg(argumentList, id)) != nil){  //   va_argï¼Œå–å‡ºåˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå‚æ•°ã€‚å¿…é¡»æŒ‡æ˜å‚æ•°çš„ç±»å‹ï¼ˆè¿™æ ·va_argæ‰èƒ½çŸ¥é“è¯¥ç»™å®ƒåˆ†é…å¤šå°‘ç©ºé—´ï¼‰
                [tmpArray addObject:eachObject];    // ä¸ä¼šæŠŠä»»ä½•nilå¯¹è±¡æ·»åŠ åˆ°tmpArrayä¸­
            }
            va_end(argumentList);   // é‡Šæ”¾va_listè¿™ä¸ªæ•°æ®ç»“æ„æ‰€æŒæœ‰çš„ä»»ä½•å†…å­˜
            NSLog(@&quot;variadic params: %@&quot;,tmpArray);
        }
    };

    variadicParams(@&quot;11&quot;,@&quot;22&quot;,@&quot;333&quot;,@&quot;666&quot;,nil);  //  ï£¿ Calios:è¿™é‡Œæœ€åä¸€ä¸ªå‚æ•°å¿…é¡»ä¼ nilï¼Œargså¿…é¡»æœ‰æœ€åä¸€ä¸ªç»“å°¾ï¼Œå¦åˆ™æ˜¯æ— æ³•åˆ¤æ–­çš„ã€‚Butï¼Œwhyï¼Ÿ
}
</code></pre><h3 id="4-å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’"><a href="#4-å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’" class="headerlink" title="4.å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’"></a>4.å‡ ç§ç±»å‹çš„å˜é‡ä¸blockçš„äº¤äº’</h3><pre><code>NSInteger CounterGlobal;    //  ï£¿ Calios:It throws out error for not finding CounterGlobal if extern is added. But, why?
static NSInteger CounterStatic;

- (void)block4
{
    NSInteger localCounter = 42;
    __block char localCharacter;

    void (^aBlock)(void) = ^(void) {
        ++CounterGlobal;
        ++CounterStatic;
        CounterGlobal = localCounter; // localCounter fixed at block creation
        localCharacter = &apos;a&apos;; // sets localCharacter in enclosing scope
    };

    ++localCounter; // unseen by the block
    localCharacter = &apos;b&apos;;

    aBlock(); // execute the block
    // localCharacter now &apos;a&apos;
}
</code></pre><h3 id="5-å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚"><a href="#5-å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚" class="headerlink" title="5.å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚"></a>5.å½“blockè¢«å¤åˆ¶çš„æ—¶å€™ï¼Œå®ƒä¼šå¯¹blockä¸­ä½¿ç”¨çš„å¯¹è±¡å˜é‡äº§ç”Ÿå¼ºå¼•ç”¨ã€‚</h3><p>å¦‚æœä½ åœ¨ä¸€ä¸ªæ–¹æ³•çš„å®ç°ä¸­ä½¿ç”¨äº†blockï¼š</p>
<ul>
<li><p>å¦‚æœä½ ä½¿ç”¨äº†å®ä¾‹å˜é‡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆå°±å¯¹<strong>self</strong>äº§ç”Ÿäº†å¼ºå¼•ç”¨ï¼›</p>
<ul>
<li><p>å¦‚æœä½ ä½¿ç”¨äº†å®ä¾‹å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå°±å¯¹<strong>è¯¥å˜é‡</strong>äº§ç”Ÿäº†å¼ºå¼•ç”¨ã€‚</p>
<ul>
<li>(void)block5<br>{<br>void (^doSomethingWithObject)(id) = ^(id var){<br>NSLog(@â€do something: %@â€,var);<br>};<br>dispatch_queue_t queue = dispatch_queue_create(â€œcom.calios.BlockSample.someQueueâ€, DISPATCH_QUEUE_SERIAL);<br>dispatch_async(queue, ^{    // dispatch_async()æ˜¯å°†blockæ‹·è´åˆ°æŒ‡å®šçš„queueä¸­ï¼Œè€Œå¤åˆ¶æ“ä½œï¼ˆBlock_copy()ï¼‰ä¼šå°†blockç§»åŠ¨åˆ°å †ä¸Šã€‚<br>// instanceVariable is used by reference, a strong reference is made to self<br>doSomethingWithObject(instanceVariable);<br>});</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>id localVariable = instanceVariable;
dispatch\_async(queue, ^{
    /*
     localVariable is used by value, a strong reference is made to localVariable
     (and not to self).
     */
    doSomethingWithObject(localVariable);
});
    }
</code></pre><h3 id="6-åº”è¯¥é¿å…çš„åšæ³•"><a href="#6-åº”è¯¥é¿å…çš„åšæ³•" class="headerlink" title="6.åº”è¯¥é¿å…çš„åšæ³•"></a>6.åº”è¯¥é¿å…çš„åšæ³•</h3><p>blockå­—é¢é‡ï¼ˆå³^{ â€¦ }ï¼‰æ˜¯ä»£è¡¨è¿™ä¸ªblockçš„å±€éƒ¨æ ˆæ•°æ®ç»“æ„çš„åœ°å€ã€‚å› æ­¤ï¼Œå±€éƒ¨æ ˆæ•°æ®ç»“æ„çš„ä½œç”¨äºå°±æ˜¯ä»…é™äºå¤§æ‹¬å·ä¸­çš„è¯­å¥ï¼Œæ‰€ä»¥ä½ åº”<strong>é¿å…</strong>å‘ä¸‹é¢è¿™æ ·ä½¿ç”¨blockã€‚</p>
<pre><code>- (void)block6
{
    dontDoThis();
    dontDoThisEither();
}

void dontDoThis() {
    void (^blockArray[3])(void);  // an array of 3 block references

    for (int i = 0; i &lt; 3; ++i) {
        blockArray[i] = ^{ printf(&quot;hello, %d\n&quot;, i); };
        // WRONG: The block literal scope is the &quot;for&quot; loop.
    }
}

void dontDoThisEither() {
    void (^block)(void);

    int i = arc4random() % 1024;
    if (i &gt; 1000) {
        block = ^{ printf(&quot;got i at: %d\n&quot;, i); };
        // WRONG: The block literal scope is the &quot;then&quot; clause.
    }
    // ...
}
</code></pre><hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Blocks/Articles/00_Introduction.html" target="_blank" rel="external">https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Blocks/Articles/00_Introduction.html</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å†™åœ¨2017å¹´åˆ]]></title>
      <url>http://www.calios.gq/2017/01/10/%E5%86%99%E5%9C%A82017%E5%B9%B4%E5%88%9D/</url>
      <content type="html"><![CDATA[<p>åœ¨æœ¬åœ°çš„Homebrewè¢«æˆ‘ææŒ‚æ‰ä¹‹åï¼Œåšå®¢ä¼‘çœ äº†ä¸¤ä¸ªå¤šæœˆã€‚æœ¬åœ°çš„è‰ç¨¿ç®±ä¸€ç›´å¢åŠ ï¼Œonlineçš„å†…å®¹ä¸€ç›´æ²¡å˜åŒ–ã€‚å®åœ¨ä¸èƒ½å¿äº†ã€‚</p>
<p>ç»ˆäºåœ¨2017å¹´çš„ç¬¬åå¤©è¢«æˆ‘ä¿®ç†å¥½äº†ã€‚ç»§ç»­ç¬¬ä¸‰å¹´çš„blogä¹‹æ—…ã€‚</p>
<p><strong>ä½†æ±‚æŠŠçŸ¥è¯†å˜æˆèƒ½åŠ›ï¼›</strong><br><strong>ä½†æ±‚æŠŠæ¯æ¶©çš„çŸ¥è¯†å˜æˆä¸°ç›ˆçš„è¯­è¨€ï¼›</strong><br><strong>ä½†æ±‚æˆ‘å¿ƒä¾æ—§ã€‚</strong></p>
<p>â€”â€” Calios<br>2017.01.10</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æµ…æè‡ªå®šä¹‰UINavigationBarè¿”å›æŒ‰é’®ï¼ˆä¸€ï¼‰]]></title>
      <url>http://www.calios.gq/2016/10/28/%E6%B5%85%E6%9E%90%E8%87%AA%E5%AE%9A%E4%B9%89UINavigationBar%E8%BF%94%E5%9B%9E%E6%8C%89%E9%92%AE%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navbar.png" alt="" title="è‡ªå®šä¹‰navigationBarè¿”å›æŒ‰é’®"></p>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼šä¸€æ˜¯æŠŠåŸæœ‰çš„ä¸Šä¸€å±‚çš„titleå»æ‰ï¼ŒäºŒæ˜¯æŠŠè¿”å›æŒ‰é’®çš„indicatorå›¾ç‰‡æ¢æˆè‡ªå®šä¹‰çš„ã€‚</p>
<p>å¯¹äºç¬¬ä¸€ç‚¹ï¼Œè§£å†³åŠæ³•æ˜¯ï¼š</p>
<pre><code>[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60) forBarMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬äºŒç‚¹ï¼Œæœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼š</p>
<pre><code>// Solution 1:
UIImage *img = [UIImage imageNamed:@&quot;itm_back&quot;];
[UINavigationBar appearance].backIndicatorImage = img;
[UINavigationBar appearance].backIndicatorTransitionMaskImage = img;

// Solution 2:
[[UIBarButtonItem appearance] setBackButtonBackgroundImage:[img resizableImageWithCapInsets:UIEdgeInsetsMake(0, img.size.width - 1, 0, 0)] forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];
</code></pre><p>å¯¹äºç¬¬ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰çš„back indicator imageï¼Œ<code>backIndicatorImage</code>å’Œ<code>backIndicatorTransitionMaskImage</code>å¿…é¡»æˆå¯¹å‡ºç°ï¼Œ<a href="https://developer.apple.com/reference/uikit/uinavigationbar/1624938-backindicatortransitionmaskimage" target="_blank" rel="external">åŒæ—¶è®¾ç½®</a>ã€‚</p>
<p>å¯¹äºç¬¬äºŒä¸ªè§£å†³åŠæ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç›´æ¥æŠŠ<code>img</code>ä¼ è¿›å»ï¼Œå°±ä¼šå‘ç°ï¼Œå›¾ç‰‡è¢«æ‹‰é•¿äº†ï¼Œå˜æˆäº†ä¸€æŸ„å‰‘ã€‚ã€‚ã€‚</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/navBar-sword.png" alt=""></p>
<p>è€Œåœ¨<code>-setBackButtonBackgroundImage: forState: barMetrics</code>çš„apiä¸­ï¼Œç‰¹æ„æ·»åŠ äº†æ³¨é‡Šæé†’å¼€å‘è€…ï¼š<code>backgroundImage must be a resizable image for good results.</code></p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/nav-showFrame.png" alt=""></p>
<p>è¿™é‡Œæˆ‘çš„ç†è§£æ˜¯ï¼Œnavigation barè¿”å›æŒ‰é’®çš„å›¾ç‰‡+æ–‡å­—çš„placeholderæœ‰å›ºå®šå°ºå¯¸ï¼Œå½“å›¾ç‰‡ä¸å¤Ÿå¡«å……æ»¡è¿™ä¸ªåŒºåŸŸçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹‰ä¼¸ï¼Œæ‰€ä»¥æ³¨é‡Šä¸­è¦æ±‚å¼€å‘è€…ä¼ å…¥ä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„å›¾ç‰‡ä½œä¸ºå‚æ•°ã€‚</p>
<p>è€Œå½“æˆ‘ä»¬è°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œå¹¶ä¼ å…¥capInsetsæ—¶ï¼Œç›¸å½“äºé”å®šäº†cap insetsçš„éƒ¨åˆ†ï¼Œè®©å…¶ä½™éƒ¨åˆ†è¿›è¡Œæ‹‰ä¼¸ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œè®¾ç½®capInsetsä¸º<code>UIEdgeInsetsMake(0, img.size.width, 0, 0)</code>ï¼Œç›¸å½“äºä¿è¯åŸå›¾ç‰‡å®½åº¦èŒƒå›´å†…çš„å›¾ç‰‡ä¸è¢«æ‹‰ä¼¸ï¼Œä¹Ÿå°±ä¿è¯äº†åŸå›¾ç‰‡çš„æ˜¾ç¤ºæ•ˆæœã€‚å½“ç„¶ï¼Œè°ƒç”¨<code>resizableImageWithCapInsets:</code>æ–¹æ³•ï¼Œ<a href="https://developer.apple.com/reference/uikit/uiimage/1624102-resizableimagewithcapinsets" target="_blank" rel="external">å®é™…ä¸Šæ˜¯è¿”å›äº†ä¸€å¼ æ–°å›¾ç‰‡ï¼ŒåŸæœ‰çš„å›¾ç‰‡æ˜¯æ— æ³•è§¦åŠçš„</a>ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¸‹é¢é¢åŒ…ç‰‡æ¨¡å…·çš„ğŸŒ°æ¥ç†è§£è¿™ä¸ªæ–¹æ³•ï¼ˆå—¯ï¼Œåƒè´§çš„æ€è·¯å°±æ˜¯è¿™ä¹ˆç‹¬ç‰¹ã€‚ã€‚ï½_ï½ ï¼‰ï¼š</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/bread.jpeg" alt=""></p>
<p>è“è‰²æ¡†èŒƒå›´å†…æ˜¯åŸé¢åŒ…ç‰‡ï¼ˆå³åŸå›¾ç‰‡ï¼‰ï¼›è“è‰²æ¡†å’Œç»¿è‰²æ¡†ä¹‹é—´çš„é¢åŒ…è¾¹å„¿å°±æ˜¯ä½ è®¾å®šçš„capInsetsï¼Œè¿™å–å†³äºä½ ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ¨¡å…·ï¼›è€Œç»¿è‰²æ¡†èŒƒå›´å†…æ˜¯ä½ å¯ä»¥è‡ªç”±å‘æŒ¥çš„éƒ¨åˆ†ï¼Œé‡Œé¢å¤¹çŒ•çŒ´æ¡ƒé¦™è•‰ç‰‡éšä½ ï¼ˆå³å¯æ‹‰ä¼¸èŒƒå›´ã€‚ã€‚å—¯ï¼Œå¯¹äºé¢åŒ…ç‰‡æ˜¯çºµå‘çš„ä¼¸å±•ï¼‰ã€‚</p>
<hr>
<p>ä»¥ä¸‹å¼•è‡ªè‹¹æœå®˜æ–¹æ–‡æ¡£ï¼Œåˆ—åœ¨æ­¤å¤„ï¼Œå¤‡æŸ¥ã€‚</p>
<blockquote>
<p>ä»iOS5.0åŠä¹‹åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼ˆè‡ªå®šä¹‰baræ ·å¼ï¼‰åˆ—ä¸¾çš„æ–¹æ³•æ¥è‡ªå®šä¹‰UINavigationBarçš„æ ·å¼ã€‚ä½ å¯ä»¥ç”¨<code>[UINavigationBar appearance]</code>æ¥è‡ªå®šä¹‰æ‰€æœ‰UINavigationBarçš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥åªæ”¹å˜å•ç‹¬çš„ä¸€ä¸ªã€‚</p>
<p>åœ¨iOS 7ä¸­ï¼ŒUINavigationBarçš„<code>tintColor</code>ä¼šå½±å“è¿”å›æŒ‡ç¤ºæŒ‰é’®çš„å›¾ç‰‡ã€æŒ‰é’®çš„æ ‡é¢˜å’ŒæŒ‰é’®çš„å›¾ç‰‡ã€‚<code>barTintColor</code>ä¼šå½±å“baræœ¬èº«çš„é¢œè‰²ã€‚å¦å¤–ï¼Œnavigation baré»˜è®¤æ˜¯åŠé€æ˜çš„ã€‚å¼€å…³åŠé€æ˜çš„è®¾ç½®ä¸ä¼šå½±å“æŒ‰é’®ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ²¡æœ‰èƒŒæ™¯çš„ã€‚</p>
<p>è‡ªå®šä¹‰baræ ·å¼ï¼š</p>
<ul>
<li><code>backIndicatorImage</code>ï¼šè¿”å›æŒ‰é’®è¾¹ä¸Šçš„å›¾ç‰‡</li>
<li><code>backIndicatorTransitionMaskImage</code>ï¼šåœ¨pushå’Œpopè¿‡ç¨‹ä¸­ä½œä¸ºå†…å®¹çš„è’™ç‰ˆçš„å›¾ç‰‡ï¼ˆ@_@ï¼‰</li>
<li><code>titleVerticalPositionAdjustmentForBarMetrics:</code>ï¼šå¯¹ç»™å®šçš„æ¨ªå±æˆ–ç«–å±çš„barè°ƒæ•´titleçš„å‚ç›´æ–¹å‘çš„ä½ç½®åç§»ã€‚</li>
<li><code>titleTextAttributes</code>ï¼šbarçš„titleçš„å„ç§æ˜¾ç¤ºå±æ€§ï¼Œå¦‚å­—ä½“ã€é¢œè‰²ã€é˜´å½±ç­‰ã€‚</li>
</ul>
</blockquote>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="https://developer.apple.com/reference/uikit/uinavigationbar" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uinavigationbar</a></li>
<li><a href="https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc" target="_blank" rel="external">https://developer.apple.com/reference/uikit/uibarbuttonitem?language=objc</a></li>
<li><a href="http://stackoverflow.com/a/20986544/1594792" target="_blank" rel="external">http://stackoverflow.com/a/20986544/1594792</a></li>
<li><a href="http://stackoverflow.com/a/29937730/1594792" target="_blank" rel="external">http://stackoverflow.com/a/29937730/1594792</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¦‚ä½•æ›´æ–°Macä¸­è‡ªå¸¦çš„Vim]]></title>
      <url>http://www.calios.gq/2016/10/18/%E5%A6%82%E4%BD%95%E6%9B%B4%E6%96%B0Mac%E4%B8%AD%E8%87%AA%E5%B8%A6%E7%9A%84Vim/</url>
      <content type="html"><![CDATA[<p>å‰å‡ å¤©ç¿»å–æ¡ƒå›çš„å…¬ä¼—å·ï¼Œæ¸©æ•…äº†ä¸€ä¸‹Vim 8.0çš„ç§ç§æˆ‘ç›®å‰ä¹Ÿç”¨ä¸ä¸Šçš„ç‰¹æ€§ï¼Œç«Ÿæ˜¯å…´å¥‹äº†ä¸€ä¼šå„¿ï¼Œæ¥ç€å°±å¼€å§‹è€ƒè™‘æ€ä¹ˆæŠŠæœ¬æœºçš„Vimå‡çº§æˆ8.0äº†ã€‚</p>
<p>æ ¹æ®SOFä¸Šçš„ä¸€ä¸ªå›ç­”ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre><code>$ # Create the directories you need
$ sudo mkdir -p /opt/local/bin
$ # Download, compile, and install the latest Vim
$ cd ~
$ hg clone https://bitbucket.org/vim-mirror/vim or git clone https://github.com/vim/vim.git
$ 
$ cd vim
$ ./configure --prefix=/opt/local
$ make
$ sudo make install
$ # Add the binary to your path, ahead of /usr/bin
$ echo &apos;PATH=/opt/local/bin:$PATH&apos; &gt;&gt; ~/.bash_profile
$ # Reload bash_profile so the changes take effect in this window
$ source ~/.bash_profile
</code></pre><p><strong>æ³¨æ„ï¼š</strong></p>
<p><code>/usr/bin</code>è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œé™¤éæœ‰æ˜ç¡®çš„ç†ç”±ï¼Œå¦åˆ™ä¸è¦æ”¹åŠ¨ã€‚ä¸€æ—¦æ“ä½œå¤±è¯¯ï¼Œæ— æ³•å›é€€ã€‚æ‰€ä»¥ï¼Œè°¨æ…ä¸ºå¦™ã€‚</p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/a/7211910/1594792" target="_blank" rel="external">http://stackoverflow.com/a/7211910/1594792</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘Workspace & Project & Target & Scheme çš„åŒºåˆ«]]></title>
      <url>http://www.calios.gq/2016/09/03/%E3%80%90%E8%AF%91%E3%80%91Workspace-Project-Target-Scheme-%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      <content type="html"><![CDATA[<p>æ¥è‡ª<a href="http://stackoverflow.com/users/916299/james-webster" title="http://stackoverflow.com/users/916299/james-webster" target="_blank" rel="external">James Webster</a>çš„å›ç­”ï¼š</p>
<ul>
<li><strong>Workspace:</strong> åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª<code>project</code>ï¼Œè¿™äº›<code>project</code>é€šå¸¸æ˜¯ç›¸äº’å…³è”çš„ã€‚</li>
<li><strong>Project:</strong> åŒ…æ‹¬ä»£ç å’Œèµ„æºç­‰ç­‰ã€‚ï¼ˆä½ ä¼šç†Ÿæ‚‰è¿™äº›çš„ã€‚ï¼‰</li>
<li><strong>Target:</strong> æ¯ä¸ª<code>project</code>éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª<code>target</code>ã€‚<ul>
<li>æ¯ä¸ªtargetéƒ½å®šä¹‰äº†è¯¥<code>project</code>çš„ build settingåˆ—è¡¨ã€‚</li>
<li>æ¯ä¸ªtargetè¿˜å®šä¹‰äº†åœ¨buildæ—¶éœ€è¦å¼•ç”¨æˆ–ä½¿ç”¨çš„ç±»ã€èµ„æºã€è‡ªå®šä¹‰è„šæœ¬çš„åˆ—è¡¨ã€‚</li>
<li>Targeté€šå¸¸ç”¨äºåŒä¸€ä¸ªprojectçš„ä¸åŒå‘å¸ƒç‰ˆæœ¬ã€‚<ul>
<li>æ¯”å¦‚ï¼Œæˆ‘çš„é¡¹ç›®æœ‰ä¸¤ä¸ªtargetï¼Œä¸€ä¸ªé€šç”¨æ„å»ºå’Œä¸€ä¸ªå®˜æ–¹æ„å»ºï¼Œå…¶ä¸­åè€…åŒ…å«é¢å¤–æµ‹è¯•åŠŸèƒ½ï¼Œå¯èƒ½è¿˜åŒ…å«å‡ ç§èƒŒæ™¯éŸ³ä¹è½¨é“ï¼Œè¿˜æœ‰ä¸€ä¸ªåˆ‡æ¢è½¨é“çš„æŒ‰é’®ã€‚</li>
<li>ä½ åº”è¯¥å·²ç»ä¹ æƒ¯äºå‘é»˜è®¤çš„targetä¸­æ·»åŠ ç±»å’Œèµ„æºäº†ã€‚</li>
<li>ä½ å¯ä»¥æŒ‘é€‰å“ªäº›ç±»ï¼èµ„æºè¢«æ·»åŠ åˆ°å“ªä¸ªtargetä¸­ã€‚<ul>
<li>åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘æœ‰ä¸€ä¸ªå«â€œDebugHandlerâ€çš„ç±»è¦æ·»åŠ åˆ°å®˜æ–¹æ„å»ºä¸­ã€‚</li>
</ul>
</li>
<li>å¦‚æœä½ æ·»åŠ æµ‹è¯•ï¼Œå°±éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„targetäº†ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>Scheme: </strong> Schemeå®šä¹‰äº†å½“ä½ æŒ‰ä¸‹â€œBuildâ€ï¼Œâ€œTestâ€ï¼Œâ€œProfileâ€çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆã€‚<ul>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ªtargetåŒ…æ‹¬è‡³å°‘ä¸€ä¸ªschemeã€‚</li>
<li>ä½ å¯ä»¥ä¸ºä½ çš„targetè‡ªåŠ¨åˆ›å»ºschemeï¼Œæ–¹æ³•æ˜¯åœ¨ Scheme > Manage Schemesï¼Œç‚¹â€œAutocreate Schemes Nowâ€ã€‚</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/a/20637892/1594792" target="_blank" rel="external">http://stackoverflow.com/a/20637892/1594792</a></li>
<li><a href="http://www.teratotech.com/blog/xcode-7-steps-to-easily-switch-between-multiple-environments/" target="_blank" rel="external">http://www.teratotech.com/blog/xcode-7-steps-to-easily-switch-between-multiple-environments/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æŸHRé¡¹ç›®iOSç«¯æ€»ç»“]]></title>
      <url>http://www.calios.gq/2016/08/19/%E6%9F%90HR%E9%A1%B9%E7%9B%AEiOS%E7%AB%AF%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<h1 id="1-äº§å“è®¾è®¡"><a href="#1-äº§å“è®¾è®¡" class="headerlink" title="1.äº§å“è®¾è®¡"></a>1.äº§å“è®¾è®¡</h1><ul>
<li>åŠæ—¶æ›´æ–°RPå›¾ã€‚</li>
<li>å¯¹äºiOSå’ŒAndroidå·®å¼‚åŒ–ä¸å¤§çš„é¡µé¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¥—RPå›¾ã€‚</li>
<li>ä¿è¯å¯¹é¡µé¢é€»è¾‘çš„è¯¦ç»†è¯´æ˜ã€‚</li>
<li>å¯¹äºç‰¹æ®ŠçŠ¶æ€ï¼ˆå¦‚ç­›é€‰ã€æœç´¢ç­‰ï¼‰çš„è¯´æ˜ï¼å›¾è§£è¦æ¸…æ™°ã€‚</li>
</ul>
<h1 id="2-æ¥å£æ–‡æ¡£éƒ¨åˆ†"><a href="#2-æ¥å£æ–‡æ¡£éƒ¨åˆ†" class="headerlink" title="2.æ¥å£æ–‡æ¡£éƒ¨åˆ†"></a>2.æ¥å£æ–‡æ¡£éƒ¨åˆ†</h1><h3 id="2-1-æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š"><a href="#2-1-æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="2.1 æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š"></a>2.1 æ–‡æ¡£ç¼–å†™çš„æ³¨æ„äº‹é¡¹ï¼š</h3><ul>
<li>å¯¹äºæ‰€æœ‰æ¥å£éƒ½é€šç”¨çš„å‚æ•°æˆ–JSONæ•°æ®æ ¼å¼ï¼Œå¯ä»¥æ·»åŠ å…¬å…±è®¾ç½®çš„éƒ¨åˆ†ï¼Œé›†ä¸­è¯´æ˜ã€‚ </li>
<li>è¯·æ±‚æ•°æ®çš„å‚æ•°ï¼Œè¦è¯´æ˜å“ªäº›æ˜¯å¿…é¡»çš„ï¼Œå“ªäº›æ˜¯å¯é€‰çš„ï¼Œå¯é€‰çš„é»˜è®¤å€¼æ˜¯ä»€ä¹ˆã€‚ </li>
<li>è¯´æ¸…è¯·æ±‚æ•°æ®çš„æ–¹å¼æ˜¯GETè¿˜æ˜¯POSTã€‚ </li>
<li>å‘½åè¦æ¸…æ™°ï¼Œå¯¹äº<strong>åè¯</strong>å‘½åçš„å‚æ•°ï¼ŒåŒºåˆ†æ¸…æ¥š<code>xxId</code>å’Œ<code>xxTitle</code>ï¼Œè€Œä¸æ˜¯<code>xx</code>ã€‚ </li>
<li>æ ‡è®°ç±»å‹ã€çŠ¶æ€ç±»å‹çš„æ–‡å­—ï¼Œä¸å…¶ç§»åŠ¨ç«¯å’ŒæœåŠ¡å™¨å„è‡ªæ‰‹åŠ¨ç»´æŠ¤ä¸€ç»„æšä¸¾å€¼ï¼Œä¸å¦‚ä¼ è¾“<strong>æ–‡å­—æœ¬èº«</strong>ã€‚ </li>
<li>è¯·æ±‚å‚æ•°å’Œè¿”å›å‚æ•°ä¸­ï¼Œç‰¹æ®Šç±»å‹çš„æ•°æ®è¦è¯´æ˜ã€‚å¦‚æ—¥æœŸçš„æ ¼å¼æ˜¯<code>yyyy-MM-dd</code>ã€<code>yyyy/MM/dd</code>è¿˜æ˜¯<code>yyyy.MM</code>ã€‚ </li>
<li>æ— éœ€å°†userId/usernameä¼ ç»™æœåŠ¡å™¨æ—¶ï¼Œåšå†³ä¸ä¼ ï¼Œé¿å…æœåŠ¡å™¨ç«¯å¯¹äºuserId/usernameçš„è¯¯ç”¨ã€‚</li>
<li>å¯ä»¥å°†â€œå‡¡æ˜¯ä»¥<code>xxId</code>å‘½åçš„å­—æ®µä¸€å®šä¸ºè¡¨çš„ä¸»é”®â€è¿™æ ·çš„è§„åˆ™å†™åœ¨æ–‡æ¡£å¼€å§‹çš„å…¬å…±è¯´æ˜ä¸­ã€‚</li>
<li>æ˜ç¡®å¯é€‰å‚æ•°å¯¹åº”å€¼ä¸ºç©ºæ—¶ï¼Œæ˜¯ä¼ â€œkey:â€â€ â€è¿˜æ˜¯ç›´æ¥ä¸ä¼ å‚æ•°çš„keyã€‚</li>
<li>æ–‡æ¡£ä¸­è¦æœ‰è¯¦å®çš„ä¾‹å­ï¼Œè¿˜è¦æ³¨æ„æŒ‰ç…§æ¥å£è°ƒç”¨çš„æ—¶åºç»„ç»‡æ–‡æ¡£ã€‚</li>
</ul>
<h3 id="2-2-å·¥ä½œæµç¨‹ï¼š"><a href="#2-2-å·¥ä½œæµç¨‹ï¼š" class="headerlink" title="2.2 å·¥ä½œæµç¨‹ï¼š"></a>2.2 å·¥ä½œæµç¨‹ï¼š</h3><ul>
<li>ç°åœ¨çš„æµç¨‹ï¼š<br>  pcç«¯æ•°æ®åº“è®¾è®¡ä¸å¼€å‘ ã€‹ç§»åŠ¨ç«¯äº§å“è®¾è®¡ ã€‹<strong>ç§»åŠ¨ç«¯å¼€å‘ ã€‹ç§»åŠ¨ç«¯æ¥å£è®¾è®¡</strong> ã€‹pcç«¯æ¥å£å¼€å‘ </li>
</ul>
<ul>
<li><p>å¯ä¼˜åŒ–ä¸ºï¼š<br>  pcç«¯æ•°æ®åº“è®¾è®¡ä¸å¼€å‘ ã€‹ç§»åŠ¨ç«¯äº§å“è®¾è®¡ ã€‹<strong>ç§»åŠ¨ç«¯æ¥å£è®¾è®¡ ã€‹ç§»åŠ¨ç«¯å¼€å‘</strong> ã€‹pcç«¯æ¥å£å¼€å‘ </p>
</li>
<li><p>ä¼˜åŒ–åçš„å¥½å¤„ï¼š</p>
<ul>
<li>é¿å…ç§»åŠ¨ç«¯Modelæ„å»ºæ—¶ï¼Œé€ä¸ªæ¯”å¯¹å­—æ®µåç§°çš„é—®é¢˜ã€‚</li>
<li>å‡å°‘pcç«¯ä¾ç…§â€œç§»åŠ¨ç«¯å†™çš„æ¥å£æ–‡æ¡£â€å„ç§ä¿®æ”¹å­—æ®µåçš„é—®é¢˜ã€‚</li>
<li>é¢å‘æ¥å£è¿›è¡Œä»£ç è®¾è®¡ï¼Œå¯ä»¥åœ¨é¡¹ç›®åˆæœŸå°±å¯¹å„åŠŸèƒ½æ¨¡å—æœ‰æ•´ä½“è®¤è¯†ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-3-ç¼–å†™å·¥å…·ï¼š"><a href="#2-3-ç¼–å†™å·¥å…·ï¼š" class="headerlink" title="2.3 ç¼–å†™å·¥å…·ï¼š"></a>2.3 ç¼–å†™å·¥å…·ï¼š</h3><ul>
<li><p>ç°åœ¨çš„å·¥å…·ï¼š<br>  word + SVN(?)</p>
</li>
<li><p>å­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ul>
<li>å„ç§å’Œæ–‡æ¡£ç›¸å…³çš„æ ·å¼ã€ä¹±ç ã€æ’ç‰ˆçš„é—®é¢˜ã€‚</li>
<li>æ— æ³•å³æ—¶è°ƒè¯•ï¼Œéœ€è‡ªè¡Œç²˜è´´åˆ°postmanå»æµ‹è¯•ã€‚</li>
</ul>
</li>
<li><p>å¯ä¼˜åŒ–ä¸ºï¼š<br>  ï¼ swaggerï¼š<a href="http://editor.swagger.io/#/" target="_blank" rel="external">http://editor.swagger.io/#/</a><br>  ï¼ RAPï¼ˆfrom Alibabaï¼‰ï¼š </p>
<ul>
<li>Githubï¼š<a href="https://github.com/thx/RAP" target="_blank" rel="external">https://github.com/thx/RAP </a><ul>
<li>è¯´æ˜ï¼š<a href="http://div.io/topic/642" target="_blank" rel="external">http://div.io/topic/642</a> </li>
<li>ä¾‹å­ï¼š<a href="http://rap.taobao.org/workspace/myWorkspace.do?projectId=5359#37446" target="_blank" rel="external">http://rap.taobao.org/workspace/myWorkspace.do?projectId=5359#37446</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-4-æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š"><a href="#2-4-æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š" class="headerlink" title="2.4 æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š"></a>2.4 æ¥å£è®¾è®¡è¦è€ƒè™‘çš„é—®é¢˜ï¼ˆä¾›å‚è€ƒï¼‰ï¼š</h3><ul>
<li><a href="http://ismartstudio.com/mobile-app-server-side-api-should-be-designed-to-take-into-account-problems.html" target="_blank" rel="external">http://ismartstudio.com/mobile-app-server-side-api-should-be-designed-to-take-into-account-problems.html </a></li>
<li><a href="https://segmentfault.com/q/1010000002523945" title="https://segmentfault.com/q/1010000002523945" target="_blank" rel="external">https://segmentfault.com/q/1010000002523945</a> </li>
</ul>
<h1 id="3-ç§»åŠ¨ç«¯å¼€å‘"><a href="#3-ç§»åŠ¨ç«¯å¼€å‘" class="headerlink" title="3.ç§»åŠ¨ç«¯å¼€å‘"></a>3.ç§»åŠ¨ç«¯å¼€å‘</h1><h3 id="3-1-BugListåˆ†æ"><a href="#3-1-BugListåˆ†æ" class="headerlink" title="3.1 BugListåˆ†æ"></a>3.1 BugListåˆ†æ</h3><p>BugListï¼ˆiOSç«¯ï¼‰æ±‡æ€»å›¾è¡¨åŠæ˜ç»†<br>ï¼ˆè§<code>XX HR iOSç«¯BugListæ±‡æ€»åŠæ˜ç»†.xlsx</code>ï¼‰</p>
<p>Bugæ•°é‡æœ€å¤šçš„ç±»å‹å‰ä¸‰ç±»ï¼ˆå•ä½ï¼šä¸ªï¼‰ï¼š</p>
<ul>
<li>é€»è¾‘ç¼ºå¤±ï¼ˆ23ï¼‰</li>
<li>å’Œpcç«¯å¯¹æ¥é—®é¢˜ï¼ˆ19ï¼‰</li>
<li>æœªä¸RPå›¾å¯¹ç…§ï¼ˆ14ï¼‰</li>
</ul>
<p>é€ä¸ªåˆ†æä¸€ä¸‹ï¼š</p>
<h5 id="3-1-1-é€»è¾‘ç¼ºå¤±"><a href="#3-1-1-é€»è¾‘ç¼ºå¤±" class="headerlink" title="3.1.1 é€»è¾‘ç¼ºå¤±"></a>3.1.1 é€»è¾‘ç¼ºå¤±</h5><p>å…±è®¡23ä¸ªé€»è¾‘ç¼ºå¤±çš„Bugä¸­ï¼Œæ¯”è¾ƒçªå‡ºçš„é—®é¢˜æœ‰ï¼š</p>
<ul>
<li>æ•°æ®æ›´æ–°åæ²¡æœ‰è‡ªåŠ¨åˆ·æ–°çš„é—®é¢˜ï¼ˆ6ä¸ªï¼‰  </li>
<li>é¡µé¢æˆ–æ•°æ®çŠ¶æ€çš„ä¿å­˜æˆ–ä¼ é€’é—®é¢˜ï¼ˆ5ä¸ªï¼‰ï¼›</li>
<li>ç½‘ç»œè¯·æ±‚æ—¶ï¼Œå¯é€‰å‚æ•°keyä¸ºç©ºçš„å¤„ç†ï¼ˆ2ä¸ªï¼‰ã€‚</li>
</ul>
<p><strong>è§£å†³å»ºè®®</strong></p>
<ul>
<li>å¯¹äºæ•°æ®æœ‰å¯èƒ½æ›´æ–°çš„åˆ—è¡¨ï¼Œè¦æ·»åŠ è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½ï¼›</li>
<li>è¯·æ±‚æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸ä¼ çš„å‚æ•°keyéœ€è¦å•ç‹¬å¤„ç†ã€‚</li>
</ul>
<h5 id="3-1-2-å’Œpcç«¯å¯¹æ¥é—®é¢˜"><a href="#3-1-2-å’Œpcç«¯å¯¹æ¥é—®é¢˜" class="headerlink" title="3.1.2 å’Œpcç«¯å¯¹æ¥é—®é¢˜"></a>3.1.2 å’Œpcç«¯å¯¹æ¥é—®é¢˜</h5><p>å’Œpcç«¯å¯¹æ¥çš„ç›¸å…³Bugä¸­ï¼Œé—®é¢˜ä¸»è¦é›†ä¸­åœ¨ï¼š</p>
<ul>
<li>ç§»åŠ¨ç«¯ä½¿ç”¨å­—æ®µé”™è¯¯ï¼Œå¯¼è‡´å±•ç¤ºé”™è¯¯ä¿¡æ¯ï¼ˆ6ä¸ªï¼‰ï¼›</li>
<li>ä¸åŒæ¥å£çš„<code>BaseURL</code>ä¸ç›¸åŒï¼ˆåæœŸå·²ç»Ÿä¸€ï¼‰ï¼ˆ3ä¸ªï¼‰ï¼›</li>
<li>ç§»åŠ¨ç«¯ä½¿ç”¨çš„æ ¡éªŒæ–¹å¼ä¸pcç«¯ä¸ä¸€è‡´ï¼ˆ3ä¸ªï¼‰ï¼›</li>
<li>ç©ºå€¼çš„ä¼ è¾“å’Œå¤„ç†ï¼ˆ3ä¸ªï¼‰ï¼šå½“æŸå­—æ®µçš„å€¼ä¸ºç©ºæ—¶ï¼Œéœ€ä¼ ç»™æœåŠ¡å™¨keyå’Œç©ºå€¼ã€‚</li>
</ul>
<p><strong>è§£å†³å»ºè®®</strong></p>
<ul>
<li>å¢å¼ºå¯¹æ¥å£æ–‡æ¡£çš„ç»Ÿä¸€ç†è§£ï¼›</li>
<li>pcç«¯å’Œç§»åŠ¨ç«¯å¯ä»¥åœ¨å„è‡ªçš„æ¥å£å¼€å‘æ—¶çº¦å®šå¥½ï¼š<ul>
<li>æ‰€æœ‰æ¥å£çš„<code>BaseURL</code>ï¼›</li>
<li>é™¤äº†<code>status=1</code>å’Œ<code>status=-1</code>çš„çŠ¶æ€å¤–ï¼Œå…¶ä»–å¯èƒ½å­˜åœ¨<code>status=0</code>çš„æ¥å£ã€‚</li>
</ul>
</li>
</ul>
<h5 id="3-1-3-æœªä¸RPå›¾å¯¹ç…§"><a href="#3-1-3-æœªä¸RPå›¾å¯¹ç…§" class="headerlink" title="3.1.3 æœªä¸RPå›¾å¯¹ç…§"></a>3.1.3 æœªä¸RPå›¾å¯¹ç…§</h5><p>ä¸»è¦ç”±äºåœ¨RPå›¾ä¸æ–­æ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œæœªèƒ½åŠæ—¶å˜æ›´ç›¸åº”æµç¨‹ã€æ“ä½œå’Œç”¨æˆ·å‹å¥½æ€§çš„ç»†èŠ‚ã€‚è¿™ä¸€éƒ¨åˆ†çš„bugï¼Œæ˜¯åº”è¯¥åœ¨è‡ªæµ‹ä¸­æ¶ˆé™¤æ‰çš„ã€‚</p>
<h3 id="3-2-ä»£ç åˆ†æ"><a href="#3-2-ä»£ç åˆ†æ" class="headerlink" title="3.2 ä»£ç åˆ†æ"></a>3.2 ä»£ç åˆ†æ</h3><h5 id="3-2-1-ä»£ç è¡Œæ•°ç»Ÿè®¡"><a href="#3-2-1-ä»£ç è¡Œæ•°ç»Ÿè®¡" class="headerlink" title="3.2.1 ä»£ç è¡Œæ•°ç»Ÿè®¡"></a>3.2.1 ä»£ç è¡Œæ•°ç»Ÿè®¡</h5><table>
<thead>
<tr>
<th>æ–‡ä»¶å¤¹</th>
<th>ä»£ç è¡Œæ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>Classes</td>
<td>21357</td>
</tr>
<tr>
<td>Utility</td>
<td>2941</td>
</tr>
<tr>
<td>Constant</td>
<td>1498</td>
</tr>
<tr>
<td>AppDelegate</td>
<td>201</td>
</tr>
<tr>
<td>Categories</td>
<td>1758</td>
</tr>
<tr>
<td><strong>Sum</strong></td>
<td><strong>27755</strong></td>
</tr>
</tbody>
</table>
<h5 id="3-2-2-å…¬å…±ç±»çš„å°è£…"><a href="#3-2-2-å…¬å…±ç±»çš„å°è£…" class="headerlink" title="3.2.2 å…¬å…±ç±»çš„å°è£…"></a>3.2.2 å…¬å…±ç±»çš„å°è£…</h5><ul>
<li><code>BaseFundamentalViewController</code>ä¸­å°è£…äº†ç©ºæ•°æ®çš„å¤„ç†ã€ç½‘ç»œè¯·æ±‚ç­‰é€šç”¨åŠŸèƒ½ï¼Œé¡¹ç›®ä¸­å‡ ä¹æ‰€æœ‰controlleréƒ½ç»§æ‰¿è‡ªè¯¥ç±»ã€‚</li>
<li><code>BaseViewController</code>ç»§æ‰¿è‡ª<code>BaseFundamentalViewController</code>ã€‚ä¸»è¦å°è£…äº†ä¸TableViewç›¸å…³çš„åŠŸèƒ½ï¼Œå¦‚ä¸Šæ‹‰åŠ è½½ã€æ·»åŠ ï¼æ¸…é™¤ç­›é€‰æ¡ä»¶ç­‰ã€‚æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„æ™®é€šåˆ—è¡¨çš„å±•ç¤ºï¼Œåªéœ€è¦ä¸åˆ°50è¡Œä»£ç ã€‚</li>
<li><code>BaseWebViewController</code>ç»§æ‰¿è‡ª<code>BaseFundamentalViewController</code>ã€‚ä¸»è¦ç”¨äºå…¨å±çš„webviewæ¨¡æ¿å±•ç¤ºã€‚</li>
</ul>
<h5 id="3-2-3-ä»£ç å¤ç”¨"><a href="#3-2-3-ä»£ç å¤ç”¨" class="headerlink" title="3.2.3 ä»£ç å¤ç”¨"></a>3.2.3 ä»£ç å¤ç”¨</h5><ul>
<li>ä»¥åå¯èƒ½ç”¨åˆ°çš„åŠŸèƒ½æ¨¡å—ï¼š<ul>
<li><code>Base</code>ç³»åˆ—ï¼›</li>
<li>ä¸‹è½½ç®¡ç†ï¼ˆ<em>å¾…å®Œå–„</em>ï¼‰ï¼›</li>
<li>WebViewæ¨¡æ¿å±•ç¤ºï¼ˆGRMustacheï¼‰ï¼›</li>
<li>è¡¨æ ¼å±•ç¤ºï¼ˆGridViewï¼‰ï¼›</li>
<li>Chartså±•ç¤ºï¼ˆChartsï¼‰ï¼›</li>
<li>å›¾ç‰‡æµè§ˆåŠé€‰æ‹©ï¼ˆæ”¯æŒå¤šé€‰ï¼ŒMWPhotoBrowserï¼‰ï¼›</li>
<li>è¡¨å•çš„å±•ç¤ºåŠå¡«å†™ï¼ˆXLFormï¼‰ï¼›</li>
<li>å¹´æœˆé€‰æ‹©å™¨ã€‚</li>
</ul>
</li>
</ul>
<h1 id="4-ç¾å·¥-amp-æµ‹è¯•"><a href="#4-ç¾å·¥-amp-æµ‹è¯•" class="headerlink" title="4.ç¾å·¥ &amp; æµ‹è¯•"></a>4.ç¾å·¥ &amp; æµ‹è¯•</h1><ul>
<li>å¯¹äºç§»åŠ¨ç«¯çš„åˆ‡å›¾å¯ä»¥é€æ¸æ¨¡æ¿åŒ–ï¼Œå¦‚æŸäº›å›ºå®šå°ºå¯¸ã€å›ºå®šçš„éœ€æ±‚ï¼ˆå¦‚ï¼šAndroidçš„å›¾ç‰‡è®¾è®¡æ—¶æœ‰æ•ˆå†…å®¹å°½é‡å±…ä¸­ï¼Œä¾¿äºè‡ªè¡Œå‰ªè£ï¼‰ç­‰ã€‚</li>
<li>æ—¶é—´å…è®¸çš„æ¡ä»¶ä¸‹ï¼ŒåŒç±»å‹bugå¯ä»¥è®¾ç½®å…³è”bugï¼Œæ–¹ä¾¿å¼€å‘äººå‘˜ç»Ÿä¸€ä¿®å¤ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å®ç”¨svnå‘½ä»¤]]></title>
      <url>http://www.calios.gq/2016/07/24/%E5%AE%9E%E7%94%A8svn%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<p>1.Check all the changed files: </p>
<pre><code>$ svn st
</code></pre><p>2.Check the differences between this version and the last version:</p>
<pre><code>$ svn diff -r PREV filename
</code></pre><p>3.Undo add a file before commit:</p>
<!-- language: bash -->
<pre><code>$ svn revert --recursive folder_name
</code></pre><p>4.Undo delete a file before commit:</p>
<!-- language: bash -->
<pre><code>$ svn revert . --recursive
</code></pre><p>5.Delete all locally missing files: <a href="http://stackoverflow.com/questions/9600382/svn-command-to-delete-all-locally-missing-files" title="http://stackoverflow.com/questions/9600382/svn-command-to-delete-all-locally-missing-files" target="_blank" rel="external">solutions</a></p>
<p>6.Delete a folder from svn repository:</p>
<!-- language: bash -->
<pre><code>$ svn delete http://www.yourrepository.com/svn/folder --message &quot;Deleting&quot;
</code></pre><p>7.Revert to a previous SVN revision of a file:</p>
<pre><code>$ svn merge -c -854 l3toks.dtx
</code></pre><p>8.Ignore Pods foler:</p>
<pre><code>$ svn propset svn:ignore Pods . 
</code></pre><p>9.SVN remains in conflict status:</p>
<pre><code>$ svn resolved &lt;filename or directory that gives trouble&gt;
</code></pre><p>10.View all historical changes to a file in SVN:</p>
<pre><code>#!/bin/bash

# history_of_file
#
# Outputs the full history of a given file as a sequence of
# logentry/diff pairs.  The first revision of the file is emitted as
# full text since there&apos;s not previous version to compare it to.

function history_of_file() {
    url=$1 # current url of file
    svn log -q $url | grep -E -e &quot;^r[[:digit:]]+&quot; -o | cut -c2- | sort -n | {

#       first revision as full text
        echo
        read r
        svn log -r$r $url@HEAD
        svn cat -r$r $url@HEAD
        echo

#       remaining revisions as differences to previous revision
        while read r
        do
            echo
            svn log -r$r $url@HEAD
            svn diff -c$r $url@HEAD
            echo
        done
    }
}

history_of_file $1
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Set deployment target for CocoaPodsâ€™ pod in batches]]></title>
      <url>http://www.calios.gq/2016/07/07/Set-deployment-target-for-CocoaPods'-pod-in-batches/</url>
      <content type="html"><![CDATA[<p>When I tried to <code>pod update</code> an old project, it changed all the podsâ€™ deployment target to 8.0. Iâ€™ve been tired up with changing it all the time and finally found <a href="http://stackoverflow.com/a/37289688/1594792" title="http://stackoverflow.com/a/37289688/1594792" target="_blank" rel="external">this solution</a>.</p>
<p>It says:</p>
<blockquote>
<p>While some development versions of CocoaPods (as well as pre-1.0 versions) may have propagated the deployment target of the project down to the pods, this is no longer the case in 1.0. To work around this, the current developer recommends using a post-install hook.<br>Hereâ€™s a brute force approach to force a hard-coded deployment target for every pod in the generated Pods project. Paste this at the end of your Podfile:</p>
</blockquote>
<pre><code>post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      config.build_settings[&apos;IPHONEOS_DEPLOYMENT_TARGET&apos;] = &apos;9.2&apos;
    end
  end
end
</code></pre><blockquote>
<p>Replace <code>9.2</code> with whatever deployment target you would like to use.</p>
</blockquote>
<p>It does work in two of my projects and the warnings and errors are silent again. LOL.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Some notes for Charts]]></title>
      <url>http://www.calios.gq/2016/05/27/Some-notes-for-Charts/</url>
      <content type="html"><![CDATA[<h3 id="Minimum-deployment-target-of-Charts-is-iOS-8-0"><a href="#Minimum-deployment-target-of-Charts-is-iOS-8-0" class="headerlink" title="Minimum deployment target of Charts is iOS 8.0."></a>Minimum deployment target of Charts is iOS <strong>8.0</strong>.</h3><h3 id="Cocoapods-1-0-0-tips"><a href="#Cocoapods-1-0-0-tips" class="headerlink" title="Cocoapods-1.0.0 tips."></a>Cocoapods-1.0.0 tips.</h3><ul>
<li>Add <code>use_frameworks!</code> for iOS 8+;</li>
<li>Specify a target for each pod.</li>
</ul>
<p>eg. if before you had your Podfile written like this:</p>
<pre><code>pod &apos;Alamofire&apos;, &apos;~&gt; 3.1.4&apos;
pod &apos;SwiftyJSON&apos;, &apos;~&gt; 2.3.2&apos;
</code></pre><p>just change it to</p>
<pre><code>target &quot;TargetName&quot; do
    pod &apos;Alamofire&apos;, &apos;~&gt; 3.1.4&apos;
    pod &apos;SwiftyJSON&apos;, &apos;~&gt; 2.3.2&apos;
end
</code></pre><h3 id="Bridging-between-Objective-C-and-Swift"><a href="#Bridging-between-Objective-C-and-Swift" class="headerlink" title="Bridging between Objective-C and Swift."></a>Bridging between Objective-C and Swift.</h3><ul>
<li>In fact, after installing <code>Charts</code> with Cocoapods and building <code>.xcworkspace</code>, it automatically generates <code>Charts-Swift.h</code> file, which you can use directly in you <code>.m</code> file with <code>#import &lt;Charts/Charts-Swift.h&gt;</code>.(Here my project is OC-based.)</li>
<li>Check some build settings and parameters:<ul>
<li>Product Module Name: yourProject</li>
<li>Defines Module: YES</li>
<li>Embedded Content Contains Swift: YES</li>
<li>Install Objective-C Compatibility Header: YES</li>
<li>Objective-C Bridging Header: $(SRCROOT)/Sources/SwiftBridging.h</li>
</ul>
</li>
</ul>
<p>Hereâ€™s <a href="http://stackoverflow.com/a/24005242/1594792" target="_blank" rel="external">step by step integration for Xcode between Objc and Swift in project</a>.</p>
<p>However, I failed to use OC framework in Swift-based project with Cocoapods and still couldnâ€™t tell why. Iâ€™ll add it later if I make it.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[[SourceRead]-CAPSPageMenu]]></title>
      <url>http://www.calios.gq/2016/05/25/%5BSourceRead%5D-CAPSPageMenu/</url>
      <content type="html"><![CDATA[<h3 id="ï¼»1ï¼½-æ‰€æœ‰é…ç½®é€‰é¡¹å‡ä¸ºextern-const-string"><a href="#ï¼»1ï¼½-æ‰€æœ‰é…ç½®é€‰é¡¹å‡ä¸ºextern-const-string" class="headerlink" title="ï¼»1ï¼½ æ‰€æœ‰é…ç½®é€‰é¡¹å‡ä¸ºextern const string"></a>ï¼»1ï¼½ æ‰€æœ‰é…ç½®é€‰é¡¹å‡ä¸ºextern const string</h3><p>å…·ä½“æ¥è¯´ï¼Œå³ï¼šæ¯ä¸ªé€‰é¡¹å¯¹åº”ä¸€ä¸ªå±æ€§ï¼Œåœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œé€šè¿‡è·å–åˆ°çš„é€‰é¡¹å­—å…¸ä¾æ¬¡ç»™å¯¹è±¡çš„å„ä¸ªå±æ€§èµ‹å€¼ã€‚</p>
<p>å¦‚ï¼š</p>
<pre><code>// CAPSPageMenu.h
extern NSString * const CAPSPageMenuOptionSelectionIndicatorHeight;
extern NSString * const CAPSPageMenuOptionMenuItemSeparatorWidth;

// CAPSPageMenu.m
NSString * const CAPSPageMenuOptionSelectionIndicatorHeight             = @&quot;selectionIndicatorHeight&quot;;
NSString * const CAPSPageMenuOptionMenuItemSeparatorWidth               = @&quot;menuItemSeparatorWidth&quot;;
</code></pre><p>åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæ ¹æ®éå†ä¼ å…¥çš„optionså‚æ•°ï¼Œä¾æ¬¡ç»™å„ä¸ªå±æ€§èµ‹å€¼ã€‚</p>
<pre><code>- (instancetype)initWithViewControllers:(NSArray *)viewControllers frame:(CGRect)frame options:(NSDictionary *)options{
        for (NSString *key in options) {
            if ([key isEqualToString:CAPSPageMenuOptionSelectionIndicatorHeight]) {
                _selectionIndicatorHeight = [options[key] floatValue];
            } else if ([key isEqualToString: CAPSPageMenuOptionMenuItemSeparatorWidth]) {
                _menuItemSeparatorWidth = [options[key] floatValue];
            }
    ...
    }
}
</code></pre><p>åœ¨ä½¿ç”¨æ—¶ï¼Œä¼ å…¥ç»„è£…å¥½çš„è‡ªå®šä¹‰optionã€‚</p>
<pre><code>NSDictionary *parameters = @{
    CAPSPageMenuOptionScrollMenuBackgroundColor: [UIColor colorWithRed:30.0/255.0 green:30.0/255.0 blue:30.0/255.0 alpha:1.0],
    CAPSPageMenuOptionViewBackgroundColor: [UIColor colorWithRed:20.0/255.0 green:20.0/255.0 blue:20.0/255.0 alpha:1.0],
    CAPSPageMenuOptionSelectionIndicatorColor: [UIColor orangeColor]};

_pageMenu = [[CAPSPageMenu alloc] initWithViewControllers:controllerArray frame:CGRectMake(0.0, 0.0, self.view.frame.size.width, self.view.frame.size.height) options:parameters];
[self.view addSubview:_pageMenu.view];
</code></pre><p>åœ¨å¾ˆå¤šç³»ç»Ÿçš„ç±»åº“ä¸­éƒ½ä½¿ç”¨è¿™ç§æ–¹å¼æ¥ä¼ é€’è‡ªå®šä¹‰çš„é€‰é¡¹å€¼ã€‚æ¯”å¦‚<code>NSAttributedString</code>çš„åˆå§‹åŒ–æ–¹æ³•<code>-initWithString:attributes:</code>ä¸­çš„<code>attributes</code>æ˜¯è‡ªå·±ç»„è£…çš„dictionaryï¼Œè€Œå…¶ä¸­çš„keyå°±æ˜¯UIKitä¸‹<code>NSAttributedString.h</code>ä¸­çš„â€œPredefined character attributes for text.â€</p>
<p>ä»¥ååœ¨å†™è‡ªå·±çš„ç±»åº“ä¸­å¯ä»¥å‚è€ƒè¿™ç§æ–¹å¼ã€‚</p>
<h3 id="ï¼»2ï¼½-å…³äºUIScrollViewçš„scrollsToTopå±æ€§"><a href="#ï¼»2ï¼½-å…³äºUIScrollViewçš„scrollsToTopå±æ€§" class="headerlink" title="ï¼»2ï¼½ å…³äºUIScrollViewçš„scrollsToTopå±æ€§"></a>ï¼»2ï¼½ å…³äº<code>UIScrollView</code>çš„<code>scrollsToTop</code>å±æ€§</h3><p>å½“ç”¨æˆ·ç‚¹å‡»status baræ—¶ï¼Œç‚¹å‡»ä½ç½®ä¸‹é¢æœ€é è¿‘status barçš„scroll viewä¼šæ»šåˆ°é¡¶éƒ¨ï¼Œä½†åªæœ‰ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶æ‰ä¼šç”Ÿæ•ˆï¼š</p>
<ul>
<li><code>scrollsToTop</code>å±æ€§å€¼ä¸º<code>YES</code>ï¼›</li>
<li>ä»£ç†æ–¹æ³•<code>shouldScrollViewScrollToTop</code>æ²¡æœ‰è¿”å›<code>NO</code>ï¼›</li>
<li>æ²¡æœ‰å·²ç»å¤„äºé¡¶éƒ¨ã€‚</li>
</ul>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæœ‰<strong>ä¸æ­¢ä¸€ä¸ª</strong>scroll viewçš„<code>scrollsToTop</code>è¢«ç½®ä¸º<code>YES</code>ï¼Œé‚£ä¹ˆ<strong>æ‰€æœ‰</strong>scroll viewçš„â€œç‚¹å‡»æ»šåŠ¨åˆ°é¡¶éƒ¨â€<strong>éƒ½ä¸ä¼šç”Ÿæ•ˆ</strong>ã€‚</p>
<p>ç„¶è€Œï¼ŒUIScrollViewçš„<code>scrollsToTop</code>é»˜è®¤æ˜¯<code>YES</code>â€¦æ‰€ä»¥ï¼Œå¯¹äº<code>CAPSPageMenu</code>ä¸­çš„ä¸¤ä¸ªscroll viewï¼Œä½œè€…éƒ½æ‰‹åŠ¨å°†å®ƒä»¬çš„<code>scrollsToTop</code>ç½®ä¸ºäº†<code>NO</code>ã€‚</p>
<pre><code>_menuScrollView.scrollsToTop       = NO;;
_controllerScrollView.scrollsToTop = NO;;
</code></pre><p>å¦å¤–ï¼Œå¯¹äº<code>UIScrollView</code>çš„å­ç±»ä»¬ï¼Œå¦‚<code>UITableView</code>ã€<code>UICollectionView</code>ã€<code>UITextView</code>ã€<code>UIContainerView</code>ç­‰ï¼Œè¯¥è§„åˆ™åŒæ ·é€‚ç”¨ã€‚</p>
<h3 id="ï¼»3ï¼½-ä¸ºä»€ä¹ˆåœ¨ç‚¹å‡»itemæ—¶éœ€è¦ä¸€ä¸ªTimerï¼Ÿ"><a href="#ï¼»3ï¼½-ä¸ºä»€ä¹ˆåœ¨ç‚¹å‡»itemæ—¶éœ€è¦ä¸€ä¸ªTimerï¼Ÿ" class="headerlink" title="ï¼»3ï¼½ ä¸ºä»€ä¹ˆåœ¨ç‚¹å‡»itemæ—¶éœ€è¦ä¸€ä¸ªTimerï¼Ÿ"></a>ï¼»3ï¼½ ä¸ºä»€ä¹ˆåœ¨ç‚¹å‡»itemæ—¶éœ€è¦ä¸€ä¸ªTimerï¼Ÿ</h3><p>æœªçŸ¥ã€‚ã€‚ã€‚</p>
<h3 id="ï¼»4ï¼½-gestureRecognizer-shouldRecognizeSimultaneouslyWithGestureRecognizer"><a href="#ï¼»4ï¼½-gestureRecognizer-shouldRecognizeSimultaneouslyWithGestureRecognizer" class="headerlink" title="ï¼»4ï¼½-gestureRecognizer: shouldRecognizeSimultaneouslyWithGestureRecognizer:"></a>ï¼»4ï¼½<code>-gestureRecognizer: shouldRecognizeSimultaneouslyWithGestureRecognizer:</code></h3><p>è™½ç„¶viewå’Œgesture recognizerå¯ä»¥æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªgesture recognizeræ˜¯ä¸èƒ½åŒæ—¶æœ‰æ•ˆçš„ã€‚æ­¤æ—¶ï¼Œè‹¥æƒ³ä¸¤ä¸ªgesture recognizerèƒ½åŒæ—¶å¤„ç†å®ƒä»¬å„è‡ªçš„gestureï¼Œéœ€è¦é‡å†™<code>UIScrollView</code>çš„protocol<code>-gestureRecognizer: shouldRecognizeSimultaneouslyWithGestureRecognizer:</code>ï¼Œå¹¶åœ¨å…¶ä¸­è¿”å›<code>YES</code>ã€‚</p>
<p>åœ¨ä¸€ä¸ªgesture recognizerå¯¹äºgestureçš„è¯†åˆ«ä¼šé˜»å¡å¦ä¸€ä¸ªgesture recognizerçš„gestureè¯†åˆ«æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨äº†ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦åœ¨å…¶ä¸­æ·»åŠ åˆ¤æ–­æ¡ä»¶ï¼Œä½¿ä¹‹è¿”å›ä¸åŒçš„å€¼ã€‚</p>
<pre><code>- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer
{
    if ([gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]]  &amp;&amp; [otherGestureRecognizer isKindOfClass:[UIScreenEdgePanGestureRecognizer class]]) { 
            return YES; 
      }    
    return NO;
}
</code></pre><hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/a/8960080/1594792" target="_blank" rel="external">http://stackoverflow.com/a/8960080/1594792</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/GestureRecognizer_basics/GestureRecognizer_basics.html#//apple_ref/doc/uid/TP40009541-CH2-SW2" target="_blank" rel="external">https://developer.apple.com/library/ios/documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/GestureRecognizer_basics/GestureRecognizer_basics.html#//apple_ref/doc/uid/TP40009541-CH2-SW2</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[éšç¬”ä¸€åˆ™ 5æœˆ23æ—¥ç§»åŠ¨ç«¯ä¼šè®®æœ‰æ„Ÿ]]></title>
      <url>http://www.calios.gq/2016/05/24/%E9%9A%8F%E7%AC%94%E4%B8%80%E5%88%99-5%E6%9C%8823%E6%97%A5%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%BC%9A%E8%AE%AE%E6%9C%89%E6%84%9F/</url>
      <content type="html"><![CDATA[<h3 id="1-æŠ€æœ¯ï¼Œæœ€åçš„ç»ˆç‚¹éƒ½æ˜¯åº”ç”¨ã€‚æ‰€ä»¥ï¼Œè¦å……åˆ†è€ƒè™‘use-caseã€‚"><a href="#1-æŠ€æœ¯ï¼Œæœ€åçš„ç»ˆç‚¹éƒ½æ˜¯åº”ç”¨ã€‚æ‰€ä»¥ï¼Œè¦å……åˆ†è€ƒè™‘use-caseã€‚" class="headerlink" title="1. æŠ€æœ¯ï¼Œæœ€åçš„ç»ˆç‚¹éƒ½æ˜¯åº”ç”¨ã€‚æ‰€ä»¥ï¼Œè¦å……åˆ†è€ƒè™‘use caseã€‚"></a>1. æŠ€æœ¯ï¼Œæœ€åçš„ç»ˆç‚¹éƒ½æ˜¯åº”ç”¨ã€‚æ‰€ä»¥ï¼Œè¦å……åˆ†è€ƒè™‘use caseã€‚</h3><p><strong>ä¾‹å¦‚ï¼š</strong>è€ƒè™‘iOSç«¯å¦‚ä½•å®ç°å›¾æ–‡æ··æ’çš„å±•ç¤ºé—®é¢˜ï¼Œåœ¨é€‰æ‹©ä½¿ç”¨æ¨¡æ¿æ¥è§„èŒƒè·å–åˆ°çš„htmlæ—¶ï¼Œå¦‚æœå‡ºç°æ–‡å­—ç¯ç»•å›¾ç‰‡çš„çŠ¶å†µï¼Œæ˜¯å¦ä¹Ÿèƒ½å®Œç¾å±•ç¤ºï¼Ÿ</p>
<p><strong>å»¶ä¼¸æ€è€ƒï¼š</strong>è·å–åˆ°çš„htmlæ¥è‡ªå“ªé‡Œï¼ã€‹æ¥è‡ªç”¨æˆ·ï¼ã€‹ç”¨æˆ·çš„è¡Œä¸ºä¸å¯æ§ï¼ã€‹è¾“å…¥çš„å›¾æ–‡æ ·å¼ä¸å¯æ§ï¼ã€‹æ‰€ä»¥ï¼Œè°ƒç ”æ—¶é€‰å®šæ–¹æ¡ˆæ—¶ï¼Œéœ€è¦å……åˆ†æµ‹è¯•å„ç§å›¾æ–‡æ··æ’<br>çš„æ•ˆæœã€‚</p>
<p><strong>ç»“è®ºï¼š</strong>ä¸æ­¢æ˜¯æµ‹è¯•éœ€è¦æµ‹è¯•æ¡ˆä¾‹ï¼Œè®¾è®¡éœ€è¦Personaï¼Œå¼€å‘çš„æŠ€æœ¯è°ƒç ”ã€é€‰æ‹©æŠ€æœ¯æ–¹æ¡ˆæ—¶ä¹Ÿéœ€è¦å……åˆ†è€ƒè™‘use caseã€‚</p>
<h3 id="2-æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œè¦å°½é‡å…¨æ–¹ä½åœ°è€ƒè™‘ã€‚"><a href="#2-æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œè¦å°½é‡å…¨æ–¹ä½åœ°è€ƒè™‘ã€‚" class="headerlink" title="2. æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œè¦å°½é‡å…¨æ–¹ä½åœ°è€ƒè™‘ã€‚"></a>2. æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œè¦å°½é‡å…¨æ–¹ä½åœ°è€ƒè™‘ã€‚</h3><p><img src="http://mmbiz.qpic.cn/mmbiz/bwj0DnTUVQuIQvnX7vuvibCtVicEGt9jGXV03CW3RRSjAwAzs6jUmEKoIgNBoInCqn6pibl7TwB5x19SejSfEAvUQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" title="æ€è€ƒèƒ½åŠ›çš„å…­å¤§åˆ†ç±»"></p>
<p>æ°å¥½ä»Šå¤©æ—©ä¸Šçœ‹åˆ°äº†å¥´éš¶ç¤¾ä¼šå‘çš„è¿™ç¯‡<a href="http://mp.weixin.qq.com/s?__biz=MzA3NDMyOTcxMQ==&amp;mid=2651240054&amp;idx=1&amp;sn=927642e6f2a884458a2356b7e8dacf04&amp;scene=1&amp;srcid=0524kbGqhd8mXTrnlAU68vnh&amp;from=groupmessage&amp;isappinstalled=0#wechat_redirect" target="_blank" rel="external">ã€Šç‹¬ç«‹æ€è€ƒèƒ½åŠ›æ€ä¹ˆåŸ¹å…»ï¼Ÿã€‹</a>ã€‚ä¸€æ–¹é¢ï¼Œå¯¹äºè‡ªå·±å­å¥³ä»Šåçš„æ•™è‚²å¤šäº†ä¸€åˆ†æ€è€ƒï¼›å¦ä¸€æ–¹é¢ï¼Œæƒ³åˆ°æ˜¨å¤©çš„ä¼šè®®ä¸­ä¹Ÿæœ‰éƒ¨åˆ†ä¸ä¹‹ç›¸é€šã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜éƒ½å¤„äºä¸Šå›¾å…­ä¸ªå±‚æ¬¡çš„åº•ä¸‰å±‚ï¼Œä»…é™äºåº”ç”¨ã€‚æˆ–è€…è¯´ï¼ŒåªçŸ¥é“<em>ç”¨ä»€ä¹ˆï¼ˆwhatï¼‰</em>å’Œ<em>æ€ä¹ˆåšï¼ˆhowï¼‰</em>ï¼Œä½†æ˜¯å¯¹äº<em>ä¸ºä»€ä¹ˆï¼ˆwhyï¼‰</em>å´çŸ¥ä¹‹ç”šå°‘ã€‚</p>
<ul>
<li>ä¸ºä»€ä¹ˆè¿™ç§æ–¹æ¡ˆå¯ä»¥ï¼Œä¸ºä»€ä¹ˆé‚£ç§æ–¹æ¡ˆä¸å¯ä»¥ï¼Ÿ</li>
<li>å¦‚æœé€‰æ‹©è¿™ç§æ–¹æ¡ˆï¼Œç°æœ‰çš„å®ç°æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>éœ€è¦å¤šå°‘äººæœˆçš„æŠ•å…¥ï¼Ÿ</li>
<li>æˆ‘ä»¬èƒ½å¦åœ¨å·²æœ‰å®ç°æ–¹å¼çš„åŸºç¡€ä¸Šå®ç°å¾®åˆ›æ–°ï¼Ÿ</li>
</ul>
<p>æˆ‘ç›¸ä¿¡æ€ç»´è¿™ç§ä¸œè¥¿ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šå¤©ç”Ÿçš„å¿«ä¸æ…¢ã€‚å¿«è€…ï¼Œå¦‚ç¦å°”æ‘©æ–¯ï¼Œä¹Ÿæ— éæ˜¯ä»¥ä»–è‡ªå·±çš„æ–¹å¼å»ºé€ äº†ä¸€åº§è®°å¿†å®«æ®¿ï¼Œè€Œä»–çŸ¥æ™“é€šå¾€å®«æ®¿æ¯ä¸ªè§’è½çš„æœ€çŸ­è·¯å¾„ã€‚æ…¢è€…ï¼Œå¦‚æˆ‘ç­‰ï¼Œè¿˜éœ€è¦åˆ»æ„è®­ç»ƒè‡ªå·±çš„æ€ç»´èƒ½åŠ›ï¼Œè®©å¤§è„‘ä¸­çš„ç°è´¨ç»†èƒä¸æ–­å¢åŠ ï¼Œè®©ç¥ç»å…ƒæ›´å®¹æ˜“åœ°å°†ç°è´¨ç»†èƒè¿æ¥èµ·æ¥ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´åŠ â€œèä¼šè´¯é€šâ€ã€‚</p>
<h3 id="3-è¦ç»å¸¸æ€»ç»“ï¼Œè½åˆ°æ–‡å­—å’Œå›¾ç‰‡ä¸Šã€‚"><a href="#3-è¦ç»å¸¸æ€»ç»“ï¼Œè½åˆ°æ–‡å­—å’Œå›¾ç‰‡ä¸Šã€‚" class="headerlink" title="3.è¦ç»å¸¸æ€»ç»“ï¼Œè½åˆ°æ–‡å­—å’Œå›¾ç‰‡ä¸Šã€‚"></a>3.è¦ç»å¸¸æ€»ç»“ï¼Œè½åˆ°æ–‡å­—å’Œå›¾ç‰‡ä¸Šã€‚</h3><p>è¿™ä¸ªä¸ç”¨å¤šè¯´äº†ã€‚è¿™ä¹Ÿæ˜¯æˆ‘å†™è¿™ä¸ªåšå®¢çš„åˆè¡·ä¹‹ä¸€å§ã€‚:)</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Some notes for TextKit]]></title>
      <url>http://www.calios.gq/2016/05/17/Some-notes-for-TextKit/</url>
      <content type="html"><![CDATA[<h3 id="Use-semantic-approach-for-font-in-latter-projects"><a href="#Use-semantic-approach-for-font-in-latter-projects" class="headerlink" title="Use semantic approach for font in latter projects"></a>Use semantic approach for font in latter projects</h3><blockquote>
<ul>
<li>Using a semantic approach to font names, such as UIFontTextStyleSubHeadline, helps avoid hard-coded font names and styles throughout your code â€” and ensures that your app will respond properly to user-defined typography settings as expected.</li>
<li>Font descriptors help you avoid the use of hardcoded font strings to set font types and styles.</li>
<li>Font descriptors are a type of descriptor language that allows you to modify fonts by applying specific attributes, or to obtain details of font metrics, without the need to instantiate an instance ofUIFont.</li>
</ul>
</blockquote>
<h3 id="exclusionPaths-property"><a href="#exclusionPaths-property" class="headerlink" title="exclusionPaths property"></a><code>exclusionPaths</code> property</h3><pre><code>NS_CLASS_AVAILABLE(10_0, 7_0) @interface NSTextContainer : NSObject &lt;NSCoding, NSTextLayoutOrientationProvider&gt;

// Default value : empty array  An array of UIBezierPath representing the exclusion paths inside the receiver&apos;s bounding rect.
@property(copy, NS_NONATOMIC_IOSONLY) NSArray&lt;UIBezierPath *&gt; *exclusionPaths NS_AVAILABLE(10_11, 7_0);

@end
</code></pre><blockquote>
<p> You might have noticed that the exclusionPaths property expects an instance of NSArray; therefore each container can support more than one exclusion path.</p>
</blockquote>
<h3 id="Class-clusters"><a href="#Class-clusters" class="headerlink" title="Class clusters"></a>Class clusters</h3><blockquote>
<p>Class clusters are a commonly used design pattern throughout Appleâ€™s frameworks.<br>A class cluster is simply the Objective-C implementation of the Abstract Factory pattern, which provides a common interface for creating families of related or dependent objects without specifying the concrete classes. Familiar classes such as NSArray and NSNumber are in fact the public interface to a cluster of classes.</p>
</blockquote>
<h3 id="Set-hight-of-UITextView-CGFLOAT-MAX"><a href="#Set-hight-of-UITextView-CGFLOAT-MAX" class="headerlink" title="Set hight of UITextView CGFLOAT_MAX"></a>Set hight of UITextView <code>CGFLOAT_MAX</code></h3><p>In any case, this is more than enough to allow the UITextView to scroll and accommodate long passages of text.</p>
<h3 id="NSRange"><a href="#NSRange" class="headerlink" title="NSRange"></a><code>NSRange</code></h3><p>æ¥è‡ªMatttçš„ä¸€ç¯‡ï¼š<a href="http://nshipster.com/nsrange/" target="_blank" rel="external">http://nshipster.com/nsrange/</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSä¸Šå¯Œæ–‡æœ¬çš„è§£å†³æ–¹æ¡ˆ]]></title>
      <url>http://www.calios.gq/2016/05/17/iOS%E4%B8%8A%E5%AF%8C%E6%96%87%E6%9C%AC%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      <content type="html"><![CDATA[<h3 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h3><p>å¯Œæ–‡æœ¬æ— éè¦å®ç°ä¸¤ç±»æ•ˆæœï¼š</p>
<ul>
<li>å›¾ç‰‡å’Œæ–‡å­—çš„æ··æ’</li>
<li>æ–‡å­—æ ·å¼çš„éšæ„ä¿®æ”¹</li>
</ul>
<h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><ul>
<li>é€šè¿‡CoreText/TextKitæ¥åŸç”Ÿå®ç°</li>
<li>é€šè¿‡webViewæ¥é—´æ¥å®ç°</li>
</ul>
<h3 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h3><p>ä¸€å›¾èƒœåƒè¨€ï¼š<br><img src="http://7xkwcv.com1.z0.glb.clouddn.com/iOS%E4%B8%8A%E5%AF%8C%E6%96%87%E6%9C%AC%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.png" alt=""></p>
<h4 id="é€šè¿‡CoreText-TextKitæ¥åŸç”Ÿå®ç°"><a href="#é€šè¿‡CoreText-TextKitæ¥åŸç”Ÿå®ç°" class="headerlink" title="é€šè¿‡CoreText/TextKitæ¥åŸç”Ÿå®ç°"></a>é€šè¿‡CoreText/TextKitæ¥åŸç”Ÿå®ç°</h4><p> iOS 6ä¹‹å‰ï¼šCoreText,çº¯Cè¯­è¨€,æå…¶è›‹ç–¼<br> iOS 6å¼€å§‹ï¼šNSAttributedString,ç®€å•æ˜“ç”¨<br> iOS 7å¼€å§‹ï¼šTextKit,åŠŸèƒ½å¼ºå¤§,ç®€å•æ˜“ç”¨</p>
<p><strong>å¯¹äºNSAttributedStringï¼ˆiOS6å¼€å§‹ï¼‰ï¼š</strong></p>
<ul>
<li>å¯ä»¥ç»™æŒ‡å®šèŒƒå›´ï¼ˆrangeï¼‰å†…çš„stringæ·»åŠ å±æ€§ï¼ˆè§UIKitä¸­çš„<code>NSAttributedString.h</code>ä¸­çš„å±æ€§åˆ—è¡¨ï¼‰ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨å®ƒçš„ç±»æ–¹æ³•<code>attributedStringWithAttachment:</code>ï¼Œå°†å›¾ç‰‡ä»¥é™„ä»¶ï¼ˆ<code>NSTextAttachment</code>ï¼‰çš„å½¢å¼é™„åŠ åœ¨å·²æœ‰NSAttributedStringçš„åé¢ã€‚</li>
</ul>
<p><strong>å¯¹äºTextKitï¼ˆiOS7å¼€å§‹ï¼‰ï¼š</strong></p>
<ul>
<li>å¯ä»¥é€šè¿‡ç»§æ‰¿<code>NSTextStorage</code>æˆ–<code>NSLayoutManager</code>æ¥å¯¹ä¸åŒçš„æ ·å¼ï¼ˆå¦‚æŒ‡å®šæ–‡å­—çš„é«˜äº®ã€èƒŒæ™¯é¢œè‰²ã€ä¸‹åˆ’çº¿ç­‰ï¼‰è¿›è¡Œè‡ªå®šä¹‰å¤„ç†ï¼›</li>
<li>å¯ä»¥è®¾ç½®<code>NSTextContainer</code>çš„<code>exclusionPaths</code>å±æ€§æ¥è®¾ç½®é•‚ç©ºåŒºåŸŸã€‚</li>
</ul>
<p><strong>å¯¹äºDTCoreTextï¼š</strong></p>
<ul>
<li>å¯¹CoreTextè¿›è¡Œäº†å°è£…ï¼›</li>
<li>å¯ä»¥å°†htmlè½¬æ¢æˆ<code>NSAttributedString</code>ï¼Œè€Œä¾ç„¶ä»¥<strong>htmlçš„æ ·å¼</strong>å±•ç¤ºå‡ºæ¥ï¼›</li>
<li>æ”¯æŒCSSæ ·å¼çš„å±•ç¤ºï¼›</li>
<li>æ”¯æŒå†…åµŒhtml5è§†é¢‘åŠæ’­æ”¾ï¼›</li>
<li>æ”¯æŒå¯¹å¤šç§é™„ä»¶ï¼ˆå›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰çš„è‡ªå®šä¹‰å¤„ç†ï¼›</li>
<li>æ”¯æŒè¿œç¨‹å›¾ç‰‡ç­‰æ‡’åŠ è½½ã€‚</li>
</ul>
<p><strong>è¡¥å……ï¼š</strong></p>
<p>æ­£å¦‚<a href="http://stackoverflow.com/questions/4217820/convert-html-to-nsattributedstring-in-ios/18886718#18886718" target="_blank" rel="external">pix</a>æ‰€è¯´ï¼ŒiOS7èµ·ï¼ŒUIKitä¸­æ·»åŠ äº†<code>initWithData:options:documentAttributes:error:</code>æ–¹æ³•ï¼Œå¯ä»¥ç”¨HTMLæ¥åˆå§‹åŒ–ä¸€ä¸ªNSAttributedStringå¯¹è±¡ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code>[[NSAttributedString alloc] initWithData:[htmlString dataUsingEncoding:NSUTF8StringEncoding] 
                                 options:@{NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType,
                                           NSCharacterEncodingDocumentAttribute: @(NSUTF8StringEncoding)} 
                      documentAttributes:nil error:nil];
</code></pre><p>ä½†ä»è¯„è®ºä¸­æ¥çœ‹ï¼Œæ™®éåæ˜ æ‰§è¡Œèµ·æ¥èŠ±è´¹æ—¶é—´å¾ˆé•¿ã€‚æ‰€ä»¥ç±»ä¼¼æƒ…å†µï¼Œè¿˜æ˜¯ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨DTCoreTextã€‚</p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li>CoreTextæ•™ç¨‹ï¼š<a href="https://www.raywenderlich.com/4147/core-text-tutorial-for-ios-making-a-magazine-app" target="_blank" rel="external">https://www.raywenderlich.com/4147/core-text-tutorial-for-ios-making-a-magazine-app</a></li>
<li>DTCoreText: <a href="https://github.com/Cocoanetics/DTCoreText" target="_blank" rel="external">https://github.com/Cocoanetics/DTCoreText</a></li>
<li>DTCoreText-Demo: <a href="https://github.com/yoon-boom/DTCoreText-DEMO" target="_blank" rel="external">https://github.com/yoon-boom/DTCoreText-DEMO</a>(Happy to find an executable one!)</li>
<li>DTCoreTextçš„æºç åˆ†æï¼š<a href="http://blog.cnbang.net/tech/2630/" target="_blank" rel="external">http://blog.cnbang.net/tech/2630/</a></li>
<li>TextKitæ•™ç¨‹ï¼š<a href="https://www.raywenderlich.com/50151/text-kit-tutorial" target="_blank" rel="external">https://www.raywenderlich.com/50151/text-kit-tutorial</a></li>
<li>YYTextï¼š<a href="https://github.com/ibireme/YYText" target="_blank" rel="external">https://github.com/ibireme/YYText</a></li>
<li><a href="http://stackoverflow.com/questions/4217820/convert-html-to-nsattributedstring-in-ios/18886718#18886718" target="_blank" rel="external">http://stackoverflow.com/questions/4217820/convert-html-to-nsattributedstring-in-ios/18886718#18886718</a></li>
</ul>
<h4 id="é€šè¿‡webViewæ¥é—´æ¥å®ç°"><a href="#é€šè¿‡webViewæ¥é—´æ¥å®ç°" class="headerlink" title="é€šè¿‡webViewæ¥é—´æ¥å®ç°"></a>é€šè¿‡webViewæ¥é—´æ¥å®ç°</h4><p>åŸç†æ˜¯ç±»ä¼¼symfonyä¸­çš„twigæ¨¡æ¿ï¼Œå°†è®¾è®¡å¥½çš„æ¨¡æ¿å­˜åœ¨é¡¹ç›®ä¸­ï¼ˆ.mustacheå’Œ.htmlï¼‰ï¼Œå­—ä½“ä¿å­˜ä¸º.ttfï¼Œç„¶åæ¯æ¬¡è¯·æ±‚æ•°æ®æ—¶ï¼Œå°†æœåŠ¡å™¨è¿”å›çš„htmlç”¨è¿™ä¸ªæ¨¡æ¿è¿›è¡Œæ¸²æŸ“ï¼Œå†ç”¨åµŒå…¥çš„webviewåŠ è½½ï¼Œä»è€Œå¾—åˆ°æ•´ä½“é£æ ¼ä¸€è‡´çš„é¡µé¢ã€‚</p>
<p>å…·ä½“å®ç°å¯ä»¥å‚è€ƒå¼€æºä¸­å›½iOSç‰ˆæœ¬çš„æºç ã€‚</p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li>GRMustacheï¼š<a href="https://github.com/groue/GRMustache" target="_blank" rel="external">https://github.com/groue/GRMustache</a></li>
<li><a href="https://github.com/syntaxhighlighter/syntaxhighlighter" target="_blank" rel="external">https://github.com/syntaxhighlighter/syntaxhighlighter</a></li>
<li>å¼€æºä¸­å›½iOSç‰ˆæœ¬æºç ï¼š<a href="http://git.oschina.net/oschina/iphone-app/tree/master" target="_blank" rel="external">http://git.oschina.net/oschina/iphone-app/tree/master</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[How to check if UITextField/UITextView is empty?]]></title>
      <url>http://www.calios.gq/2016/05/10/How-to-check-if-UITextField-UITextView-is-empty/</url>
      <content type="html"><![CDATA[<pre><code>//============================================================
// Responders that implement the UIKeyInput protocol will be driven by the system-provided keyboard,
// which will be made available whenever a conforming responder becomes first responder.

NS_ASSUME_NONNULL_BEGIN

@protocol UIKeyInput &lt;UITextInputTraits&gt;

- (BOOL)hasText;
- (void)insertText:(NSString *)text;
- (void)deleteBackward;

@end

@protocol UITextInput &lt;UIKeyInput&gt;

NS_CLASS_AVAILABLE_IOS(2_0) @interface UITextField : UIControl &lt;UITextInput, NSCoding&gt; 

NS_CLASS_AVAILABLE_IOS(2_0) @interface UITextView : UIScrollView &lt;UITextInput&gt;
</code></pre><p>In short, have a look at this image.</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/How%20to%20check%20if%20UITextField:UITextView%20is%20empty@2x.png" alt=""></p>
<p>So, just call <code>[yourTextField hasText]</code> or <code>[yourTextView hasText]</code> and everything is done! </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Issue of lazy loading property]]></title>
      <url>http://www.calios.gq/2016/05/04/Issue-of-lazy-loading-property/</url>
      <content type="html"><![CDATA[<p>Iâ€™ve got some <code>readonly</code> properties in my .h file. And when I tried to lazy loading them as usual like this. </p>
<pre><code>// MyView.h
@property (nonatomic, strong, readonly) UILabel *titleLabel;

// MyView.m
- (UIImageView *)imageView
{
    if (!_imageView)
    {
        _imageView = [UIImageView new];
        _imageView.translatesAutoresizingMaskIntoConstraints = NO;
        _imageView.backgroundColor = [UIColor clearColor];
        _imageView.contentMode = UIViewContentModeScaleAspectFit;
        _imageView.userInteractionEnabled = NO;
        _imageView.accessibilityIdentifier = @&quot;empty set image view&quot;;

        _imageView.image = _defaultImage;

        [_contentView addSubview:_imageView];
    }
    return _imageView;
}
</code></pre><p>Thenâ€¦bang! It threw out errors in bulk, yelling â€œUse of undeclared identifier â€˜_imageViewâ€™â€. What the hell have I done!</p>
<p>Luckily, I found some explainations <a href="http://stackoverflow.com/a/13670924/1594792" target="_blank" rel="external">here</a>. It says:</p>
<blockquote>
<p>Newer Xcode versions can create a @synthesize statement automatically and use the underscore prefix for instance variables. In this case however, <strong>since the property is read-only and you provide a getter method, Xcode does not synthesize the property automatically.</strong></p>
</blockquote>
<p>So, I have to @synthesize the property on my own, and now itâ€™s quiet and cute again. :P</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[[SolutionSummary] #1: UITableViewï¼UICollectionView with empty data]]></title>
      <url>http://www.calios.gq/2016/05/04/SolutionSummary-1-UITableView%EF%BC%8FUICollectionView-with-empty-data/</url>
      <content type="html"><![CDATA[<h5 id="Use-case"><a href="#Use-case" class="headerlink" title="Use case"></a>Use case</h5><p>ï¼ Empty data in <code>UITableViewï¼UICollectionView</code><br>ï¼ No network connection<br>ï¼ Network connection failure<br>ï¼ Loading data</p>
<h5 id="What-does-it-look-like-before"><a href="#What-does-it-look-like-before" class="headerlink" title="What does it look like before?"></a>What does it look like before?</h5><pre><code>// BaseViewController.h
- (void)showBlankViewWithString:(NSString *)attention forView:(UIView *)view;
- (void)hideBlankView;

// BaseViewController.m
#pragma mark - Blank
- (void)showBlankViewWithString:(NSString *)attention forView:(UIView *)view
{
    if (!_blankView) {
        CGFloat x = view.frame.origin.x;
        CGFloat width = view.frame.size.width;
        CGFloat height = view.frame.size.height;
        _blankView = [[UIView alloc] initWithFrame:CGRectMake( x + (width - 175)/2.f, height/3.f, 175, 200)];
        _blankView.backgroundColor = [UIColor clearColor];
//        [self.view insertSubview:_blankView aboveSubview:view];
        [self.view addSubview:_blankView];

        UIImageView *blankImgView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@&quot;blank_content&quot;]];
        blankImgView.frame = CGRectMake(25, 0, 125, 150);
        [_blankView addSubview:blankImgView];

        _attentionLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, CGRectGetMaxY(blankImgView.frame) + kTVCVCellInset_X, 175, kMediumFontSize + 2)];
        _attentionLabel.numberOfLines = 0;
        _attentionLabel.textAlignment = NSTextAlignmentCenter;
        _attentionLabel.textColor = kLightGrayColor;
        _attentionLabel.font = [UIFont systemFontOfSize:kMediumFontSize];
        [_blankView addSubview:_attentionLabel];
    }
    [self.view bringSubviewToFront:_blankView];
    _attentionLabel.text = attention;
}

- (void)hideBlankView
{
    if (_blankView != nil) {
        [_blankView removeFromSuperview];
        _blankView  = nil;
    }
}
</code></pre><p>And call these methods anywhere and choose the right <em>view</em> like this:</p>
<pre><code>[self showBlankViewWithString:kNetworkFailureKey forView:self.view];
</code></pre><p>or write <em>if-else</em> everywhere like this:</p>
<pre><code>    if (tmpArray.count &lt;= 0) {
    self.tableView.hidden = YES;
    [self showBlankViewWithString:@&quot;No Data&quot; forView:self.view];
}
else{
    [self hideBlankView];
    self.tableView.hidden = NO;
    ......
}
</code></pre><h5 id="What-does-it-look-like-now"><a href="#What-does-it-look-like-now" class="headerlink" title="What does it look like now?"></a>What does it look like now?</h5><p>Get your data as usual and just call:</p>
<pre><code>[self reloadListData:EmptyType_EmptyData];
</code></pre><p>or</p>
<pre><code>[self reloadListData:EmptyType_NetworkError];
</code></pre><p>or</p>
<pre><code>[self reloadListData:EmptyType_NoNetwork];
</code></pre><p>And all the annoying issues is done!</p>
<p>The only thing you need to do is inheriting from<code>BaseEmptyViewController</code> and set <code>needsEmptyDataHandling</code> to be <code>YES</code>.</p>
<pre><code>// YourViewController.h
@interface YourViewController : BaseEmptyViewController
@end

// YourViewController.m
    self.needsEmptyDataHandling = YES;
</code></pre><p>For more details, please check <a href="https://github.com/CaliosD/CDEmptyDataSet" target="_blank" rel="external">this</a>.</p>
<h5 id="References"><a href="#References" class="headerlink" title="References"></a>References</h5><p>ï¼ <a href="http://blog.yangmeyer.de/ios-dev/2013/05/11/best-practice-handling-empty-table-views.html" target="_blank" rel="external">http://blog.yangmeyer.de/ios-dev/2013/05/11/best-practice-handling-empty-table-views.html</a><br>ï¼ <a href="https://github.com/dzenbot/DZNEmptyDataSet" target="_blank" rel="external">https://github.com/dzenbot/DZNEmptyDataSet</a><br>ï¼ <a href="http://stackoverflow.com/questions/7547934/animated-reloaddata-on-uitableview" target="_blank" rel="external">http://stackoverflow.com/questions/7547934/animated-reloaddata-on-uitableview</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Some notes in `Table View Programming Guide for iOS`]]></title>
      <url>http://www.calios.gq/2016/05/04/Some-notes-in-Table-View-Programming-Guide-for-iOS/</url>
      <content type="html"><![CDATA[<blockquote>
<p>If you want to change the background color of a cell, do so in the <code>tableView:willDisplayCell:forRowAtIndexPath:</code> method of your table view delegate.</p>
<p>The table viewâ€™s data source implementation of <code>tableView:cellForRowAtIndexPath:</code> should always reset all content when reusing a cell.</p>
<p><code>indentationLevel</code> property for UITableViewCell</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Dynamically adding class methods with runtime]]></title>
      <url>http://www.calios.gq/2016/04/26/Dynamically-adding-class-methods-with-runtime/</url>
      <content type="html"><![CDATA[<p>Today I learned how to add dynamic instance methods in class like this.</p>
<pre><code>+ (BOOL)resolveInstanceMethod:(SEL)sel
{
    if ([NSStringFromSelector(sel) isEqualToString:@&quot;sing&quot;]) {
        class_addMethod(self, sel, (IMP)otherSing, &quot;v@:&quot;);
        return YES;
    }
    return [super resolveInstanceMethod:sel];
}

void otherSing(id self, SEL cmd)
{
    NSLog(@&quot;%@ is singing.&quot;,((People *)self).name);
}
</code></pre><p>When I was typing the code myself, I found another similar method: <code>resolveClassMethod:</code>. Maybe I could use it the same way, I thought. So, hereâ€™s the first version.</p>
<pre><code>+ (BOOL)resolveClassMethod:(SEL)sel
{
    if ([NSStringFromSelector(sel) isEqualToString:@&quot;dance&quot;]) {
        class_addMethod(self, sel, (IMP)otherDance, &quot;v@:&quot;);
        return YES;
    }
    return [super resolveClassMethod:sel];
}

void otherDance(id self, SEL cmd)
{
    NSLog(@&quot;Dancing! Let&apos;s rock!&quot;);
}
</code></pre><p>Build and run.</p>
<p>Boom! It crashed sadly, and an unrecognized selector error at runtime was throwed out.</p>
<p>Why? </p>
<p>Digging like a gopher in the Internet(:P), I found Jeff explained <a href="http://iphonedevelopment.blogspot.jp/2008/08/dynamically-adding-class-objects.html" target="_blank" rel="external">here</a> in detail:</p>
<blockquote>
<p>Because that code adds a method to the class object, which means you added an instance method to that class. Thatâ€™s not what you want. What you want is to add a method to your classâ€™ metaclass object instance, which means going to the runtime to get the Class object that represents the classâ€™ metaclass object (say that five times fast!).</p>
</blockquote>
<p>So, replace the code above with below would work well.</p>
<pre><code>+ (BOOL)resolveClassMethod:(SEL)sel
{
    if ([NSStringFromSelector(sel) isEqualToString:@&quot;dance&quot;]) {
        Class selfMetaClass = objc_getMetaClass([[self className] UTF8String]);
        class_addMethod(selfMetaClass, sel, (IMP)otherDance, &quot;v@:&quot;);
        return YES;
    }
    return [super resolveClassMethod:sel];
}

void otherDance(id self, SEL cmd)
{
    NSLog(@&quot;Dancing! Let&apos;s rock!&quot;);
}
</code></pre><p>Now, people could rock as they wished. :P</p>
<p>Wait, what hell was the â€¦  â€œâ€v@:â€â€ ?? Seemed odd.</p>
<p>Well, letâ€™s have another digging(:P).</p>
<p>Here it is:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>i/v</td>
<td>return int/void  </td>
</tr>
<tr>
<td>@</td>
<td>parameter id(self)</td>
</tr>
<tr>
<td>:</td>
<td>SEL(_cmd)</td>
</tr>
<tr>
<td>@</td>
<td>id(str)</td>
</tr>
</tbody>
</table>
<p>More detail encodings are <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html" target="_blank" rel="external">here</a>.</p>
<p>OK. Thatâ€™s finally done. See you another topic. :]</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[How to disable the UITableView-UICollectionView selection highlighting]]></title>
      <url>http://www.calios.gq/2016/04/20/How-to-disable-the-UITableView-UICollectionView-selection-highlighting/</url>
      <content type="html"><![CDATA[<p>Hereâ€™s a summary for the UITableView issue <a href="http://stackoverflow.com/a/6305493/1594792" target="_blank" rel="external">here</a> and I added UICollectionView part below in union.</p>
<hr>
<p>Depending on your desired logic and/or result, youâ€™ve got nearly 5 different ways to solve it:</p>
<p>1.To disable the blue highlighting <strong>without changing any other interaction of the (UITableView) cell</strong>:</p>
<pre><code>[cell setSelectionStyle:UITableViewCellSelectionStyleNone];
</code></pre><p><strong>PS:</strong></p>
<p>Thereâ€™re two points here to mention:</p>
<ul>
<li>The <code>tableView:didSelectRowAtIndexPath:</code> delegate is not prevented and you can workaround with â€œifâ€ statements.</li>
<li>Since UICollectionView has no <code>selectionStyle:</code> property, you have to handle it with the second way below.</li>
</ul>
<p>2.Disable highlighting of UITableView/UICollectionView <strong>without changing any other interaction of the (UITableView) cell</strong></p>
<pre><code>[tableView setAllowsSelection:NO];
</code></pre><p>or </p>
<pre><code>[collectionView setAllowsSelection:NO];
</code></pre><p>3.To make a cell â€œread-onlyâ€, you can simply do this:</p>
<pre><code>[cell setUserInteractionEnabled:NO];
</code></pre><p>4.To make an entire table â€œread-onlyâ€:</p>
<pre><code>[tableView setUserInteractionEnabled:NO];
</code></pre><p><strong>Attention:</strong></p>
<p>This way will forbid UITableView scroll normally as a scrollview. So, be careful about it.</p>
<p>5.To determine on-the-fly whether to highlight a cell (which according to this answer implicitly includes selection), you can implement the following <code>UITableViewDelegate</code> protocol method:</p>
<pre><code>- (BOOL)tableView:(UITableView *)tableView 
   shouldHighlightRowAtIndexPath:(NSIndexPath *)indexPath
</code></pre><p>More info from <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UITableViewDelegate_Protocol/index.html#//apple_ref/doc/uid/TP40006942-CH3-SW32" target="_blank" rel="external">iOS Developer Library</a>:</p>
<blockquote>
<p>As touch events arrive, the table view highlights rows in anticipation of the user selecting them. As it processes those touch events, the table view calls this method to ask your delegate if a given cell should be highlighted. Your delegate can implement this method and use it to prevent the highlighting of a row when another row is already selected or when other relevant criteria occur.<br>If you do not implement this method, the default return value is YES.</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é‚£äº›å¹´ï¼Œæˆ‘è¸©è¿‡çš„å‘ï¼ˆäºŒï¼‰]]></title>
      <url>http://www.calios.gq/2016/04/20/%E9%82%A3%E4%BA%9B%E5%B9%B4%EF%BC%8C%E6%88%91%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘è¸©åˆ°ä¸€ä¸ªå‘ï¼Œè¡¨ç°çŠ¶å†µå¦‚ä¸‹ï¼š</p>
<p>UICollectionViewçš„Cellä¸­æœ‰ä¸€ä¸ªUIImageViewï¼Œæœ‰é€‰ä¸­å’Œæœªé€‰ä¸­ä¸¤ä¸ªçŠ¶æ€ã€‚åœ¨æŸç§æ¡ä»¶ä¸‹ç‚¹å‡»æ—¶æ˜¯ä¸åšä»»ä½•æ”¹å˜çš„ï¼ˆå³ä¿æŒæœªé€‰ä¸­çŠ¶æ€ï¼‰ã€‚</p>
<p>èµ·åˆçš„åšæ³•æ˜¯ï¼š<br>å°†UIImageViewçš„<code>image</code>ï¼<code>hightedImage</code>å±æ€§å’Œcellçš„é€‰ä¸­ï¼æœªé€‰ä¸­çŠ¶æ€è¿›è¡Œç»‘å®šï¼Œé€šè¿‡UIImageViewçš„<code>setHighlighted:</code>æ–¹æ³•æ¥åˆ‡æ¢é€‰ä¸­çŠ¶æ€ã€‚</p>
<pre><code>// MyController.m
- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath
{
    if (conditionAIsSatisfied) {
        ......
    }
}

// MyCollectionViewCell.m
- (void)updateCellWithSelected:(BOOL)selected
{
    [_imgView setHighlighted:selected];
}
</code></pre><p>å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼š<br>åœ¨UICollectionViewçš„<code>didSelectItemAtIndexPath:</code>æ–¹æ³•ä¸­ï¼Œå³ä½¿ä¸æ‰§è¡Œifè¯­å¥ä¸­çš„æ›´æ–°imageViewçš„æ–¹æ³•ï¼Œ<code>_imgView</code>ä¹Ÿä¼šæ›´æ–°ä¸ºé€‰ä¸­çŠ¶æ€çš„å›¾ç‰‡ã€‚è€ŒcollectionViewCellä¸­çš„<code>updateCellWithSelected:</code>ä¹Ÿæ˜¯æ²¡æœ‰æ‰§è¡Œçš„ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆ<code>_imgView</code>çš„å›¾ç‰‡ä¼šæ›´æ–°å‘¢ï¼Ÿ<br>ç±»ä¼¼çš„ï¼Œåœ¨UITableViewä¸­åšåŒæ ·çš„æ§åˆ¶ï¼ŒUITableViewCellä¸­<code>_imgView</code>çš„å›¾ç‰‡ä¸ºä»€ä¹ˆå°±ä¸ä¼šæ”¹å˜å‘¢ï¼Ÿ</p>
<p><code>UICollectionViewDelegate</code>ä¸­ç›¸å…³çš„å„ä¸ªå›è°ƒæ–¹æ³•å¦‚ä¸‹ã€‚</p>
<blockquote>
<p>// Methods for notification of selection/deselection and highlight/unhighlight events.<br>// The sequence of calls leading to selection from a user touch is:<br>//<br>// (when the touch begins)<br>// 1. -collectionView:shouldHighlightItemAtIndexPath:<br>// 2. -collectionView:didHighlightItemAtIndexPath:<br>//<br>// (when the touch lifts)<br>// 3. -collectionView:shouldSelectItemAtIndexPath: or -collectionView:shouldDeselectItemAtIndexPath:<br>// 4. -collectionView:didSelectItemAtIndexPath: or -collectionView:didDeselectItemAtIndexPath:<br>// 5. -collectionView:didUnhighlightItemAtIndexPath:</p>
</blockquote>
<p>UICollectionViewCellå¹¶æ²¡æœ‰åƒUITableViewCellä¸€æ ·æä¾›ç±»ä¼¼<code>selectionStyle</code>çš„å±æ€§æ¥ç›´æ¥å°†é€‰ä¸­æ—¶çš„æ ·å¼è®¾ç½®ä¸º<code>UITableViewCellSelectionStyleNone</code>ï¼Œè€Œæ˜¯ç»™äº†å¼€å‘è€…æ›´å¤šçš„çµæ´»æ€§ï¼Œæä¾›äº†æ›´å¤šçš„ä»£ç†æ–¹æ³•ã€‚é€šè¿‡æŸ¥çœ‹<code>UICollectionViewDelegate</code>ä»¥åŠåœ¨<code>shouldSelectItemAtIndexPath:</code>å’Œ<code>didHighlightItemAtIndexPath:</code>ç­‰å‡½æ•°ä¸­æ‰“æ–­ç‚¹é€ä¸ªæ’æŸ¥ï¼Œå‘ç°cellçš„highlightedå’Œimageviewçš„highlightedæ˜¯å…³è”çš„ã€‚å½“cellè¢«é€‰ä¸­æ—¶ï¼Œè™½ç„¶<code>didSelectItemAtIndexPath:</code>æ–¹æ³•å¹¶æ²¡æœ‰æ‰§è¡Œå®è´¨æ€§çš„ä»£ç ï¼Œä½†åœ¨å…¶ä¹‹å‰æ‰§è¡Œçš„<code>shouldHighlightItemAtIndexPath:</code>æ–¹æ³•é»˜è®¤ä¸º<code>YES</code>ï¼Œä½¿æ•´ä¸ªcellçš„çŠ¶æ€ä¸ºhighlightedï¼Œç›¸åº”çš„imageViewçš„çŠ¶æ€å°±æ˜¯æ˜¾ç¤ºhighlightedçš„å›¾ç‰‡äº†ã€‚</p>
<p>çŸ¥é“äº†åŸå› ä¹‹åï¼Œæ€»ç»“äº†ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p>
<p>1.æ·»åŠ <code>shouldSelectItemAtIndexPath:</code>æ–¹æ³•ï¼Œåœ¨å…¶ä¸­å¢åŠ <code>conditionAIsSatisfied</code>çš„åˆ¤æ–­ï¼Œæ¥å¯¹åº”åœ°è¿”å›<code>YES</code>æˆ–<code>NO</code>ã€‚<br>2.åœ¨<code>MyCollectionViewCell</code>ä¸­ï¼Œä¸å†ä¸ºUIImageViewçš„<code>image</code>ï¼<code>hightedImage</code>è®¾ç½®ä¸åŒçš„å›¾ç‰‡ï¼Œè€Œæ˜¯è®¾ç½®ä¸ºåŒä¸€ä¸ªå›¾ç‰‡ã€‚ç„¶ååœ¨<code>-updateCellWithSelected:</code>ä¸­æ ¹æ®<code>selected</code>å€¼æ¥æ›¿æ¢é€‰ä¸­ï¼æœªé€‰ä¸­çš„å›¾ç‰‡ã€‚</p>
<p>å¯¹æ¯”æ¥çœ‹ï¼Œ1çš„ç¼ºç‚¹åœ¨äºï¼Œå·²é€‰ä¸­çš„cellæ— æ³•å–æ¶ˆé€‰ä¸­ã€‚2çš„ç¼ºç‚¹åœ¨äºï¼Œåˆ‡æ¢å›¾ç‰‡æ—¶ä¼šæœ‰ç‚¹çªå…€ã€‚</p>
<p>ç»¼åˆè€ƒé‡ï¼Œæˆ‘æœ€åé€‰æ‹©äº†æ–¹æ¡ˆ2ã€‚</p>
<hr>
<p><strong>Update 0420</strong></p>
<p>ä½†æ˜¯ï¼Œä¸Šé¢å•°å—¦äº†åŠå¤©ï¼Œå…¶å®åªéœ€è¦ä¸€å¥ä»£ç è§£å†³é—®é¢˜ï¼š</p>
<pre><code>collectionView.allowSelection = NO;
</code></pre><p>æ¥è‡ª<a href="http://stackoverflow.com/a/6305493/1594792" title="http://stackoverflow.com/a/6305493/1594792" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚UITableViewåŒç†ã€‚</p>
<p>æœç„¶æ˜¯ç®€æ´è‡³ä¸Šã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Bash commands in some useful cases]]></title>
      <url>http://www.calios.gq/2016/04/20/Bash-commands-in-some-useful-cases/</url>
      <content type="html"><![CDATA[<p>1.Rename files in batch</p>
<pre><code>$ for i in *.m; do mv &quot;$i&quot; &quot;Qn$i&quot;; done
</code></pre><p>2.Compress images in batch</p>
<pre><code>$ find ./ -name &apos;*.jpg&apos; -exec convert -resize 80%x80% {} {} \;
</code></pre><p>3.Refresh launchpad (I used it when failed to find icons in it.)</p>
<pre><code>$ rm ~/Library/Application\ Support/Dock/*.db; killall Dock
</code></pre><p>4.A tip of showing download things in App Store</p>
<pre><code>$ lsof | grep -i pkg
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[UIImagePickerController breaks status bar appearance]]></title>
      <url>http://www.calios.gq/2016/03/30/UIImagePickerController-breaks-status-bar-appearance/</url>
      <content type="html"><![CDATA[<p>As Rich86man mentioned <a href="http://stackoverflow.com/a/18883563/1594792" target="_blank" rel="external">here</a>, the following is a possible solution.</p>
<blockquote>
<p>In the view controller who calls the image picker, set yourself as the delegate of the image Picker. (Youâ€™re probably already doing this)<br>     UIImagePickerController* imagePicker = [[UIImagePickerController alloc] init];<br>     imagePicker.delegate = self;</p>
<p>Since UIImagePickerController is a type of Navigation controller, youâ€™re also setting yourself as the UINavigationController delegate. Then :</p>
<pre><code>- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated
{
      [[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleLightContent];
}
</code></pre><p>Replace UIStatusBarStyleLightContent with whatever style you are looking for.</p>
</blockquote>
<p>However, in my case, I found it would be fine just adding a line of code(only add as you need) in <code>- viewWillAppear:</code> function.</p>
<pre><code>[[UIApplication sharedApplication] setStatusBarHidden:NO];
[[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleLightContent animated:YES];
</code></pre><p>Each time UIImagePickerController dismissed, <code>- viewWillAppear:</code> would be called and set status bar right.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[UICollectionView scroll to make section header visible]]></title>
      <url>http://www.calios.gq/2016/03/30/UICollectionView-scroll-to-make-section-header-visible/</url>
      <content type="html"><![CDATA[<p>Swift versionï¼šHereâ€™s the <a href="https://gist.github.com/genedelisa/ebcc33c38a521ff8a719#file-collectionviewscroll" target="_blank" rel="external">gist</a>.</p>
<pre><code>/**
    Scroll to make the the given section header visible.
    The function scrollToItemAtIndexPath will scroll to the item and hide the section header.
    */
    func scrollToSection(section:Int)  {
        if let cv = self.collectionView {
            let indexPath = NSIndexPath(forItem: 1, inSection: section)
            if let attributes =  cv.layoutAttributesForSupplementaryElementOfKind(UICollectionElementKindSectionHeader, atIndexPath: indexPath) {

                let topOfHeader = CGPointMake(0, attributes.frame.origin.y - cv.contentInset.top)
                cv.setContentOffset(topOfHeader, animated:true)
            }
        }
    }
</code></pre><p>Objective-C version: Hereâ€™s the <a href="https://gist.github.com/CaliosD/a85ce55e57fe939a9dd62f2c4eb675da" target="_blank" rel="external">gist</a>.</p>
<pre><code>- (void)scrollToSection:(NSInteger)section
{
    NSIndexPath *indexpath = [NSIndexPath indexPathForItem:1 inSection:section];
    if ([_questionCV layoutAttributesForSupplementaryElementOfKind:UICollectionElementKindSectionHeader atIndexPath:indexpath]) {
        UICollectionViewLayoutAttributes *attributes = [_questionCV layoutAttributesForSupplementaryElementOfKind:UICollectionElementKindSectionHeader atIndexPath:indexpath];
        CGPoint topOfHeader = CGPointMake(0, attributes.frame.origin.y - _questionCV.contentInset.top);
        [_questionCV setContentOffset:topOfHeader];
    }
}
</code></pre><hr>
<p><strong> Ref: </strong></p>
<ul>
<li><a href="http://www.rockhoppertech.com/blog/scroll-to-uicollectionview-header/" target="_blank" rel="external">http://www.rockhoppertech.com/blog/scroll-to-uicollectionview-header/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘æµ…è‰²UIStatusBarè®¾ç½®ä¸å¥æ•ˆ]]></title>
      <url>http://www.calios.gq/2016/03/08/%E3%80%90%E8%AF%91%E3%80%91%E6%B5%85%E8%89%B2UIStatusBar%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%A5%8F%E6%95%88/</url>
      <content type="html"><![CDATA[<p>å½“ä½ æƒ³ç”¨<code>UIStatusBarStyleLightContent</code>ç»™æ·±è‰²çš„èƒŒæ™¯è®¾ç½®æµ…è‰²çš„çŠ¶æ€æ æ–‡å­—æ—¶ï¼Œè¿™é‡Œæœ‰ä¸ªå¸¸è§çš„é™·é˜±ã€‚</p>
<p>æœ‰ä¸¤ä»¶äº‹æ˜¯ä½ å¿…é¡»åšçš„ï¼š</p>
<ol>
<li>è¿™æ˜¯å¼€å‘è€…é€šå¸¸éƒ½ä¼šåšçš„ â€”â€” åœ¨Targetè®¾ç½® > General > Status Bar Style > æ”¹æˆLightã€‚è¿™å¯ä»¥è®©Info.plistæ–‡ä»¶æ·»åŠ <code>UIStatusBarStyleLightContent</code>ã€‚</li>
<li>è¿™æ˜¯æ¯”è¾ƒéšæ™¦çš„ä¸€æ­¥ â€”â€” åœ¨Info.plistæ–‡ä»¶ä¸­ï¼Œæ·»åŠ <code>View controller-based status bar appearance</code>ï¼Œå¹¶ç½®ä¸º<code>NO</code>ã€‚</li>
</ol>
<hr>
<p><strong> Ref:</strong></p>
<ul>
<li><a href="http://samwize.com/2015/01/13/uistatusbar-with-light-content-style-not-working-pitfall/" target="_blank" rel="external">http://samwize.com/2015/01/13/uistatusbar-with-light-content-style-not-working-pitfall/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Stop CALayer shadow from affecting subviews]]></title>
      <url>http://www.calios.gq/2016/03/07/Stop-CALayer-shadow-from-affecting-subviews/</url>
      <content type="html"><![CDATA[<p>When your parentView is by any chance transparent, the CALayer shadow set for parentView would affect subviews, just as image below.</p>
<p><img src="http://i.stack.imgur.com/CZPUY.png" alt=""></p>
<p>While after setting background color to white color, it shows as we expected.</p>
<p><img src="http://i.stack.imgur.com/YFrqh.png" alt=""></p>
<p><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CoreAnimation_guide/LayerStyleProperties/LayerStyleProperties.html#//apple_ref/doc/uid/TP40004514-CH10-SW18" target="_blank" rel="external">Docs</a> from Apple: </p>
<blockquote>
<p>Figure A-7 shows several different versions of the same sample layer with a red shadow applied. The left and middle versions include a background color so the shadow appears only around the border of the layer. However, the version on the right does not include a background color. In this case, the shadow is applied to the layerâ€™s content, border, and sublayers.</p>
</blockquote>
<p><img src="http://i.stack.imgur.com/2TGcA.png" alt=""></p>
<hr>
<p><strong> Ref:</strong></p>
<ul>
<li><a href="http://stackoverflow.com/questions/31312087/objectivec-set-shadow-to-parent-view/31313216#31313216" target="_blank" rel="external">http://stackoverflow.com/questions/31312087/objectivec-set-shadow-to-parent-view/31313216#31313216</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Value of optional type â€˜Stringâ€™ not unwrapped error in Swift]]></title>
      <url>http://www.calios.gq/2016/03/03/Value-of-optional-type-%E2%80%98String%E2%80%99-not-unwrapped-error-in-Swift/</url>
      <content type="html"><![CDATA[<p>æ–°å¼€äº†<code>K08-RandomColorization</code>ï¼Œåˆšå†™äº†ä¸€è¡Œä»£ç ï¼š</p>
<pre><code>let bgMusic = NSURL(fileURLWithPath: NSBundle.mainBundle().pathForResource(&quot;Ecstasy&quot;, ofType: &quot;mp3&quot;))
</code></pre><p>ç„¶åå°±æŠ¥äº†ä¸€ä¸ªerrorï¼š<br><em>Value of optional type â€˜Stringâ€™ not unwrapped;did you mean to use â€˜!â€™ or â€˜?â€™?â€</em></p>
<p><a href="http://stackoverflow.com/a/25663421/1594792" target="_blank" rel="external">è¿™é‡Œ</a>å¯»å¾—ä¸€ä¸ªä¸é”™çš„ç­”æ¡ˆï¼Œç¿»è¯‘åŠç†è§£å¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆï¼Œè¿™è¡Œä»£ç ä½¿ç”¨åˆ°äº†<strong> å¯é€‰é“¾å¼è°ƒç”¨ï¼ˆOptional Chainingï¼‰</strong> è¿™ä¸ªå®¶ä¼™ã€‚ç”¨äººè¯è¯´ï¼Œå°±æ˜¯<code>NSBundle.mainBundle().pathForResource(&quot;Ecstasy&quot;, ofType: &quot;mp3&quot;)</code> è¦ä¹ˆå°±æ˜¯ä¸€ä¸ª<code>String</code>ï¼Œè¦ä¹ˆå°±æ˜¯ä¸€ä¸ª<code>nil</code>ã€‚</p>
<p>ä½†æ˜¯ï¼Œæ˜¾ç„¶<code>NSURL</code>çš„<code>fileURLWithPath:</code>æ–¹æ³•ä¸ä¼šæ¥å—<code>nil</code>ï¼Œåªä¼šæ¥å—<code>String</code>ç±»å‹çš„å‚æ•°ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å°±æŠŠè¿™ä¸ªerroræŠ¥å‡ºæ¥äº†ã€‚ï¼ˆå¯ä»¥åšä¸€ä¸ªå®éªŒï¼Œç›´æ¥å†™<code>let bgMusic = NSURL(fileURLWithPath: nil)</code>ï¼Œå°±ä¼šå‘ç°æŠ¥<em>Nil is not compatible with expected argument type â€˜Stringâ€™</em>çš„errorã€‚ï¼‰</p>
<p>è§£å†³åŠæ³•æ˜¯å¼ºåˆ¶å±•å¼€<code>NSBundle.mainBundle().pathForResource(&quot;Ecstasy&quot;, ofType: &quot;mp3&quot;)</code>ï¼Œå³æ·»åŠ ä¸€ä¸ª<code>!</code>ï¼š</p>
<pre><code>let bgMusic = NSURL(fileURLWithPath: NSBundle.mainBundle().pathForResource(&quot;Ecstasy&quot;, ofType: &quot;mp3&quot;)!)
</code></pre><p>ä½†æ˜¯ï¼Œå¦‚æœæ‰€éœ€æ–‡ä»¶ä¸å­˜åœ¨å°±ä¼šå¯¼è‡´ä¸€ä¸ªè¿è¡Œæ—¶çš„errorï¼Œç›´æ¥æŒ‚æ‰ã€‚æ‰€ä»¥ï¼Œé€šå¸¸æ¥è¯´æœ€å¥½æ˜¯ç”¨ä¸€ä¸ªå¯é€‰ç»‘å®šæŠŠå®ƒåŒ…èµ·æ¥ï¼š</p>
<pre><code>if let file = NSBundle.mainBundle().pathForResource(&quot;aaa&quot;, ofType: &quot;mp3&quot;) {
    let bgMusic = NSURL(fileURLWithPath: file)
    NSLog(bgMusic.absoluteString)
}
</code></pre><p>è¿™æ ·å°±å¯ä»¥ä¿è¯<code>fileURLWithPath:</code>åªæœ‰åœ¨æ–‡ä»¶ä¸ä¸ºç©ºæ—¶æ‰è¢«è°ƒç”¨äº†ã€‚å®Œç¾ï½</p>
<hr>
<p><strong> Ref: </strong></p>
<ul>
<li><a href="http://stackoverflow.com/a/25663421/1594792" target="_blank" rel="external">http://stackoverflow.com/a/25663421/1594792</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[How to generate a random number in Objective-C ?]]></title>
      <url>http://www.calios.gq/2016/03/03/How-to-generate-a-random-number-in-Objective-C/</url>
      <content type="html"><![CDATA[<p>Brief instruction from <a href="http://nshipster.com/random/" target="_blank" rel="external">Mattt in NSHipster</a> as below.</p>
<h5 id="1-Random-int-between-0-and-N-1"><a href="#1-Random-int-between-0-and-N-1" class="headerlink" title="1.Random int between 0 and N-1"></a>1.Random int between 0 and N-1</h5><pre><code>NSUInteger r = arc4random_uniform(N);
</code></pre><h5 id="2-Random-int-between-1-and-N"><a href="#2-Random-int-between-1-and-N" class="headerlink" title="2.Random int between 1 and N"></a>2.Random int between 1 and N</h5><pre><code>NSUInteger r = arc4random_uniform(N) + 1;
</code></pre><h5 id="3-Random-double-between-0-and-1"><a href="#3-Random-double-between-0-and-1" class="headerlink" title="3.Random double between 0 and 1"></a>3.Random double between 0 and 1</h5><pre><code>srand48(time(0));
double r = drand48();
</code></pre><p>Accordingly, in Swift, itâ€™s like this.</p>
<pre><code>    let redValue = CGFloat(drand48())
let blueValue = CGFloat(drand48())
let greenValue = CGFloat(drand48())
</code></pre><hr>
<p><strong> Ref: </strong></p>
<ul>
<li><a href="http://nshipster.com/random/" target="_blank" rel="external">http://nshipster.com/random/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Crash related to `UIVisualEffectView`]]></title>
      <url>http://www.calios.gq/2016/03/02/Crash-related-to-UIVisualEffectView/</url>
      <content type="html"><![CDATA[<p>å°è¯•åœ¨storyboardä¸­æ·»åŠ äº†ä¸€ä¸ª<code>UIVisualEffectView</code>ï¼Œç„¶ååˆæ·»åŠ äº†å‡ ä¸ªå­è§†å›¾ï¼Œç„¶åï¼Œå°±å’»çš„ä¸€ä¸‹ï¼ŒæŒ‚äº†ã€‚</p>
<pre><code>2016-03-02 14:57:45.953 K06-Where[3499:225450] The view hierarchy is not prepared for the constraint: &lt;NSLayoutConstraint:0x7f843501d7f0 UIView:0x7f843501da50.centerX == UIVisualEffectView:0x7f843501d150.centerX&gt;
    When added to a view, the constraint&apos;s items must be descendants of that view (or the view itself). This will crash if the constraint needs to be resolved before the view hierarchy is assembled. Break on -[UIView(UIConstraintBasedLayout) _viewHierarchyUnpreparedForConstraint:] to debug.
2016-03-02 14:57:45.954 K06-Where[3499:225450] The view hierarchy is not prepared for the constraint: &lt;NSLayoutConstraint:0x7f843501e250 UIView:0x7f843501da50.top == UIVisualEffectView:0x7f843501d150.top + 66&gt;
</code></pre><p><code>command + shift + 0</code>æŸ¥ä¸€ä¸‹è‹¹æœçš„æ–‡æ¡£ï¼š</p>
<blockquote>
<p>After you add the visual effect view to the view hierarchy, add any subviews to the contentView property of the visual effect view. Do not add subviews directly to the visual effect view itself. (From <a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView" title="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView" target="_blank" rel="external">ğŸ</a>)</p>
</blockquote>
<p>å¦‚åŒ<code>UITableViewCell</code>ä¸€æ ·ï¼Œ<code>UIVisualEffectView</code>æœ‰è‡ªå·±çš„<code>contentView</code>ã€‚æ‰€ä»¥ï¼Œä¸ç®¡æ˜¯æ·»åŠ å­è§†å›¾ï¼Œè¿˜æ˜¯æ·»åŠ å­è§†å›¾ç›¸å…³çš„çº¦æŸï¼Œéƒ½åº”è¯¥åŠ åœ¨è¿™ä¸ª<code>contentView</code>ä¸Šï¼Œè€Œä¸æ˜¯ç›´æ¥åŠ åˆ°<code>UIVisualEffectView</code>ä¸Šã€‚ä¸Šé¢çš„crashå°±æ˜¯ç”±äºå­è§†å›¾æ·»åŠ çš„çº¦æŸä¸ç¬¦åˆè§†å›¾æ ‘çš„è§„åˆ™å¯¼è‡´çš„ã€‚</p>
<p>çŸ¥é“äº†è¿™äº›ï¼ŒæŠŠåŸæœ¬æ·»åŠ åœ¨<code>UIVisualEffectView</code>çš„çº¦æŸåˆ æ‰ï¼Œæ”¹ä¸ºæ·»åŠ åˆ°å®ƒçš„<code>contentView</code>ä¸Šã€‚Overï½</p>
<hr>
<p><strong> Ref: </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView" target="_blank" rel="external">https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIVisualEffectView/index.html#//apple_ref/occ/cl/UIVisualEffectView</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CoreLocation Authorization in iOS8+]]></title>
      <url>http://www.calios.gq/2016/03/02/CoreLocation-Authorization-in-iOS8/</url>
      <content type="html"><![CDATA[<h5 id="1-CoreLocationManagerä¸­æ–°å¢çš„æ–¹æ³•"><a href="#1-CoreLocationManagerä¸­æ–°å¢çš„æ–¹æ³•" class="headerlink" title="1.CoreLocationManagerä¸­æ–°å¢çš„æ–¹æ³•"></a>1.<code>CoreLocationManager</code>ä¸­æ–°å¢çš„æ–¹æ³•</h5><p>iOS8åœ¨ä½ç½®è·å–æƒé™ä¸Šåšäº†æ›´ç»†çš„åˆ’åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å…è®¸appåœ¨åå°ä½¿ç”¨ä½ç½®ä¿¡æ¯ã€åœ¨ä½¿ç”¨æœŸé—´ä½¿ç”¨ä½ç½®ä¿¡æ¯æˆ–è€…ä¸å…è®¸ä½¿ç”¨ä½ç½®ä¿¡æ¯ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨<code>CLLocationManager</code>ä¸­æ·»åŠ äº†å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><code>requestWhenInUseAuthorization()</code>: å‘ç”¨æˆ·è¯·æ±‚åªåœ¨appä½¿ç”¨æœŸé—´è·å–ä½ç½®ä¿¡æ¯çš„æƒé™ã€‚</li>
<li><code>requestAlwaysAuthorization()</code>: å‘ç”¨æˆ·è¯·æ±‚appåœ¨åå°ä½¿ç”¨ä½ç½®ä¿¡æ¯çš„æƒé™ã€‚</li>
</ul>
<p>```<br>    locationManager = CLLocationManager()<br>    locationManager.delegate = self<br>    locationManager.desiredAccuracy = kCLLocationAccuracyBest<br>    locationManager.requestAlwaysAuthorization()<br>    locationManager.startUpdatingLocation()<br>```</p>
<h5 id="2-æä¾›è¯´æ˜ä¿¡æ¯"><a href="#2-æä¾›è¯´æ˜ä¿¡æ¯" class="headerlink" title="2.æä¾›è¯´æ˜ä¿¡æ¯"></a>2.æä¾›è¯´æ˜ä¿¡æ¯</h5><p><code>CoreLocation</code>éœ€è¦ç»™ç”¨æˆ·å±•ç¤ºä¸€ä¸ªä¿¡æ¯ï¼Œå‘Šè¯‰ä»–ä»¬ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ä»–ä»¬çš„ä½ç½®ä¿¡æ¯ã€‚è¿™ä¸ªå±•ç¤ºçš„ä¿¡æ¯ï¼Œå«â€œusage stringâ€ï¼Œå¯ä»¥åœ¨info.plistæ–‡ä»¶ä¸­è®¾ç½®ã€‚</p>
<p>ç„¶è€Œï¼Œä¸‹æ‹‰åˆ—è¡¨ä¸­æ‰¾åˆ°çš„å”¯ä¸€ç›¸å…³çš„<code>NSLocationUsageDescription</code>è²Œä¼¼ä¸èµ·ä»€ä¹ˆä½œç”¨ã€‚</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/16-3-22/41359249.jpg" alt=""></p>
<p>å› ä¸º<code>NSLocationUsageDescription</code>åœ¨iOS8åŠiOS8+ä¸­éƒ½è¢«å¿½ç•¥æ‰äº†ã€‚åŒæ—¶ï¼Œæœ‰ä¸¤ä¸ªæ–°çš„keyè¢«å¼•å…¥è¿›æ¥ã€‚</p>
<ul>
<li><code>NSLocationAlwaysUsageDescription</code>:å‰åå°å‡å…è®¸ä½¿ç”¨</li>
<li><code>NSLocationWhenInUseUsageDescription</code>: åªå…è®¸å‰å°ä½¿ç”¨</li>
</ul>
<p>è²Œä¼¼Xcodeå¹¶æ²¡æœ‰æ›´æ–°ä¸‹æ‹‰åˆ—è¡¨ä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥åªèƒ½æ‰‹åŠ¨è¾“å…¥keyäº†ã€‚</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/16-3-22/65397100.jpg" alt=""></p>
<p>åœ¨iPhoneä¸­ç›¸åº”çš„è®¾ç½®ä¿¡æ¯å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼š</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/16-3-22/37636479.jpg" alt=""></p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/16-3-22/21834545.jpg" alt=""></p>
<p>å“¦äº†ï¼ŒK06-Whereç»“æŸäº†ã€‚å›å½’åœ°çƒã€‚</p>
<hr>
<p><strong>Ref:</strong></p>
<p>éƒ¨åˆ†å†…å®¹ç¿»è¯‘è‡ªï¼š<br><a href="https://www.shinobicontrols.com/blog/ios8-day-by-day-day-34-corelocation-authorization" target="_blank" rel="external">https://www.shinobicontrols.com/blog/ios8-day-by-day-day-34-corelocation-authorization</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å…³äºAppleScriptçš„ç‚¹æ»´]]></title>
      <url>http://www.calios.gq/2016/02/29/%E5%85%B3%E4%BA%8EAppleScript%E7%9A%84%E7%82%B9%E6%BB%B4/</url>
      <content type="html"><![CDATA[<p>1.AppleScriptç»ˆæå…¥é—¨æ‰‹å†Œï¼š</p>
<ul>
<li>ä¸­æ–‡ç‰ˆï¼š<a href="http://blog.csdn.net/yang3wei/article/details/7964226" target="_blank" rel="external">http://blog.csdn.net/yang3wei/article/details/7964226</a></li>
<li>è‹±æ–‡ç‰ˆï¼š<a href="http://computers.tutsplus.com/tutorials/the-ultimate-beginners-guide-to-applescript--mac-3436" target="_blank" rel="external">http://computers.tutsplus.com/tutorials/the-ultimate-beginners-guide-to-applescriptâ€“mac-3436</a></li>
</ul>
<p>2.ä¿å­˜åˆ°æœ¬åœ°çš„.scptæ–‡ä»¶å¦‚ä½•åœ¨terminalä¸­è¿è¡Œï¼Ÿ</p>
<pre><code>$ osascript myScript.scpt
</code></pre><p>3.æ›´å¤šèµ„æ–™è§ğŸå®˜ç½‘ï¼š</p>
<ul>
<li><a href="https://developer.apple.com/library/mac/documentation/AppleScript/Conceptual/AppleScriptLangGuide/introduction/ASLR_intro.html" target="_blank" rel="external">https://developer.apple.com/library/mac/documentation/AppleScript/Conceptual/AppleScriptLangGuide/introduction/ASLR_intro.html</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/AppleScript/Conceptual/AppleScriptX/AppleScriptX.html" target="_blank" rel="external">https://developer.apple.com/library/mac/documentation/AppleScript/Conceptual/AppleScriptX/AppleScriptX.html</a></li>
</ul>
<p>4.å»¶ä¼¸æ€è€ƒï¼š</p>
<ul>
<li>IFTTTçš„å®ç°åŸç†ï¼Ÿ</li>
<li>OS Xçš„app Automatorå¦‚ä½•ä½¿ç”¨ï¼Ÿæ˜¯å¦æä¾›äº†æ›´å¥½çš„æ–¹å¼æ¥æé«˜ç”Ÿäº§æ•ˆç‡ï¼Ÿ</li>
<li>å›åˆ°æŠ˜è…¾AppleScriptçš„åŸå§‹é—®é¢˜ï¼šåœ¨å†™markdownè¿‡ç¨‹ä¸­ï¼Œå°†å‰ªåˆ‡æ¿çš„å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ°ä¸ƒç‰›ï¼Œå¹¶ç”ŸæˆURLè¿”å›åˆ°å‰ªåˆ‡ç‰ˆï¼Œæ–¹ä¾¿åœ¨markdownä¸­æ’å…¥å›¾ç‰‡ã€‚è¿™ä¸ªå°åŠŸèƒ½ï¼Œè¯¥å¦‚ä½•å®ç°ï¼Ÿï¼ˆå»ºè®®ä½†ä¸å±€é™äºpythonå’ŒAppleScriptã€‚ï¼‰</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Toll-free bridging]]></title>
      <url>http://www.calios.gq/2016/02/29/Toll-Free%20bridging/</url>
      <content type="html"><![CDATA[<blockquote>
<p>æ‰€è°“çš„Toll-free bridgingæ˜¯è¯´å¯ä»¥åœ¨æŸä¸ªæ¡†æ¶çš„æ–¹æ³•æˆ–å‡½æ•°åŒæ—¶ä½¿ç”¨Core Foundatioå’ŒFoundation æ¡†æ¶ä¸­çš„æŸäº›ç±»å‹ã€‚å¾ˆå¤šæ•°æ®ç±»å‹æ”¯æŒè¿™ä¸€ç‰¹æ€§ï¼Œå…¶ä¸­åŒ…æ‹¬ç¾¤ä½“å’Œå­—ç¬¦ä¸²æ•°æ®ç±»å‹ã€‚æ¯ä¸ªæ¡†æ¶çš„ç±»å’Œç±»å‹æè¿°éƒ½ä¼šå¯¹æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸º toll-Free bridgedï¼Œåº”å’Œä»€ä¹ˆå¯¹è±¡æ¡¥æ¥è¿›è¡Œè¯´æ˜ã€‚<br>ç±»å‹è½¬æ¢å…³é”®å­—åŒºåˆ«ï¼š</p>
<ul>
<li>__bridge ï¼ˆç›¸å½“äºassignï¼Œè¿˜æ˜¯è¦è‡ªå·±ç®¡ç†å¯¹è±¡ï¼‰</li>
<li>__bridge_transferï¼ˆç›¸å½“äºcopyåreleaseï¼Œè½¬è®©äº†è‡ªå·±å¯¹å¯¹è±¡çš„æ‰€æœ‰æƒäº¤ç»™åˆ«äººå»ç®¡ç†ï¼‰</li>
<li>__bridge_retainedï¼ˆç›¸å½“äºretainï¼Œå¢åŠ é¢å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼‰  </li>
</ul>
<p>åŒæ—¶ä¹Ÿè¦æ³¨æ„åœ¨æ²¡æœ‰ARCå’Œxcode4.2ååŠ å…¥ARCçš„ä½¿ç”¨æ—¶çš„åŒºåˆ«</p>
</blockquote>
<p>æ›´å¤šå†…å®¹è§Lancyçš„<a href="http://gracelancy.com/blog/2014/04/21/toll-free-bridging/" title="http://gracelancy.com/blog/2014/04/21/toll-free-bridging/" target="_blank" rel="external">è¿™ç¯‡è®²è§£</a>å’Œè‹¹æœçš„æ–‡æ¡£<a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/CocoaEncyclopedia/Toll-FreeBridgin/Toll-FreeBridgin.html" title="https://developer.apple.com/library/ios/documentation/General/Conceptual/CocoaEncyclopedia/Toll-FreeBridgin/Toll-FreeBridgin.html" target="_blank" rel="external">Toll-Free Bridging</a>ã€‚</p>
<hr>
<p><strong> Ref:</strong></p>
<ul>
<li><a href="http://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="external">http://blog.ibireme.com/2015/05/18/runloop/</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html" target="_blank" rel="external">https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html</a></li>
<li><a href="http://chun.tips/blog/2014/10/20/zou-jin-run-loopde-shi-jie-[?]-:shi-yao-shi-run-loop?/" target="_blank" rel="external">http://chun.tips/blog/2014/10/20/zou-jin-run-loopde-shi-jie-%5B%3F%5D-:shi-yao-shi-run-loop%3F/</a></li>
<li>Toll-free bridgedï¼š<a href="http://gracelancy.com/blog/2014/04/21/toll-free-bridging/" target="_blank" rel="external">http://gracelancy.com/blog/2014/04/21/toll-free-bridging/</a></li>
<li>è°ƒç”¨æ ˆï¼š<a href="http://blog.chinaunix.net/uid-20760757-id-1872359.html" target="_blank" rel="external">http://blog.chinaunix.net/uid-20760757-id-1872359.html</a></li>
<li>RunLoopæºä»£ç ï¼š<a href="http://opensource.apple.com/source/CF/CF-855.17/CFRunLoop.c" target="_blank" rel="external">http://opensource.apple.com/source/CF/CF-855.17/CFRunLoop.c</a></li>
<li><a href="http://blog.cnbluebox.com/blog/2014/07/01/cocoashen-ru-xue-xi-nsoperationqueuehe-nsoperationyuan-li-he-shi-yong/" target="_blank" rel="external">http://blog.cnbluebox.com/blog/2014/07/01/cocoashen-ru-xue-xi-nsoperationqueuehe-nsoperationyuan-li-he-shi-yong/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CoreAnimationçš„å‡ ä¸ªçŸ¥è¯†ç‚¹]]></title>
      <url>http://www.calios.gq/2016/02/29/CoreAnimation%E7%9A%84%E5%87%A0%E4%B8%AA%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
      <content type="html"><![CDATA[<ul>
<li><strong>çŸ¢é‡å›¾ vs ä½å›¾ï¼ˆæ …æ ¼å›¾ï¼‰</strong></li>
</ul>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/a/ac/VectorGraphicsExample.jpg" alt="ï¼ˆaï¼‰åŸå§‹çŸ¢é‡å›¾ï¼›ï¼ˆbï¼‰çŸ¢é‡å›¾æ”¾å¤§8å€ï¼›ï¼ˆcï¼‰ä½å›¾æ”¾å¤§8å€ã€‚ä½å›¾çš„æ”¾å¤§è´¨é‡è¾ƒå·®ï¼Œä½†æ˜¯çŸ¢é‡å›¾å¯ä»¥ä¸é™ä½è´¨é‡åœ°æ— é™æ”¾å¤§ã€‚" title="çŸ¢é‡å›¾å’Œä½å›¾æ˜¾ç¤ºæ•ˆæœå¯¹æ¯”"></p>
<p><strong>çŸ¢é‡å›¾ï¼ˆvectorï¼‰</strong>ï¼Œä¹Ÿå«å‘é‡å›¾ï¼Œæ˜¯é€šè¿‡å¤šä¸ªå¯¹è±¡ç»„åˆç”Ÿæˆçš„ï¼Œå¯¹äºå…¶ä¸­æ¯ä¸€ä¸ªå¯¹è±¡çš„è®°å½•æ–¹å¼éƒ½æ˜¯ä»¥æ•°å­¦å‡½æ•°æ¥å®ç°çš„ï¼Œç¼©æ”¾ä¸å¤±çœŸã€‚å¸¸ç”¨çš„çŸ¢é‡ç»˜åˆ¶è½¯ä»¶æœ‰Adobe Illustratorã€Freehandã€Flashç­‰ã€‚<br><strong>ä½å›¾ï¼ˆbitmapï¼‰</strong>ï¼Œä¹Ÿå«æ …æ ¼å›¾ã€åƒç´ å›¾ï¼Œå³æœ€å°å•ä½ç”±åƒç´ æ„æˆçš„å›¾ï¼Œå¯æ“ä½œå¯¹è±¡æ˜¯åƒç´ ï¼Œå¯ä»¥æ”¹å˜å›¾åƒçš„é¥±å’Œåº¦ã€æ˜åº¦å’Œè‰²ç›¸ï¼Œç¼©æ”¾ä¼šå¤±çœŸã€‚å¸¸ç”¨çš„ä½å›¾ç»˜åˆ¶è½¯ä»¶æœ‰Adobe Photoshopç­‰ã€‚</p>
<ul>
<li>å¯¹äº<code>position</code>å’Œ<code>anchorPoint</code>å…³ç³»çš„ç†è§£<blockquote>
<p>Point-based coordinates are used when specifying values that map directly to screen coordinates or must be specified relative to another layer, such as for the layerâ€™s position property. Unit coordinates are used when the value should not be tied to screen coordinates because it is relative to some other value. For example, the layerâ€™s anchorPoint property specifies a point relative to the bounds of the layer itself, which can change. (<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/CoreAnimationBasics/CoreAnimationBasics.html#//apple_ref/doc/uid/TP40004514-CH2-SW15" target="_blank" rel="external">Core Animation Programming Guide</a>)</p>
</blockquote>
</li>
</ul>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒanchorPointæ˜¯ä¸€ä¸ªç‚¹ç›¸å¯¹äºlayeræœ¬èº«çš„boundsè€Œè¨€çš„å•å…ƒåæ ‡ï¼Œå®ƒå¯ä»¥æ”¹å˜ï¼›è€Œpositionæ˜¯layerç›¸å¯¹superLayeråæ ‡ç©ºé—´çš„ä½ç½®ã€‚</p>
<p>ä»¥æ¡Œå­ä¸ç™½çº¸ä¸ºä¾‹ï¼Œå¦‚æœå›ºå®šå›¾é’‰åœ¨æ¡Œä¸Šçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯positonä¸å˜ï¼Œè¿™ä¸ªæ—¶å€™å›¾é’‰å¤„åœ¨ç™½çº¸çš„ä¸åŒåœ°æ–¹å°±æ˜¯ä¸åŒçš„anchorPointï¼Œç›¸åº”åœ°ä¹Ÿå°±æ˜¯ä¸åŒçš„frameã€‚<br>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœå›ºå®šå›¾é’‰åœ¨ç™½çº¸ä¸Šçš„ä½ç½®ï¼ˆæ²¡è®¢åœ¨æ¡Œå­ä¸Šï¼‰ï¼Œä¸ç®¡æ€ä¹ˆå¹³ç§»ç™½çº¸ï¼ŒanchorPointè‚¯å®šæ˜¯ä¸å˜çš„ï¼Œä½†frameè‚¯å®šæ˜¯éšä¹‹å˜åŒ–çš„</p>
<ul>
<li><code>useEvenOddFillRule</code></li>
</ul>
<p>åœ¨çœ‹<a href="https://github.com/kishikawakatsumi/UCZProgressView" target="_blank" rel="external">UCZProgressView</a>çš„ä»£ç æ—¶å‘ç°äº†è¿™ä¹ˆä¸€ä¸ª<code>UIBezierPath</code>çš„å±æ€§ï¼Œè€Œçœ‹èµ·æ¥<code>CAShapeLayer</code>ä¹Ÿæœ‰ç±»ä¼¼çš„å±æ€§ï¼Œå«<code>fillRule</code>ï¼Œå¯ä»¥è®¾ç½®ä¸º<code>kCAFillRuleEvenOdd</code>æˆ–<code>kCAFillRuleNonZero</code>ã€‚é‚£è¿™ä¸ªå±æ€§åˆ°åº•æ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿ<br>è§£é‡Šæ¯”è¾ƒæ¸…æ¥šçš„æ˜¯ä¸€ç¯‡å…³äºSVGè§„èŒƒçš„æ–‡ç« ï¼Œå¥½åœ¨æœ€åŸºæœ¬çš„ç†è®ºéƒ½æ˜¯ç›¸é€šçš„ã€‚</p>
<blockquote>
<p> â€˜fill-ruleâ€™ å±æ€§ç”¨äºæŒ‡å®šä½¿ç”¨å“ªä¸€ç§ç®—æ³•å»åˆ¤æ–­ç”»å¸ƒä¸Šçš„æŸåŒºåŸŸæ˜¯å¦å±äºè¯¥å›¾å½¢â€œå†…éƒ¨â€ ï¼ˆå†…éƒ¨åŒºåŸŸå°†è¢«å¡«å……ï¼‰ã€‚å¯¹ä¸€ä¸ªç®€å•çš„æ— äº¤å‰çš„è·¯å¾„ï¼Œå“ªå—åŒºåŸŸæ˜¯â€œå†…éƒ¨â€ æ˜¯å¾ˆç›´è§‚æ¸…é™¤çš„ã€‚ä½†æ˜¯ï¼Œå¯¹ä¸€ä¸ªå¤æ‚çš„è·¯å¾„ï¼Œæ¯”å¦‚è‡ªç›¸äº¤æˆ–è€…ä¸€ä¸ªå­è·¯å¾„åŒ…å›´å¦ä¸€ä¸ªå­è·¯å¾„ï¼Œâ€œå†…éƒ¨â€çš„ç†è§£å°±ä¸é‚£ä¹ˆæ˜ç¡®äº†ã€‚<br><strong>nonzero</strong><br>å­—é¢æ„æ€æ˜¯â€œéé›¶â€ã€‚æŒ‰è¯¥è§„åˆ™ï¼Œè¦åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨å›¾å½¢å†…ï¼Œä»è¯¥ç‚¹ä½œä»»æ„æ–¹å‘çš„ä¸€æ¡å°„çº¿ï¼Œç„¶åæ£€æµ‹å°„çº¿ä¸å›¾å½¢è·¯å¾„çš„äº¤ç‚¹æƒ…å†µã€‚ä»0å¼€å§‹è®¡æ•°ï¼Œè·¯å¾„ä»å·¦å‘å³ç©¿è¿‡å°„çº¿åˆ™è®¡æ•°åŠ 1ï¼Œä»å³å‘å·¦ç©¿è¿‡å°„çº¿åˆ™è®¡æ•°å‡1ã€‚å¾—å‡ºè®¡æ•°ç»“æœåï¼Œå¦‚æœç»“æœæ˜¯0ï¼Œåˆ™è®¤ä¸ºç‚¹åœ¨å›¾å½¢å¤–éƒ¨ï¼Œå¦åˆ™è®¤ä¸ºåœ¨å†…éƒ¨ã€‚ä¸‹å›¾æ¼”ç¤ºäº†nonzeroè§„åˆ™:<br><img src="https://www.w3.org/TR/SVG/images/painting/fillrule-nonzero.png" alt=""><br><strong>evenodd</strong><br>å­—é¢æ„æ€æ˜¯â€œå¥‡å¶â€ã€‚æŒ‰è¯¥è§„åˆ™ï¼Œè¦åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨å›¾å½¢å†…ï¼Œä»è¯¥ç‚¹ä½œä»»æ„æ–¹å‘çš„ä¸€æ¡å°„çº¿ï¼Œç„¶åæ£€æµ‹å°„çº¿ä¸å›¾å½¢è·¯å¾„çš„äº¤ç‚¹çš„æ•°é‡ã€‚å¦‚æœç»“æœæ˜¯å¥‡æ•°åˆ™è®¤ä¸ºç‚¹åœ¨å†…éƒ¨ï¼Œæ˜¯å¶æ•°åˆ™è®¤ä¸ºç‚¹åœ¨å¤–éƒ¨ã€‚ä¸‹å›¾æ¼”ç¤ºäº†evenodd è§„åˆ™:<br><img src="http://www.w3.org/TR/SVG/images/painting/fillrule-evenodd.png" alt=""></p>
</blockquote>
<p>åˆæƒ³åˆ°äº†ä¹‹å‰åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å®ç°çš„ä¸­é—´æœ‰æ´çš„çŸ©å½¢viewï¼Œç¿»æ¥ç…ä¸€çœ¼ã€‚</p>
<pre><code>CAShapeLayer *maskWithHole = [CAShapeLayer layer];

// Both frames are defined in the same coordinate system
CGRect biggerRect = CGRectMake(30, 50, 120, 200);
CGRect smallerRect = CGRectMake(80, 100, 50, 80);

UIBezierPath *maskPath = [UIBezierPath bezierPath];
[maskPath moveToPoint:CGPointMake(CGRectGetMinX(biggerRect), CGRectGetMinY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(biggerRect), CGRectGetMaxY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(biggerRect), CGRectGetMaxY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(biggerRect), CGRectGetMinY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(biggerRect), CGRectGetMinY(biggerRect))];

[maskPath moveToPoint:CGPointMake(CGRectGetMinX(smallerRect), CGRectGetMinY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(smallerRect), CGRectGetMaxY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(smallerRect), CGRectGetMaxY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(smallerRect), CGRectGetMinY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(smallerRect), CGRectGetMinY(smallerRect))];

[maskWithHole setPath:[maskPath CGPath]];
**[maskWithHole setFillRule:kCAFillRuleEvenOdd];**
[maskWithHole setFillColor:[[UIColor orangeColor] CGColor]];
</code></pre><p>æ‰€ä»¥ï¼Œä¸ºäº†â€œæœ‰æ´â€ï¼Œæœ€é‡è¦çš„æ˜¯è¿™ä¸€è¡Œ<code>[maskWithHole setFillRule:kCAFillRuleEvenOdd];</code>ã€‚å¦‚æœè®¾ç½®æˆ<code>kCAFillRuleNonZero</code>ï¼ˆå¥½å§ï¼Œè¿™ä¸ªå€¼æ˜¯é»˜è®¤å€¼ï¼‰ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªè´§çœŸä»·å®çš„å®å¿ƒçŸ©å½¢ã€‚å½“æ—¶æ²¡æœ‰æ„è¯†åˆ°è¿™å¥è¯çš„ä½œç”¨ï¼Œç°åœ¨ç»ˆäºæ˜äº†äº†ã€‚</p>
<hr>
<p><strong> Ref: </strong></p>
<ul>
<li>Core Animation Programming Guide:<br><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/CoreAnimationBasics/CoreAnimationBasics.html#//apple_ref/doc/uid/TP40004514-CH2-SW15" target="_blank" rel="external">https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CoreAnimation_guide/CoreAnimationBasics/CoreAnimationBasics.html#//apple_ref/doc/uid/TP40004514-CH2-SW15</a></li>
<li><a href="http://stackoverflow.com/questions/10856353/crop-a-cashapelayer-retrieving-the-external-path" target="_blank" rel="external">http://stackoverflow.com/questions/10856353/crop-a-cashapelayer-retrieving-the-external-path</a></li>
<li><a href="http://blog.csdn.net/cuixiping/article/details/7848369" target="_blank" rel="external">http://blog.csdn.net/cuixiping/article/details/7848369</a></li>
<li><a href="http://stackoverflow.com/questions/14840563/how-does-usesevenoddfillrule-work" target="_blank" rel="external">http://stackoverflow.com/questions/14840563/how-does-usesevenoddfillrule-work</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[UIImageWriteToSavedPhotosAlbumä¿å­˜å›¾ç‰‡åˆ°ç³»ç»Ÿç›¸å†Œ]]></title>
      <url>http://www.calios.gq/2016/02/25/UIImageWriteToSavedPhotosAlbum%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87%E5%88%B0%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C/</url>
      <content type="html"><![CDATA[<p>ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•æ¥å°†æŒ‡å®šå›¾ç‰‡æ·»åŠ åˆ°ç”¨æˆ·çš„ç›¸å†Œã€‚</p>
<pre><code>void UIImageWriteToSavedPhotosAlbum ( 
                        UIImage *image, 
                        id completionTarget, 
                        SEL completionSelector,
                    void *contextInfo 
);
</code></pre><p>imageï¼šè¦å†™å…¥ç›¸å†Œçš„å›¾ç‰‡ï¼›<br>completionTargetï¼šå¯é€‰é¡¹ï¼Œä¿å­˜å®Œæˆåï¼Œå›è°ƒæ–¹æ³•æ‰€åœ¨çš„å¯¹è±¡ï¼›<br>completionSelectorï¼šè¦è°ƒç”¨çš„<code>completionTarget</code>çš„å›è°ƒæ–¹æ³•ã€‚è¿™ä¸ªå¯é€‰æ–¹æ³•åº”è¯¥éµä»å¦‚ä¸‹æ ¼å¼ï¼š</p>
<pre><code>-(void)                image: (UIImage *) image
    didFinishSavingWithError: (NSError *) error
                 contextInfo: (void *) contextInfo;
</code></pre><p>contextInfoï¼šå¯é€‰çš„å‚æ•°ï¼Œä¿å­˜äº†ä¸€ä¸ªæŒ‡å‘contextæ•°æ®çš„æŒ‡é’ˆï¼Œå®ƒå°†ä¼ é€’ç»™å›è°ƒæ–¹æ³•ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>    UIImage *img = [UIImage imageNamed:@&quot;test.png&quot;];
UIImageWriteToSavedPhotosAlbum(img, self, @selector(image:didFinishSavingWithError:contextInfo:), nil);
</code></pre><p>å›è°ƒæ–¹æ³•é•¿è¿™æ ·ï¼š</p>
<pre><code>- (void)image:(UIImage *)image
    didFinishSavingWithError:(NSError *)error 
                 contextInfo:(void *)contextInfo
{
    // Was there an error?
    if (error != NULL)
    {
      // Show error message...

    }
    else  // No errors
    {
      // Show message image successfully saved
    }
}
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-9ï¼šå¿ƒæ€]]></title>
      <url>http://www.calios.gq/2016/02/24/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-9%EF%BC%9A%E5%BF%83%E6%80%81/</url>
      <content type="html"><![CDATA[<p><strong>é¢˜å¤–è¯ï¼š</strong></p>
<p>è·ç¦»<a href="http://www.calios.gq/2016/01/21/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-8%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/" title="http://www.calios.gq/2016/01/21/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-8%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/">ä¸Šä¸€ç¯‡</a>å·²ç»ä¸€ä¸ªæœˆäº†ï¼Œç»ˆäºæŠ½å‡ºä¸€ç‚¹æ—¶é—´æ¥æŠŠæœ€åä¸€ç¯‡å®Œç»“ã€‚å™«ååš±ï¼</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/06/10/how_not_to_crash_9_mindset" target="_blank" rel="external">http://inessential.com/2015/06/10/how_not_to_crash_9_mindset</a></p>
<hr>
<p>ä½ çŸ¥é“å—ï¼Ÿè€è¯è¯´å¾—å¥½ï¼Œâ€œä¸è¦å†™åƒä½ ä¸€æ ·èªæ˜çš„ä»£ç ï¼Œå› ä¸ºéœ€è¦æ¯”ä½ <em> æ›´èªæ˜</em> çš„äººæ¥debugã€‚â€</p>
<p>æˆ‘è¿‡å»ä¸€ç›´è®¤ä¸ºè¿™æ„å‘³ç€æˆ‘åº”è¯¥å†™æœ‰æˆ‘80%èªæ˜çš„ä»£ç ã€‚ç•™ä¸€ç‚¹ç”¨æ¥debugã€‚</p>
<p>ä½†éšç€æ—¶é—´æ¨ç§»ï¼Œæˆ‘å¼€å§‹è§‰å¾—æˆ‘åº”è¯¥å†™æœ‰æˆ‘10%èªæ˜çš„ä»£ç ã€‚æˆ‘å¼€å§‹ç›¸ä¿¡ï¼ŒçœŸæ­£çš„èªæ˜æ˜¯è®©ä»£ç è¶³å¤Ÿç®€æ´æ˜äº†ã€ä»¥è‡³äºçœ‹èµ·æ¥æ¯«æ— ç‰¹å¾ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘æªå®ˆè¿™æ ·çš„è§„åˆ™ï¼š<a href="http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/">é™¤éåšå¯ä»¥å®Œå…¨ç‹¬ç«‹çš„äº‹æƒ…ï¼Œå¦åˆ™ä¸€åˆ‡äº‹æƒ…éƒ½æ”¾åœ¨ä¸»çº¿ç¨‹ä¸Šåš</a>ï¼›<a href="http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-6%EF%BC%9A%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AD%98%E5%8F%96%E5%99%A8/">å°½é‡é¿å…ä½¿ç”¨unsafe_unretained</a>ç­‰ç­‰ã€‚</p>
<p>è¿™æ„å‘³ç€æˆ‘ä¸ä¼šå› ä¸ºæˆä¸ºä¸€ä¸ªä»£ç é­”æœ¯æ‰‹è€Œè·å¾—é¢å¤–çš„åŠ åˆ†ã€‚æˆ‘ä¸ä¼šæŠŠå…”å­ä»å¸½å­é‡Œæ‹–å‡ºæ¥ï¼Œå½“ç„¶ä¹Ÿä¸ä¼šå»èµ°é’¢ä¸ã€‚æˆ‘ç”šè‡³éƒ½ä¸ä¼šå»<em>çœ‹</em>é’¢ä¸ã€‚</p>
<p>å¦‚æœéœ€è¦ï¼Œæˆ‘ä¼šå»åšå›°éš¾çš„äº‹æƒ…ï¼Œä½†æ˜¯å³ä½¿æ˜¯å›°éš¾çš„äº‹æƒ…ï¼Œæœ€ç»ˆçš„ç›®çš„ä¹Ÿæ˜¯å°½æˆ‘æ‰€èƒ½åœ°å†™å‡ºç®€æ´è€Œå¯è¯»æ€§å¾ˆé«˜çš„ä»£ç ã€‚å¦‚æœæœ€åä»£ç çœ‹èµ·æ¥å¾ˆç®€å• â€”â€” ç»™äººå°è±¡ä¸æ·±ï¼Œç”šè‡³å¥½åƒä¸€ä¸ªåˆä¸­ç”Ÿéƒ½èƒ½å†™å‡ºæ¥ â€”â€” é‚£è¯´æ˜ä»£ç <em>ä¸é”™</em>ã€‚</p>
<p>å¾€å°äº†è¯´ï¼Œè¿™æ„å‘³ç€å‡½æ•°éƒ½å¾ˆçŸ­å°ï¼Œè¾ƒå°‘ä½¿ç”¨åµŒå¥—ã€‚å¾€å¤§äº†è¯´ï¼Œæ¶æ„å’Œå‘½åé™¤éè¿«ä¸å¾—å·²ï¼Œå¦åˆ™ä¸ä¼šè¢«è¿­ä»£ï¼Œå°±å¥½åƒå®ƒæ²¡æœ‰åšä»€ä¹ˆè€ƒè™‘ä¸€æ ·ï¼Œå› ä¸ºéƒ½å·²ç»è¶³å¤Ÿæ˜æ˜¾äº†ã€‚</p>
<p>è¿™æ„å‘³ç€ä¸ä¼šè¿‡åº¦æŠ½è±¡ã€‚ç²¾ç¡®æ„å‘³ç€æ˜¾è€Œæ˜“è§ã€‚ä½†ä¹Ÿæ„å‘³ç€ä¸ä¼šå¤ªè¿‡æ¦‚åŒ– â€”â€” çš„ç¡®æœ‰æ—¶å€™ä¸¤ä¸‰ä»¶äº‹å…¶å®æ˜¯åŒä¸€ä»¶äº‹ï¼Œè¿™æ—¶å®ƒä»¬å¯ä»¥åœ¨ä¸å½±å“å¯ç»´æŠ¤æ€§çš„å‰æä¸‹æ¦‚æ‹¬èµ·æ¥ã€‚ï¼ˆå½“ç„¶ï¼Œæœ‰æ—¶å€™ä¸èƒ½è¿™ä¹ˆåšã€‚ï¼‰</p>
<p>æˆ‘é¿å…ç´§è¿æ¥å’Œåºå¤§çš„æ¶æ„ â€”â€” é™¤éæ˜¯æœ€ä¼˜æ–¹æ¡ˆçš„ç¡®æ˜¯è®©xçŸ¥é“yã€‚</p>
<p>æˆ‘åšæŒå­¦ä¹ ï¼Œè®©è‡ªå·±æ—¥æ¸æˆé•¿ã€‚</p>
<h4 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h4><p>ç¼–ç¨‹å’Œç»˜ç”»ã€å†™ä½œã€å»ºç­‘ã€è°±æ›²çš„åŒºåˆ«åœ¨äºï¼Œå®ƒæ²¡æœ‰å®Œç»“çš„äº§å“ã€‚æ˜¯çš„ï¼Œæœ‰å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œä½†æ˜¯æ²¡æœ‰ç»“æŸï¼Œåªæœ‰æ”¾å¼ƒã€‚</p>
<p>ä»£ç å­˜åœ¨äºæ—¶é—´ä¸­ï¼Œå¯èƒ½ä¹Ÿä¼šç»æ‰‹å¾ˆå¤šäºº â€”â€” ä½ æ·±çŸ¥ä¸çŸ¥é“ä¼šæœ‰å¤šä¹…æˆ–è€…ä¼šæœ‰è°ã€‚ä½ æ°¸è¿œä¸è¯¥å¿˜äº†è¿™ä¸€ç‚¹ã€‚</p>
<h4 id="æŠ«è‚©ï¼Œé¢å…·"><a href="#æŠ«è‚©ï¼Œé¢å…·" class="headerlink" title="æŠ«è‚©ï¼Œé¢å…·"></a>æŠ«è‚©ï¼Œé¢å…·</h4><p>åœ¨æˆ‘å¹´è½»çš„æ—¶å€™ï¼Œæˆ‘æƒ³æˆä¸ºä¸€ä¸ªä»£ç é­”æœ¯æ‰‹ â€”â€” æˆ–è€…è¯´ï¼ŒçœŸæ­£çš„<em>è‹±é›„</em>ã€‚ä½†æˆ‘é€æ¸è®¤è¯†åˆ°ï¼Œ<em>è½¯ä»¶çš„å®é™…è´¨é‡è¦æ¯”æˆ‘æœŸæœ›åˆ«äººæ€ä¹ˆçœ‹æˆ‘é‡è¦å¾—å¤š</em>ã€‚</p>
<p>æ›´è¿›ä¸€æ­¥è¯´ï¼Œè´¨é‡æ˜¯ä¸€ç§è¿‘ä¹ç²¾ç¥ä¸Šçš„å¥–åŠ±ã€‚å®ƒæ˜¯ä¸€ç§ä¸ºé‡äºè‡ªæˆ‘çš„äº‹æƒ…å¥‰çŒ®çš„è¡Œä¸ºï¼Œæ—¢è‡ªç§åˆæ— ç§ã€‚</p>
<p>è‡ªç§ï¼Œæ˜¯å› ä¸ºä¸ºäº†è´¨é‡å¥‹æ–—çš„è¿‡ç¨‹è®©ä½ æ—¥æ¸æˆé•¿ã€‚è€Œæ— ç§ï¼Œæ˜¯å› ä¸ºæ›´å¥½çš„ä»£ç ã€æ›´å¥½çš„è½¯ä»¶å¯¹å…¶ä»–äººæ›´æœ‰ç›Šã€‚</p>
<p>å½“å…¶ä»–äººå¯¹ä½ çš„è½¯ä»¶æœ‰æ‰€è¦æ±‚ï¼Œé¦–è¦çš„å°±æ˜¯å¦‚æœä»–ä»¬å¯åŠ¨äº†å®ƒï¼Œå®ƒæ˜¯å¦èƒ½<em>ä¿æŒç€</em>å¯åŠ¨çš„çŠ¶æ€ã€‚ä»»ä½•ä¸èƒ½å¯¹æ­¤é—®é¢˜è¶³å¤Ÿé‡è§†çš„ç¨‹åºå‘˜ â€”â€” æˆ–æ˜¯é‚£äº›æ€»æ˜¯å°†å´©æºƒç²‰é¥°æˆç”Ÿæ´»å¸¸æ€çš„äºº â€”â€” æˆ‘ä»¬å¯ä»¥ä¼˜å…ˆå……åˆ†åœ°äº«å—å…¶ä¸­çš„å·¨å¤§ä¹è¶£ï¼Œè€Œè¿™äº›äººæ— æ³•ä½“ä¼šã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¦‚ä½•ç¿»è½¬NSArray]]></title>
      <url>http://www.calios.gq/2016/02/22/%E5%A6%82%E4%BD%95%E7%BF%BB%E8%BD%ACNSArray/</url>
      <content type="html"><![CDATA[<p>å…¶å®<code>NSArray</code>ä¸­æä¾›äº†ç°æˆçš„<code>-reverseObjectEnumerator</code>æ–¹æ³•ã€‚</p>
<pre><code>NSArray *startArray = @[@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;4&quot;];
NSArray* reversedArray = [[startArray reverseObjectEnumerator] allObjects];
NSLog(@&quot;---- %@&quot;,reversedArray);
</code></pre><p>æ§åˆ¶å°æ‰“å°å‡ºæ¥çš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code>2016-02-22 14:13:23.539 Demo[1158:258529] ---- (
    4,
    3,
    2,
    1
)
</code></pre><hr>
<p><strong> Ref: </strong></p>
<p><a href="http://stackoverflow.com/a/586529/1594792" target="_blank" rel="external">http://stackoverflow.com/a/586529/1594792</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSå¼€å‘å¤šçº¿ç¨‹å­¦ä¹ ç¬”è®°-1]]></title>
      <url>http://www.calios.gq/2016/02/19/iOS%E5%BC%80%E5%8F%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1/</url>
      <content type="html"><![CDATA[<h3 id="çº¿ç¨‹åŸºç¡€"><a href="#çº¿ç¨‹åŸºç¡€" class="headerlink" title="çº¿ç¨‹åŸºç¡€"></a>çº¿ç¨‹åŸºç¡€</h3><h5 id="1-ä¸»çº¿ç¨‹"><a href="#1-ä¸»çº¿ç¨‹" class="headerlink" title="1.ä¸»çº¿ç¨‹"></a>1.ä¸»çº¿ç¨‹</h5><p>ä¸€ä¸ªiOSç¨‹åºè¿è¡Œåï¼Œé»˜è®¤ä¼šå¼€å¯1æ¡çº¿ç¨‹ï¼Œç§°ä¸ºâ€œä¸»çº¿ç¨‹â€æˆ–â€œUIçº¿ç¨‹â€<br>ä¸»çº¿ç¨‹çš„ä¸»è¦ä½œç”¨ï¼š</p>
<ul>
<li>æ˜¾ç¤º/åˆ·æ–°UIç•Œé¢</li>
<li>å¤„ç†UIäº‹ä»¶ï¼ˆæ¯”å¦‚ç‚¹å‡»äº‹ä»¶ã€æ»šåŠ¨äº‹ä»¶ã€æ‹–æ‹½äº‹ä»¶ç­‰ï¼‰</li>
</ul>
<h5 id="2-åˆ›å»ºçº¿ç¨‹"><a href="#2-åˆ›å»ºçº¿ç¨‹" class="headerlink" title="2.åˆ›å»ºçº¿ç¨‹"></a>2.åˆ›å»ºçº¿ç¨‹</h5><pre><code>// 1.Create a thread.
// 1-1. Normal initialize.
    NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(run:) object:@&quot;1-1. Normal initialize.&quot;];
    thread.name = @&quot;Thread A&quot;;
// 1-2. Auto-start after created.
    [NSThread detachNewThreadSelector:@selector(run:) toTarget:self withObject:@&quot;1-2. Auto-start after created.&quot;];
// 1-3. Invisibly create and start thread.
    [self performSelectorInBackground:@selector(run:) withObject:@&quot;1-3. Invisibly create and start thread.&quot;];
// 1-2 &amp; 1-3: easy and handy, but cannot add more detail configuration.
</code></pre><h5 id="3-å¼€å¯çº¿ç¨‹"><a href="#3-å¼€å¯çº¿ç¨‹" class="headerlink" title="3.å¼€å¯çº¿ç¨‹"></a>3.å¼€å¯çº¿ç¨‹</h5><pre><code>// Once started, method `run` will be executed in thread above.
  [thread start];
</code></pre><h5 id="4-çº¿ç¨‹çš„æ­»äº¡"><a href="#4-çº¿ç¨‹çš„æ­»äº¡" class="headerlink" title="4.çº¿ç¨‹çš„æ­»äº¡"></a>4.çº¿ç¨‹çš„æ­»äº¡</h5><p>å½“çº¿ç¨‹çš„ä»»åŠ¡ç»“æŸï¼Œå‘ç”Ÿå¼‚å¸¸ï¼Œæˆ–è€…æ˜¯å¼ºåˆ¶é€€å‡ºè¿™ä¸‰ç§æƒ…å†µä¼šå¯¼è‡´çº¿ç¨‹çš„æ­»äº¡ã€‚<br>çº¿ç¨‹æ­»äº¡åï¼Œçº¿ç¨‹å¯¹è±¡ä»å†…å­˜ä¸­ç§»é™¤ã€‚</p>
<h5 id="5-è§£å†³å¤šçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºçš„é—®é¢˜ï¼šäº’æ–¥é”"><a href="#5-è§£å†³å¤šçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºçš„é—®é¢˜ï¼šäº’æ–¥é”" class="headerlink" title="5.è§£å†³å¤šçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºçš„é—®é¢˜ï¼šäº’æ–¥é”"></a>5.è§£å†³å¤šçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºçš„é—®é¢˜ï¼šäº’æ–¥é”</h5><pre><code>@synchronized(é”å¯¹è±¡) { // éœ€è¦é”å®šçš„ä»£ç   }
</code></pre><p><strong> æ³¨æ„ï¼š</strong></p>
<ul>
<li>é”å®š1ä»½ä»£ç åªç”¨1æŠŠé”ï¼Œç”¨å¤šæŠŠé”æ˜¯æ— æ•ˆçš„ã€‚</li>
<li>äº’æ–¥é”ï¼Œå°±æ˜¯ä½¿ç”¨äº†çº¿ç¨‹åŒæ­¥æŠ€æœ¯ã€‚</li>
<li>äº’æ–¥é”çš„ç¼ºç‚¹æ˜¯éœ€è¦æ¶ˆè€—å¤§é‡CPUèµ„æºã€‚</li>
</ul>
<h5 id="6-åŸå­å’ŒéåŸå­å±æ€§"><a href="#6-åŸå­å’ŒéåŸå­å±æ€§" class="headerlink" title="6.åŸå­å’ŒéåŸå­å±æ€§"></a>6.åŸå­å’ŒéåŸå­å±æ€§</h5><p>OCåœ¨å®šä¹‰å±æ€§æ—¶æœ‰nonatomicå’Œatomicä¸¤ç§é€‰æ‹©ï¼š</p>
<ul>
<li>atomicï¼šåŸå­å±æ€§ï¼Œä¸ºsetteræ–¹æ³•åŠ é”ï¼ˆé»˜è®¤å°±æ˜¯atomicï¼‰ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œéœ€è¦æ¶ˆè€—å¤§é‡çš„èµ„æºï¼›</li>
<li>nonatomicï¼šéåŸå­å±æ€§ï¼Œä¸ä¼šä¸ºsetteræ–¹æ³•åŠ é”ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œé€‚åˆå†…å­˜å°çš„ç§»åŠ¨è®¾å¤‡ã€‚</li>
</ul>
<h5 id="7-çº¿ç¨‹é—´é€šä¿¡å¸¸ç”¨æ–¹æ³•"><a href="#7-çº¿ç¨‹é—´é€šä¿¡å¸¸ç”¨æ–¹æ³•" class="headerlink" title="7.çº¿ç¨‹é—´é€šä¿¡å¸¸ç”¨æ–¹æ³•"></a>7.çº¿ç¨‹é—´é€šä¿¡å¸¸ç”¨æ–¹æ³•</h5><pre><code>- (void)performSelectorOnMainThread:(SEL)aSelector withObject:(id)arg waitUntilDone:(BOOL)wait;
- (void)performSelector:(SEL)aSelector onThread:(NSThread *)thr withObject:(id)arg waitUntilDone:(BOOL)wait;
</code></pre><h5 id="8-å…³äºiOSå¼€å‘çš„å»ºè®®ï¼š"><a href="#8-å…³äºiOSå¼€å‘çš„å»ºè®®ï¼š" class="headerlink" title="8.å…³äºiOSå¼€å‘çš„å»ºè®®ï¼š"></a>8.å…³äºiOSå¼€å‘çš„å»ºè®®ï¼š</h5><ul>
<li>æ‰€æœ‰å±æ€§éƒ½å£°æ˜ä¸ºnonatomicï¼›</li>
<li>å°½é‡é¿å…å¤šçº¿ç¨‹æŠ¢å¤ºåŒä¸€å—èµ„æºï¼›</li>
<li>å°½é‡å°†åŠ é”ã€èµ„æºæŠ¢å¤ºçš„ä¸šåŠ¡é€»è¾‘äº¤ç»™æœåŠ¡å™¨ç«¯å¤„ç†ï¼Œå‡å°ç§»åŠ¨å®¢æˆ·ç«¯çš„å‹åŠ›ã€‚</li>
</ul>
<h3 id="GCD"><a href="#GCD" class="headerlink" title="GCD"></a>GCD</h3><h5 id="1-GCDç®€ä»‹ï¼š"><a href="#1-GCDç®€ä»‹ï¼š" class="headerlink" title="1.GCDç®€ä»‹ï¼š"></a>1.GCDç®€ä»‹ï¼š</h5><p>å³Grand Central Dispatchï¼Œçº¯Cè¯­è¨€ï¼Œæä¾›äº†éå¸¸å¤šå¼ºå¤§çš„å‡½æ•°ã€‚</p>
<h5 id="2-GCDçš„ä¼˜åŠ¿ï¼š"><a href="#2-GCDçš„ä¼˜åŠ¿ï¼š" class="headerlink" title="2.GCDçš„ä¼˜åŠ¿ï¼š"></a>2.GCDçš„ä¼˜åŠ¿ï¼š</h5><ul>
<li>GCDæ˜¯è‹¹æœå…¬å¸ä¸ºå¤šæ ¸çš„å¹¶è¡Œè¿ç®—æå‡ºçš„è§£å†³æ–¹æ¡ˆï¼›</li>
<li>GCDä¼šè‡ªåŠ¨åˆ©ç”¨æ›´å¤šçš„CPUå†…æ ¸ï¼ˆæ¯”å¦‚åŒæ ¸ã€å››æ ¸ï¼‰ï¼›</li>
<li>GCDä¼šè‡ªåŠ¨ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºçº¿ç¨‹ã€è°ƒåº¦ä»»åŠ¡ã€é”€æ¯çº¿ç¨‹ï¼‰ï¼›</li>
<li>ç¨‹åºå‘˜åªéœ€è¦å‘Šè¯‰GCDæƒ³è¦æ‰§è¡Œä»€ä¹ˆä»»åŠ¡ï¼Œä¸éœ€è¦ç¼–å†™ä»»ä½•çº¿ç¨‹ç®¡ç†ä»£ç ã€‚</li>
</ul>
<h5 id="3-æç¤ºï¼š"><a href="#3-æç¤ºï¼š" class="headerlink" title="3.æç¤ºï¼š"></a>3.æç¤ºï¼š</h5><ul>
<li>GCDå­˜åœ¨äºlibdispatch.dylibè¿™ä¸ªåº“ä¸­ï¼Œè¿™ä¸ªè°ƒåº¦åº“åŒ…å«äº†GCDçš„æ‰€æœ‰çš„ä¸œè¥¿ï¼Œä½†ä»»ä½•IOSç¨‹åºï¼Œé»˜è®¤å°±åŠ è½½äº†è¿™ä¸ªåº“ï¼Œåœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ä¼šåŠ¨æ€çš„åŠ è½½è¿™ä¸ªåº“ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¯¼å…¥ã€‚</li>
<li>GCDæ˜¯çº¯Cè¯­è¨€çš„ï¼Œæ‰€ä»¥ç›¸å…³çš„ä»£ç æ˜¯å‡½æ•°ï¼Œè€Œä¸æ˜¯æ–¹æ³•ã€‚æ–¹æ³•æ˜¯åŸºäºå¯¹è±¡çš„ï¼Œè€Œå‡½æ•°åˆ™ç‹¬ç«‹äºå¯¹è±¡ï¼ˆæ›´å¤šå‡½æ•° vs æ–¹æ³•çš„è®¨è®ºè§<a href="http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function" title="http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function" target="_blank" rel="external">è¿™é‡Œ</a>ï¼‰ã€‚</li>
<li>GCDä¸­çš„å‡½æ•°å¤§å¤šæ•°éƒ½ä»¥dispatchå¼€å¤´ã€‚</li>
<li>GCDçš„æ•°æ®ç±»å‹åœ¨ARCçš„ç¯å¢ƒä¸‹ä¸éœ€è¦å†åšreleaseã€‚</li>
<li>CFï¼ˆCore Foundationï¼‰çš„æ•°æ®ç±»å‹åœ¨ARCç¯å¢ƒä¸‹è¿˜æ˜¯éœ€è¦åšreleaseã€‚</li>
</ul>
<h5 id="4-ä»»åŠ¡å’Œé˜Ÿåˆ—"><a href="#4-ä»»åŠ¡å’Œé˜Ÿåˆ—" class="headerlink" title="4.ä»»åŠ¡å’Œé˜Ÿåˆ—"></a>4.ä»»åŠ¡å’Œé˜Ÿåˆ—</h5><ul>
<li><p>GCDä¸­æœ‰2ä¸ªæ ¸å¿ƒæ¦‚å¿µ<br>  ï¼ˆ1ï¼‰ä»»åŠ¡ï¼šæ‰§è¡Œä»€ä¹ˆæ“ä½œ<br>  ï¼ˆ2ï¼‰é˜Ÿåˆ—ï¼šç”¨æ¥å­˜æ”¾ä»»åŠ¡</p>
</li>
<li><p>GCDçš„ä½¿ç”¨å°±2ä¸ªæ­¥éª¤<br>  ï¼ˆ1ï¼‰å®šåˆ¶ä»»åŠ¡<br>  ï¼ˆ2ï¼‰ç¡®å®šæƒ³åšçš„äº‹æƒ…</p>
</li>
</ul>
<p>å°†ä»»åŠ¡æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼ŒGCDä¼šè‡ªåŠ¨å°†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å–å‡ºï¼Œæ”¾åˆ°å¯¹åº”çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚<br>æç¤ºï¼šä»»åŠ¡çš„å–å‡ºéµå¾ªé˜Ÿåˆ—çš„FIFOåŸåˆ™ï¼šå…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡ºã€‚</p>
<h5 id="5-æ‰§è¡Œä»»åŠ¡"><a href="#5-æ‰§è¡Œä»»åŠ¡" class="headerlink" title="5.æ‰§è¡Œä»»åŠ¡"></a>5.æ‰§è¡Œä»»åŠ¡</h5><p>å°†<code>block</code>ï¼ˆä»»åŠ¡ï¼‰äº¤ç»™<code>queue</code>ï¼ˆé˜Ÿåˆ—ï¼‰æ‰§è¡Œã€‚</p>
<p>åŒæ­¥ï¼š<code>dispatch_sync(dispatch_queue_t queue, dispatch_block_t block);</code><br>å¼‚æ­¥ï¼š<code>dispatch_async(dispatch_queue_t queue, dispatch_block_t block);</code></p>
<h5 id="6-é˜Ÿåˆ—"><a href="#6-é˜Ÿåˆ—" class="headerlink" title="6.é˜Ÿåˆ—"></a>6.é˜Ÿåˆ—</h5><p>GCDçš„é˜Ÿåˆ—åˆ†ä¸¤ç±»ï¼š</p>
<ul>
<li>å¹¶å‘é˜Ÿåˆ—ï¼ˆConcurrent Dispatch Queueï¼‰ï¼šä»…åœ¨å¼‚æ­¥å‡½æ•°ä¸‹æœ‰æ•ˆï¼›</li>
<li>ä¸²è¡Œé˜Ÿåˆ—ï¼ˆSerial Dispatch Queueï¼‰ã€‚</li>
</ul>
<p>åŒºåˆ†<strong>åŒæ­¥ã€å¼‚æ­¥ã€å¹¶å‘ã€ä¸²è¡Œ</strong>ï¼š</p>
<ul>
<li><p>åŒæ­¥å’Œå¼‚æ­¥å†³å®šäº†è¦ä¸è¦å¼€å¯æ–°çš„çº¿ç¨‹ï¼š</p>
<ul>
<li>åŒæ­¥ï¼šåœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œä»»åŠ¡ï¼Œä¸å…·å¤‡å¼€å¯æ–°çº¿ç¨‹çš„èƒ½åŠ›</li>
<li>å¼‚æ­¥ï¼šåœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œä»»åŠ¡ï¼Œå…·å¤‡å¼€å¯æ–°çº¿ç¨‹çš„èƒ½åŠ›</li>
</ul>
</li>
<li><p>å¹¶å‘å’Œä¸²è¡Œå†³å®šäº†ä»»åŠ¡çš„æ‰§è¡Œæ–¹å¼ï¼š</p>
<ul>
<li>å¹¶å‘ï¼šå¤šä¸ªä»»åŠ¡å¹¶å‘ï¼ˆåŒæ—¶ï¼‰æ‰§è¡Œ</li>
<li>ä¸²è¡Œï¼šä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œå†æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</li>
</ul>
</li>
</ul>
<h5 id="7-ä¸²è¡Œé˜Ÿåˆ—ï¼š"><a href="#7-ä¸²è¡Œé˜Ÿåˆ—ï¼š" class="headerlink" title="7.ä¸²è¡Œé˜Ÿåˆ—ï¼š"></a>7.ä¸²è¡Œé˜Ÿåˆ—ï¼š</h5><p>GCDä¸­è·å¾—ä¸²è¡Œæœ‰2ç§é€”å¾„ï¼š<br>ï¼ˆ1ï¼‰ä½¿ç”¨<code>dispatch_queue_create</code>å‡½æ•°åˆ›å»ºä¸²è¡Œé˜Ÿåˆ—</p>
<pre><code>dispatch_queue_t  dispatch_queue_create(const char *label,  dispatch_queue_attr_t attr); // é˜Ÿåˆ—åç§°ï¼Œ é˜Ÿåˆ—å±æ€§ï¼Œä¸€èˆ¬ç”¨NULLå³å¯
</code></pre><p>ç¤ºä¾‹ï¼š</p>
<pre><code>dispatch_queue_t queue = dispatch_queue_create(&quot;myTestQueue&quot;, NULL); // åˆ›å»º
dispatch_release(queue); // éARCéœ€è¦é‡Šæ”¾æ‰‹åŠ¨åˆ›å»ºçš„é˜Ÿåˆ—
</code></pre><p>ï¼ˆ2ï¼‰ä½¿ç”¨ä¸»é˜Ÿåˆ—ï¼ˆè·Ÿä¸»çº¿ç¨‹ç›¸å…³è”çš„é˜Ÿåˆ—ï¼‰</p>
<p>ä¸»é˜Ÿåˆ—æ˜¯GCDè‡ªå¸¦çš„ä¸€ç§ç‰¹æ®Šçš„ä¸²è¡Œé˜Ÿåˆ—,æ”¾åœ¨ä¸»é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œéƒ½ä¼šæ”¾åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ä½¿ç”¨<code>dispatch_get_main_queue()</code>è·å¾—ä¸»é˜Ÿåˆ—ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code>dispatch_queue_t queue = dispatch_get_main_queue();
</code></pre><p><strong> æ³¨ï¼š</strong></p>
<ul>
<li>å¦‚æœæŠŠä»»åŠ¡æ”¾åˆ°ä¸»é˜Ÿåˆ—ä¸­è¿›è¡Œå¤„ç†ï¼Œé‚£ä¹ˆä¸è®ºå¤„ç†å‡½æ•°æ˜¯å¼‚æ­¥çš„è¿˜æ˜¯åŒæ­¥çš„éƒ½ä¸ä¼šå¼€å¯æ–°çš„çº¿ç¨‹ã€‚</li>
<li>è¦ä½¿ç”¨å¼‚æ­¥å‡½æ•°ï¼å¦‚æœä½¿ç”¨åŒæ­¥å‡½æ•°ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œä¸»é˜Ÿåˆ—ä¸­å¾—ä»»åŠ¡ï¼Œä¼šå‘ç”Ÿæ­»å¾ªç¯ï¼Œä»»åŠ¡æ— æ³•å¾€ä¸‹æ‰§è¡Œã€‚</li>
</ul>
<h5 id="8-å¹¶è¡Œé˜Ÿåˆ—"><a href="#8-å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="8.å¹¶è¡Œé˜Ÿåˆ—"></a>8.å¹¶è¡Œé˜Ÿåˆ—</h5><p>GCDé»˜è®¤å·²ç»æä¾›äº†å…¨å±€çš„å¹¶å‘é˜Ÿåˆ—ï¼Œä¾›æ•´ä¸ªåº”ç”¨ä½¿ç”¨ï¼Œä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºã€‚<br>ä½¿ç”¨<code>dispatch_get_global_queue</code>å‡½æ•°è·å¾—å…¨å±€çš„å¹¶å‘é˜Ÿåˆ—ã€‚</p>
<pre><code>dispatch_queue_t dispatch_get_global_queue(dispatch_queue_priority_t priority,unsigned long flags); 
</code></pre><p>ç¤ºä¾‹ï¼š<br>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¼˜å…ˆçº§ï¼Œè¿™é‡Œé€‰æ‹©é»˜è®¤çš„ã€‚ç¬¬äºŒä¸ªflagså‚æ•°æš‚æ—¶æ— ç”¨ï¼Œç”¨0å³å¯ã€‚è·å–ä¸€ä¸ªå…¨å±€çš„é»˜è®¤ä¼˜å…ˆçº§çš„å¹¶å‘é˜Ÿåˆ—ã€‚</p>
<pre><code>dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); // è·å¾—å…¨å±€å¹¶å‘é˜Ÿåˆ—
</code></pre><h5 id="9-çº¿ç¨‹é—´é€šä¿¡"><a href="#9-çº¿ç¨‹é—´é€šä¿¡" class="headerlink" title="9.çº¿ç¨‹é—´é€šä¿¡"></a>9.çº¿ç¨‹é—´é€šä¿¡</h5><p>ä»å­çº¿ç¨‹å›åˆ°ä¸»çº¿ç¨‹ï¼š</p>
<pre><code>dispatch_async( dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // æ‰§â¾è€—æ—¶çš„å¼‚æ­¥æ“ä½œ...
    dispatch_async(dispatch_get_main_queue(), ^{
        // å›åˆ°ä¸»çº¿ç¨‹,æ‰§â¾UIåˆ·æ–°æ“ä½œ
    });
});
</code></pre><h5 id="10-å¸¸è§ç”¨æ³•"><a href="#10-å¸¸è§ç”¨æ³•" class="headerlink" title="10.å¸¸è§ç”¨æ³•"></a>10.å¸¸è§ç”¨æ³•</h5><ul>
<li><strong>å»¶è¿Ÿæ‰§è¡Œ</strong></li>
</ul>
<p>iOSå¸¸è§çš„å»¶æ—¶æ‰§è¡Œæœ‰2ç§æ–¹å¼<br>ï¼ˆ1ï¼‰è°ƒç”¨NSObjectçš„æ–¹æ³•<code>[self performSelector:@selector(run) withObject:nil afterDelay:2.0];</code>ã€‚è¯¥æ–¹æ³•åœ¨é‚£ä¸ªçº¿ç¨‹è°ƒç”¨ï¼Œé‚£ä¹ˆrunå°±åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œï¼ˆå½“å‰çº¿ç¨‹ï¼‰ï¼Œé€šå¸¸æ˜¯ä¸»çº¿ç¨‹ã€‚</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨GCDå‡½æ•°</p>
<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
    // 2ç§’åå¼‚æ­¥æ‰§è¡Œè¿™é‡Œçš„ä»£ç ...
});
</code></pre><ul>
<li><strong>ä¸€æ¬¡æ€§ä»£ç </strong></li>
</ul>
<p>ä½¿ç”¨<code>dispatch_once</code>å‡½æ•°èƒ½ä¿è¯æŸæ®µä»£ç åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªè¢«æ‰§è¡Œ1æ¬¡ã€‚</p>
<pre><code>static dispatch_once_t onceToken;
dispatch_once(&amp;onceToken, ^{
    // åªæ‰§è¡Œ1æ¬¡çš„ä»£ç (è¿™é‡Œé¢é»˜è®¤æ˜¯çº¿ç¨‹å®‰å…¨çš„)
});
</code></pre><p>æ•´ä¸ªç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<ul>
<li><strong>é˜Ÿåˆ—ç»„</strong></li>
</ul>
<p>æœ‰è¿™ä¹ˆ1ç§éœ€æ±‚ï¼šNSOperationQueue</p>
<p>é¦–å…ˆï¼šåˆ†åˆ«å¼‚æ­¥æ‰§è¡Œ2ä¸ªè€—æ—¶çš„æ“ä½œ<br>å…¶æ¬¡ï¼šç­‰2ä¸ªå¼‚æ­¥æ“ä½œéƒ½æ‰§è¡Œå®Œæ¯•åï¼Œå†å›åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œæ“ä½œ</p>
<p>å¦‚æœæƒ³è¦å¿«é€Ÿé«˜æ•ˆåœ°å®ç°ä¸Šè¿°éœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘ç”¨é˜Ÿåˆ—ç»„ï¼š</p>
<pre><code>dispatch_group_t group =  dispatch_group_create();
dispatch_group_async(group, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // æ‰§è¡Œ1ä¸ªè€—æ—¶çš„å¼‚æ­¥æ“ä½œ
});
dispatch_group_async(group, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // æ‰§è¡Œ1ä¸ªè€—æ—¶çš„å¼‚æ­¥æ“ä½œ
});
dispatch_group_notify(group, dispatch_get_main_queue(), ^{
    // ç­‰å‰é¢çš„å¼‚æ­¥æ“ä½œéƒ½æ‰§è¡Œå®Œæ¯•åï¼Œå›åˆ°ä¸»çº¿ç¨‹...
});
</code></pre><h3 id="NSOperation"><a href="#NSOperation" class="headerlink" title="NSOperation"></a>NSOperation</h3><h5 id="1-ç®€å•è¯´æ˜"><a href="#1-ç®€å•è¯´æ˜" class="headerlink" title="1.ç®€å•è¯´æ˜"></a>1.ç®€å•è¯´æ˜</h5><p>NSOperationçš„ä½œâ½¤ï¼šé…åˆä½¿ç”¨NSOperationå’ŒNSOperationQueueä¹Ÿèƒ½å®ç°å¤šçº¿ç¨‹ç¼–ç¨‹ã€‚<br>NSOperationå’ŒNSOperationQueueå®ç°å¤šçº¿ç¨‹çš„å…·ä½“æ­¥éª¤ï¼š<br>ï¼ˆ1ï¼‰å…ˆå°†éœ€è¦æ‰§è¡Œçš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªNSOperationå¯¹è±¡ä¸­<br>ï¼ˆ2ï¼‰ç„¶åå°†NSOperationå¯¹è±¡æ·»åŠ åˆ°NSOperationQueueä¸­<br>ï¼ˆ3ï¼‰ç³»ç»Ÿä¼šâ¾ƒåŠ¨å°†NSOperationQueueä¸­çš„NSOperationå–å‡ºæ¥<br>ï¼ˆ4ï¼‰å°†å–å‡ºçš„NSOperationå°è£…çš„æ“ä½œæ”¾åˆ°â¼€æ¡æ–°çº¿ç¨‹ä¸­æ‰§â¾</p>
<h5 id="2-NSOperationçš„å­ç±»"><a href="#2-NSOperationçš„å­ç±»" class="headerlink" title="2.NSOperationçš„å­ç±»"></a>2.NSOperationçš„å­ç±»</h5><p>NSOperationæ˜¯ä¸ªæŠ½è±¡ç±»,å¹¶ä¸å…·å¤‡å°è£…æ“ä½œçš„èƒ½åŠ›,å¿…é¡»ä½¿â½¤å®ƒçš„å­ç±»ã€‚<br>ä½¿ç”¨NSOperationâ¼¦ç±»çš„æ–¹å¼æœ‰3ç§ï¼š<br>ï¼ˆ1ï¼‰NSInvocationOperation<br>ï¼ˆ2ï¼‰NSBlockOperation<br>ï¼ˆ3ï¼‰è‡ªå®šä¹‰å­ç±»ç»§æ‰¿NSOperation,å®ç°å†…éƒ¨ç›¸åº”çš„â½…æ³•</p>
<p><strong> æ³¨ï¼š</strong></p>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæ“ä½œæ²¡æœ‰æ”¾åˆ°é˜Ÿåˆ—ä¸­queueä¸­ï¼Œéƒ½æ˜¯åŒæ­¥æ‰§è¡Œã€‚åªæœ‰å°†NSOperationæ”¾åˆ°ä¸€ä¸ªNSOperationQueueä¸­,æ‰ä¼šå¼‚æ­¥æ‰§è¡Œæ“ä½œã€‚</li>
<li>åªè¦NSBlockOperationå°è£…çš„æ“ä½œæ•°å¤§äº1,å°±ä¼šå¼‚æ­¥æ‰§è¡Œæ“ä½œã€‚</li>
</ul>
<h5 id="3-NSOperationQueue"><a href="#3-NSOperationQueue" class="headerlink" title="3.NSOperationQueue"></a>3.NSOperationQueue</h5><p>NSOperationQueueçš„ä½œâ½¤ï¼šNSOperationå¯ä»¥è°ƒâ½¤startâ½…æ³•æ¥æ‰§â¾ä»»åŠ¡,ä½†é»˜è®¤æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚å¦‚æœå°†NSOperationæ·»åŠ åˆ°NSOperationQueue(æ“ä½œé˜Ÿåˆ—)ä¸­,ç³»ç»Ÿä¼šè‡ªåŠ¨å¼‚æ­¥æ‰§è¡ŒNSOperationä¸­çš„æ“ä½œã€‚<br><strong>æ·»åŠ æ“ä½œåˆ°NSOperationQueueä¸­ï¼Œè‡ªåŠ¨æ‰§è¡Œæ“ä½œï¼Œè‡ªåŠ¨å¼€å¯çº¿ç¨‹ã€‚</strong></p>
<p>NSOperationQueue æœ‰ä¸¤ç§ä¸åŒç±»å‹çš„é˜Ÿåˆ—ï¼šä¸»é˜Ÿåˆ—å’Œè‡ªå®šä¹‰é˜Ÿåˆ—ã€‚ä¸»é˜Ÿåˆ—è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¹‹ä¸Šï¼Œè€Œè‡ªå®šä¹‰é˜Ÿåˆ—åœ¨åå°æ‰§è¡Œã€‚åœ¨ä¸¤ç§ç±»å‹ä¸­ï¼Œè¿™äº›é˜Ÿåˆ—æ‰€å¤„ç†çš„ä»»åŠ¡éƒ½ä½¿ç”¨ NSOperation çš„å­ç±»æ¥è¡¨è¿°ã€‚</p>
<h5 id="4-NSOperationåŸºæœ¬æ“ä½œ"><a href="#4-NSOperationåŸºæœ¬æ“ä½œ" class="headerlink" title="4.NSOperationåŸºæœ¬æ“ä½œ"></a>4.NSOperationåŸºæœ¬æ“ä½œ</h5><ul>
<li>å¹¶å‘æ•°ï¼š<code>-maxConcurrentOperationCount</code>ï¼›</li>
<li>é˜Ÿåˆ—çš„å–æ¶ˆã€æš‚åœå’Œæ¢å¤ï¼š<code>-cancelAllOperations</code>ï¼Œ<code>-setSuspended:</code>ï¼›</li>
<li>æ“ä½œä¼˜å…ˆçº§ï¼š<code>-setQueuePriority:</code>ï¼›</li>
<li>æ“ä½œä¾èµ–ï¼š<ul>
<li><code>-addDependency:</code></li>
<li>å¯ä»¥åœ¨ä¸åŒqueueçš„NSOperationä¹‹é—´åˆ›å»ºä¾èµ–å…³ç³»</li>
<li>é¿å…å¾ªç¯ä¾èµ–</li>
</ul>
</li>
<li>ç›‘å¬æ“ä½œçš„æ‰§è¡Œå®Œæ¯•ï¼š<br>  <code>- (void)setCompletionBlock:(void (^)(void))block;</code></li>
</ul>
<pre><code>    //ç›‘å¬æ“ä½œçš„æ‰§è¡Œå®Œæ¯•
operation.completionBlock=^{
    //.....æ“ä½œå®Œæˆåç»§ç»­è¿›è¡Œçš„æ“ä½œ
};
</code></pre><hr>
<p><strong> Ref:</strong></p>
<ul>
<li>Difference between a method and a function:<br>  <a href="http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function" target="_blank" rel="external">http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function</a></li>
<li>æ–‡é¡¶é¡¶çš„å¤šçº¿ç¨‹ç³»åˆ—ï¼š<br>  <a href="http://www.cnblogs.com/wendingding/tag/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%AF%87/" target="_blank" rel="external">http://www.cnblogs.com/wendingding/tag/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%AF%87/</a></li>
<li><a href="http://blog.cnbluebox.com/blog/2014/07/01/cocoashen-ru-xue-xi-nsoperationqueuehe-nsoperationyuan-li-he-shi-yong/" target="_blank" rel="external">http://blog.cnbluebox.com/blog/2014/07/01/cocoashen-ru-xue-xi-nsoperationqueuehe-nsoperationyuan-li-he-shi-yong/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¦‚ä½•æŸ¥çœ‹å’Œä¿®æ”¹Macä¸­çš„ç¯å¢ƒå˜é‡]]></title>
      <url>http://www.calios.gq/2016/02/17/%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E5%92%8C%E4%BF%AE%E6%94%B9Mac%E4%B8%AD%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</url>
      <content type="html"><![CDATA[<h4 id="æ˜¾ç¤ºå½“å‰çš„ç¯å¢ƒå˜é‡åˆ—è¡¨"><a href="#æ˜¾ç¤ºå½“å‰çš„ç¯å¢ƒå˜é‡åˆ—è¡¨" class="headerlink" title="æ˜¾ç¤ºå½“å‰çš„ç¯å¢ƒå˜é‡åˆ—è¡¨"></a>æ˜¾ç¤ºå½“å‰çš„ç¯å¢ƒå˜é‡åˆ—è¡¨</h4><pre><code>$ printenv
PATH=/Library/Frameworks/Python.framework/Versions/3.4/bin:/Users/calios/.cabal/bin:/Applications/ghc-7.8.4.app/Contents/bin:/Library/Frameworks/Python.framework/Versions/3.4/bin:/Users/calios/.cabal/bin:/Applications/ghc-7.8.4.app/Contents/bin:/Library/Frameworks/Python.framework/Versions/3.4/bin:/Users/calios/.cabal/bin:/Applications/ghc-7.8.4.app/Contents/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin
ZSH=/Users/calios/.oh-my-zsh
...
</code></pre><h4 id="æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shell"><a href="#æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shell" class="headerlink" title="æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shell"></a>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shell</h4><pre><code>$ echo $SHELL
    /bin/zsh
</code></pre><p>æ‰€ä»¥ï¼Œæˆ‘ç°åœ¨ä½¿ç”¨çš„shellæ˜¯<em>zsh</em>ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„<em>bash</em>ã€‚é‚£ä¹ˆï¼Œæ˜¯ä¸æ˜¯åº”è¯¥ä¿®æ”¹<em>zsh</em>çš„ç›¸åº”é…ç½®æ–‡ä»¶å‘¢ï¼Ÿ</p>
<p>æ‰¾åˆ°<em>zsh</em>é…ç½®æ–‡ä»¶æ‰€åœ¨è·¯å¾„<code>~/.zshrc</code>å¹¶æ‰“å¼€ï¼ˆè¿™é‡ŒæŒ‡å®šäº†Sublimeæ‰“å¼€ï¼Œå› ä¸ºæœ‰è¯­æ³•æ”¯æŒï½ï¼‰ï¼š</p>
<pre><code>$ open -a Sublime\ Text ~/.zshrc
</code></pre><p>å‘ç°é‡Œé¢æœ‰ä¸å°‘çš„é…ç½®é€‰é¡¹ï¼Œæ·»åŠ ä¸Šå¦‚ä¸‹ä¸€è¡Œï¼š</p>
<pre><code>export GOPATH=&quot;$HOME/Documents/MyWorkspace/GoWorkspace&quot;
</code></pre><p>ä¿å­˜ï¼Œé€€å‡ºã€‚</p>
<h4 id="è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡"></a>è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡</h4><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨bashçš„<code>export</code>å‘½ä»¤è®¾ç½®ä¸´æ—¶çš„ç¯å¢ƒå˜é‡ï¼Œåªè¦å½“å‰shellæ˜¯æ¿€æ´»çŠ¶æ€ï¼Œä¸´æ—¶ç¯å¢ƒå˜é‡å°±å¯ä»¥ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œä½ å¸Œæœ›ç»™<code>~/bin/</code>æ·»åŠ ä¸€ä¸ªä¸´æ—¶è·¯å¾„ï¼Œä½ å¯ä»¥ç›´æ¥è·‘è¿™è¡Œå‘½ä»¤ï¼š</p>
<pre><code>$ export PATH=$PATH:~/bin
</code></pre><p>åé¢çš„<code>$PATH</code>æ„å‘³ç€åœ¨åŸæœ‰å€¼çš„åŸºç¡€ä¸Šï¼Œæ‹¼æ¥ä¸Š<code>~/bin/</code>ï¼Œå†å°†æ–°å€¼èµ‹ç»™<code>PATH</code>.</p>
<p>å†å¼ºè°ƒä¸€éï¼Œåªæœ‰ä¿å­˜åˆ°é…ç½®æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡æ‰æ˜¯æŒä¹…çš„ï¼Œå¦åˆ™åªæ˜¯ä¸´æ—¶ç¯å¢ƒå˜é‡ã€‚</p>
<hr>
<p><strong>Ref: </strong></p>
<ul>
<li><p><a href="http://osxdaily.com/2015/07/28/set-enviornment-variables-mac-os-x/" target="_blank" rel="external">http://osxdaily.com/2015/07/28/set-enviornment-variables-mac-os-x/</a></p>
</li>
<li><p><a href="http://hathaway.cc/post/69201163472/how-to-edit-your-path-environment-variables-on-mac" target="_blank" rel="external">http://hathaway.cc/post/69201163472/how-to-edit-your-path-environment-variables-on-mac</a></p>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[[SourceRead]-PureLayout]]></title>
      <url>http://www.calios.gq/2016/02/15/%5BSourceRead%5D-PureLayout/</url>
      <content type="html"><![CDATA[<p>Hereâ€™s part of usage of <a href="https://github.com/PureLayout/PureLayout" title="https://github.com/PureLayout/PureLayout" target="_blank" rel="external">PureLayout</a>. I once ignored some of them for long and complained about the unhandy. Now I have to admit that itâ€™s really a strong framework to use.</p>
<p>1.Working with Arrays of Views</p>
<pre><code>NSArray *views = @[self.redView, self.blueView, self.yellowView, self.greenView]; 
// Match the widths of all the views
[views autoMatchViewsDimension:ALDimensionWidth];

// Pin the red view 20 pt from the top layout guide of the view controller
[self.redView autoPinToTopLayoutGuideOfViewController:self withInset:20.0];

// Loop over the views, attaching the left edge to the previous view&apos;s right edge,
// and the top edge to the previous view&apos;s bottom edge
[[views firstObject] autoPinEdgeToSuperviewEdge:ALEdgeLeft];
UIView *previousView = nil;
for (UIView *view in views) {
    if (previousView) {
        [view autoPinEdge:ALEdgeLeft toEdge:ALEdgeRight ofView:previousView];
        [view autoPinEdge:ALEdgeTop toEdge:ALEdgeBottom ofView:previousView];
    }
    previousView = view;
}
[[views lastObject] autoPinEdgeToSuperviewEdge:ALEdgeRight];
</code></pre><p>2.Cross-Attribute Constraints</p>
<pre><code>// Use a cross-attribute constraint to constrain an ALAxis to an ALEdge.
// Note that it is safe to cast from a more specific type like ALEdge, ALAxis, etc to the more generic type ALAttribute.
// As such, the below two lines are functionally identical. Use whichever you prefer.
// [self.redView autoConstrainAttribute:ALAttributeHorizontal toAttribute:ALAttributeBottom ofView:self.blueView];
[self.redView autoConstrainAttribute:(ALAttribute)ALAxisHorizontal toAttribute:(ALAttribute)ALEdgeBottom ofView:self.blueView]; // same as the above commented-out line
</code></pre><p>Hereâ€™s an image that helps with understanding.</p>
<p><img src="http://i4.tietuku.com/ee0da65ffdfc5875.png" alt="" title="http://i4.tietuku.com/ee0da65ffdfc5875.png"></p>
<p>3.Animating Constraints</p>
<pre><code>-(void)animateLayoutWithSpringAnimation
{
    // These 2 lines will cause -[updateViewConstraints] to be called again on this view controller, where the constraints will be adjusted to the new state
    [self.view setNeedsUpdateConstraints];
    [self.view updateConstraintsIfNeeded];
[UIView animateWithDuration:1.0
                              delay:0.0
             usingSpringWithDamping:0.6
              initialSpringVelocity:0
                            options:0
                         animations:^{
                     [self.view layoutIfNeeded]; // this is what actually causes the views to animate to their new layout
                 }
                         completion:^(BOOL finished) {
                         // Run the animation again in the other direction
                     self.isAnimatingToEndState = !self.isAnimatingToEndState;
                     if (self.navigationController) { // this will be nil if this view controller is no longer in the navigation stack (stops animation when this view controller is no longer onscreen)
                         [self animateLayoutWithSpringAnimation];
                     }
       }];
}
</code></pre><p>4.Constraint Identifier(iOS 7.0+)</p>
<pre><code>[NSLayoutConstraint autoSetIdentifier:@&quot;Pin Container View Edges&quot; forConstraints:^{
    [self.containerView autoPinToTopLayoutGuideOfViewController:self withInset:10.0];
    [self.containerView autoPinEdgesToSuperviewEdgesWithInsets:UIEdgeInsetsMake(0.0, 10.0, 10.0, 10.0) excludingEdge:ALEdgeTop];
}];         
</code></pre><p>5.Constraints Without Installing</p>
<pre><code>self.horizontalLayoutConstraints = [NSLayoutConstraint autoCreateAndInstallConstraints:^{
    [views autoSetViewsDimension:ALDimensionHeight toSize:40.0];
    [views autoDistributeViewsAlongAxis:ALAxisHorizontal alignedTo:ALAttributeHorizontal withFixedSpacing:10.0 insetSpacing:YES matchedSizes:YES];
    [self.redView autoAlignAxisToSuperviewAxis:ALAxisHorizontal];
}];

if (self.isShowingHorizontalLayout) {
    [self.verticalLayoutConstraints autoRemoveConstraints];
    [self.horizontalLayoutConstraints autoInstallConstraints];
} else {
    [self.horizontalLayoutConstraints autoRemoveConstraints];
    [self.verticalLayoutConstraints autoInstallConstraints];
}
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[[SourceRead]-SDWebImage-3]]></title>
      <url>http://www.calios.gq/2016/02/15/%5BSourceRead%5D-SDWebImage-3/</url>
      <content type="html"><![CDATA[<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/QQ20160216-0@2x.png" alt="" title="SDWebImageç³»åˆ—"></p>
<p>æ²¿ç€ä¸Šé¢è¿™ä¸ªå›¾ï¼Œä¸€å±‚ä¸€å±‚å‰¥åˆ°äº†<code>SDWebImageDownloader</code>çš„<code>- downloadImageWithURL:options:progress:completed:</code>æ–¹æ³•ï¼Œç»ˆäºçœ‹åˆ°äº†å¤§ç‰‡çš„åŸç”Ÿä»£ç åœ¨å‘æˆ‘ä»¬æ‹›æ‰‹ã€‚ã€‚ã€‚</p>
<p>çºµè§‚è¿™ä¸ªæ–¹æ³•ï¼Œå°±è°ƒç”¨äº†ä¸€ä¸‹<code>-addProgressCallback:completedBlock:forURL:createCallback:</code>ï¼Œè€Œè¿™ä¸ªæ–¹æ³•å¹¶ä¸å¤æ‚ï¼Œä¸»è¦å±•ç¤ºäº†ä¸€ä¸‹<code>self.URLCallbacks</code>è¿™ä¸ªå­—å…¸çš„å†…éƒ¨ç»„æˆï¼Œåœ¨æ­¤ç•¥å»ä¸æã€‚</p>
<p>è¿˜æ˜¯å›æ¥çœ‹<code>- downloadImageWithURL:options:progress:completed:</code>ã€‚</p>
<h3 id="ï¼»1ï¼½Cache-Control"><a href="#ï¼»1ï¼½Cache-Control" class="headerlink" title="ï¼»1ï¼½Cache-Control"></a>ï¼»1ï¼½Cache-Control</h3><pre><code>NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url cachePolicy:(options &amp; SDWebImageDownloaderUseNSURLCache ? NSURLRequestUseProtocolCachePolicy : NSURLRequestReloadIgnoringLocalCacheData) timeoutInterval:timeoutInterval];
</code></pre><p>åŸºæœ¬çš„<code>NSMutableURLRequest</code>åˆå§‹åŒ–ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸»è¦çœ‹ç¼“å­˜ç­–ç•¥ï¼š</p>
<pre><code>(options &amp; SDWebImageDownloaderUseNSURLCache ? NSURLRequestUseProtocolCachePolicy : NSURLRequestReloadIgnoringLocalCacheData)
</code></pre><p>å…ˆæ¥ç®€å•äº†è§£ä¸€ä¸‹Cache-Controlï¼š</p>
<blockquote>
<p>æ¯ä¸ªèµ„æºéƒ½å¯ä»¥é€šè¿‡ Cache-Control HTTP å¤´æ¥å®šä¹‰è‡ªå·±çš„ç¼“å­˜ç­–ç•¥<br>Cache-Control æŒ‡ä»¤æ§åˆ¶è°åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹å¯ä»¥ç¼“å­˜å“åº”ä»¥åŠå¯ä»¥ç¼“å­˜å¤šä¹…</p>
</blockquote>
<p>æ›´å¤šæ·±å…¥å†…å®¹å¯ä»¥çœ‹<a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching" title="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚</p>
<ul>
<li><code>SDWebImageDownloaderUseNSURLCache</code>: é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>SDWebImage</code>æ˜¯ä¸ä½¿ç”¨<code>NSURLCache</code>çš„ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆå°±å°†<code>NSURLCache</code>çš„é»˜è®¤çš„ç¼“å­˜ç­–ç•¥ä½œä¸ºç¼“å­˜ç­–ç•¥ï¼Œå³<code>NSURLRequestUseProtocolCachePolicy</code>ã€‚</li>
<li><code>NSURLRequestUseProtocolCachePolicy</code>: è¿™ä¸ªç¼“å­˜ç­–ç•¥æ˜¯URLè¯·æ±‚çš„é»˜è®¤ç­–ç•¥ï¼Œå³åœ¨æŒ‡å®šçš„URLè¯·æ±‚ä¸­ä½¿ç”¨åè®®ä¸­å®ç°äº†çš„ç¼“å­˜é€»è¾‘ã€‚</li>
<li><code>NSURLRequestReloadIgnoringLocalCacheData</code>: æŒ‡å®šäº†æŸä¸ªURLçš„æ•°æ®è¦ä»åŸå§‹åœ°å€è·å–ï¼Œæ— è§†å·²æœ‰ç¼“å­˜ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œè¿™é‡Œçš„ç¼“å­˜ç­–ç•¥æ˜¯ï¼šå¦‚æœä¼ å…¥çš„<code>option</code>æ˜¯<code>SDWebImageDownloaderUseNSURLCache</code>ï¼Œå°±ç”¨NRURLCacheçš„é»˜è®¤ç¼“å­˜ç­–ç•¥ï¼Œå¦åˆ™å°±æ— è§†æœ¬åœ°ç¼“å­˜ï¼Œé‡æ–°è·å–ã€‚</p>
<h3 id="ï¼»2ï¼½NSMutableURLRequestçš„å‡ ä¸ªå±æ€§"><a href="#ï¼»2ï¼½NSMutableURLRequestçš„å‡ ä¸ªå±æ€§" class="headerlink" title="ï¼»2ï¼½NSMutableURLRequestçš„å‡ ä¸ªå±æ€§"></a>ï¼»2ï¼½<code>NSMutableURLRequest</code>çš„å‡ ä¸ªå±æ€§</h3><pre><code>request.HTTPShouldHandleCookies = (options &amp; SDWebImageDownloaderHandleCookies);
request.HTTPShouldUsePipelining = YES;
request.allHTTPHeaderFields = wself.HTTPHeaders; // è¿™é‡Œç•¥å»äº†åŸä»£ç ä¸­çš„ifåˆ¤æ–­
</code></pre><ul>
<li><code>HTTPShouldHandleCookies</code>: æ˜¯å¦å¯¹å½“å‰è¯·æ±‚ä½¿ç”¨é»˜è®¤cookieã€‚é»˜è®¤ä¸ºYESã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹cookieæ˜¯ç”±cookie managerå­˜å‚¨å’Œå‘é€çš„ã€‚</li>
<li><code>HTTPShouldUsePipelining</code>: æ˜¯å¦ç­‰å¾…å‰ä¸€ä¸ªè¯·æ±‚å“åº”åå†å‘é€å½“å‰è¯·æ±‚ã€‚YESæ˜¯ä¸ç­‰ï¼ŒNOæ˜¯ç­‰ã€‚ï¼ˆç¬¬ä¸‰ä¸ªé€‰é¡¹æ˜¯çˆ±ç­‰ä¸ç­‰ã€‚ã€‚ã€‚XDï¼‰</li>
<li><code>allHTTPHeaderFields</code>: ç”¨è®¾ç½®çš„NSDictionaryï¼ˆkeyå’Œvalueéƒ½éœ€ä¸ºNSStringï¼‰æ¥æ›¿ä»£ä¹‹å‰å¯èƒ½å­˜åœ¨çš„æ‰€æœ‰headerå­—æ®µã€‚</li>
</ul>
<p>æ¯”å¦‚åˆå§‹åŒ–æ—¶çš„<code>HTTPHeaders</code>é•¿è¿™æ ·ï¼š</p>
<pre><code>#ifdef SD_WEBP
    _HTTPHeaders = [@{@&quot;Accept&quot;: @&quot;image/webp,image/*;q=0.8&quot;} mutableCopy];
#else
    _HTTPHeaders = [@{@&quot;Accept&quot;: @&quot;image/*;q=0.8&quot;} mutableCopy];
#endif
</code></pre><h3 id="ï¼»3ï¼½å°†Classä½œä¸ºå±æ€§å€¼å­˜å‚¨"><a href="#ï¼»3ï¼½å°†Classä½œä¸ºå±æ€§å€¼å­˜å‚¨" class="headerlink" title="ï¼»3ï¼½å°†Classä½œä¸ºå±æ€§å€¼å­˜å‚¨"></a>ï¼»3ï¼½å°†Classä½œä¸ºå±æ€§å€¼å­˜å‚¨</h3><p>ä¸€ä¸ªå¼€å‘çš„å°æŠ€å·§ï¼š</p>
<pre><code>// å¤´æ–‡ä»¶ä¸­çš„å£°æ˜
@property (assign, nonatomic) Class operationClass;
// åˆå§‹åŒ–æŒ‡å®šå…·ä½“class
    _operationClass = [SDWebImageDownloaderOperation class];
// ä½¿ç”¨æ—¶è°ƒç”¨å…·ä½“classçš„æ–¹æ³•
operation = [[wself.operationClass alloc] initWithRequest:request
options:options progress:^(NSInteger receivedSize, NSInteger expectedSize) {
    ...
}];
</code></pre><h3 id="ï¼»4ï¼½NSURLCredential"><a href="#ï¼»4ï¼½NSURLCredential" class="headerlink" title="ï¼»4ï¼½NSURLCredential"></a>ï¼»4ï¼½<code>NSURLCredential</code></h3><pre><code>if (wself.urlCredential) {
      operation.credential = wself.urlCredential;
 }
else if (wself.username &amp;&amp; wself.password) {
      operation.credential = [NSURLCredential credentialWithUser:wself.username password:wself.password persistence:NSURLCredentialPersistenceForSession];
}
</code></pre><p>è¿™é‡Œçš„<code>urlCredential</code>æ˜¯ä¸€ä¸ª<code>NSURLCredential</code>ç±»çš„å±æ€§ã€‚å¦‚æœè¿™ä¸ªå±æ€§å­˜åœ¨å°±ç”¨è¿™ä¸ªå±æ€§ï¼Œæ²¡æœ‰çš„è¯ï¼Œå°±ç”¨ç”¨æˆ·åå’Œå¯†ç åˆ›å»ºä¸€ä¸ªä»…å­˜å‚¨äºå½“å‰sessionä¸­çš„<code>NSURLCredential</code>ã€‚</p>
<p>é‚£ä¹ˆï¼Œ<code>NSURLCredential</code>æ˜¯ä¸ªç¥é©¬å‘¢ï¼Ÿå…ˆå¼•ç”¨ä¸€æ®µMKçš„è®²è§£æ¥äº†è§£ä¸‹HTTPè®¤è¯çš„æœºç†ï¼š</p>
<blockquote>
<p>å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·èµ„æºè¯·æ±‚æ—¶ï¼Œå®ƒä¼šå‘èµ·ä¸€ä¸ªä»¥æ–‡ä»¶åç»“å°¾çš„GETè¯·æ±‚ã€‚å¦‚æœæœåŠ¡å™¨æ£€æŸ¥åˆ°èµ„æºæ˜¯è¢«ä¿æŠ¤çš„ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªheaderä¸­æœ‰WWW-Authenticateçš„401æ¶ˆæ¯ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯â€œæœªè¢«æˆæƒâ€ã€‚WWW-Authenticateè¿™ä¸ªheaderå­—æ®µå¯èƒ½æœ‰å€¼ï¼Œç”±ç›¸åº”æœºåˆ¶æ¥å†³å®šè¿™ä¸ªå€¼æ˜¯â€œBasicâ€è¿˜æ˜¯â€œDigestâ€ã€‚<br>å½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°è¿™ä¸ªæˆæƒæŒ‘æˆ˜ï¼ˆchallengeï¼‰æ—¶ï¼Œå®ƒå°±è¦ä»¥æŒ‡å®šæ ¼å¼å°†ç”¨æˆ·æˆæƒä¿¡æ¯å‘è¿‡å»ã€‚å¯¹äºåŸºæœ¬çš„è®¤è¯ï¼Œé€šå¸¸æ˜¯åœ¨headerçš„è®¤è¯å­—æ®µä¸­æ”¾ä¸Šbase64åŠ å¯†è¿‡çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å¯¹äºæ‘˜è¦å¼è®¤è¯ï¼Œå°±è¦ç•¥å¤æ‚ä¸€ç‚¹ã€‚å®¢æˆ·ç«¯åœ¨headerçš„è®¤è¯å­—æ®µä¸­è¦æ”¾çš„å€¼ä¹Ÿæ›´åŠ é«˜ç²¾å°–ä¸€äº›ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½œä¸ºObjective-Cçš„å¼€å‘è€…ä»¬ï¼ŒCoreFoundationç±»å·²ç»æŠŠè¿™äº›éƒ½å°è£…å¥½äº†ã€‚</p>
</blockquote>
<p>ä¸€æ—¦è¯·æ±‚çš„URLéœ€è¦æˆæƒï¼Œå³æœåŠ¡å™¨è¿”å›äº†å«æœ‰WWW-Authenticateçš„headerï¼Œ<code>NSURLConnection</code>çš„<code>NSURLCredential</code>ç›¸å…³çš„ä»£ç†æ–¹æ³•<code>-connection:willSendRequestForAuthenticationChallenge:</code>å°±ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>å…¨å±€æœ<code>willSendRequestForAuthenticationChallenge</code>ï¼Œæœç„¶åœ¨<code>SDWebImageDownloaderOperation.m</code>çš„æœ«å°¾æ‰¾åˆ°äº†ä¸€æ®µã€‚</p>
<pre><code>- (void)connection:(NSURLConnection *)connection willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge{
    if ([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust]) {
        // `SDWebImageDownloaderAllowInvalidSSLCertificates`:Enable to allow untrusted SSL certificates.
        // ä¸å…è®¸ä½¿ç”¨ä¸å¯ä¿¡çš„SSLè¯ä¹¦ ï¼ã€‹ åªå…è®¸ä½¿ç”¨å¯ä¿¡è¯ä¹¦ 
        if (!(self.options &amp; SDWebImageDownloaderAllowInvalidSSLCertificates) &amp;&amp;
            [challenge.sender respondsToSelector:@selector(performDefaultHandlingForAuthenticationChallenge:)]) {
            // è®©è®¤è¯æŒ‘æˆ˜çš„å‘é€è€…æŒ‰ç…§ç³»ç»ŸæŒ‡å®šçš„è¿›è¡Œé»˜è®¤æ“ä½œã€‚
            [challenge.sender performDefaultHandlingForAuthenticationChallenge:challenge];
        } else {
            // æ–°å»ºä¸€ä¸ªå·²ç»æœ‰ä¸€æ¬¡å¯ä¿¡ä»»æ¡æ‰‹çš„`NSURLCredential`ã€‚
            NSURLCredential *credential = [NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust];
            // è®©è®¤è¯æŒ‘æˆ˜çš„å‘é€è€…ä½¿ç”¨æ–°å»ºçš„è¿™ä¸ªcredentialæ¥åº”ç­”è®¤è¯æŒ‘æˆ˜ã€‚
            [[challenge sender] useCredential:credential forAuthenticationChallenge:challenge];
        }
    } else {
        if ([challenge previousFailureCount] == 0) {
            if (self.credential) {
                [[challenge sender] useCredential:self.credential forAuthenticationChallenge:challenge];
            } else {
                [[challenge sender] continueWithoutCredentialForAuthenticationChallenge:challenge];
            }
        } else {
            [[challenge sender] continueWithoutCredentialForAuthenticationChallenge:challenge];
        }
    }
}
</code></pre><p>åœ¨ç»†çœ‹ä»£ç†æ–¹æ³•å®ç°å‰å…ˆæ¥äº†è§£ä¸€ä¸‹è¿™å‡ ä¸ªé™Œç”Ÿçš„ç±»ï¼š</p>
<ul>
<li><code>NSURLAuthenticationChallenge</code>: è¿™ä¸ªç±»æ˜¯è®¤è¯æŒ‘æˆ˜ç±»ï¼Œå®¢æˆ·ç«¯æ¥å—æŒ‘æˆ˜å°±æ„å‘³ç€è¦æä¾›æŒ‘æˆ˜çš„å‡­è¯ï¼ˆæ¯”å¦‚ç”¨æˆ·åã€å¯†ç ç­‰ç­‰ï¼‰ã€‚</li>
<li><code>NSURLCredential</code>: è¿™ä¸ªç±»æ˜¯ä»£è¡¨ç€è®¤è¯å‡­è¯çš„ä¸€ä¸ªä¸å¯å˜çš„å¯¹è±¡ï¼Œå®ƒç”±æŒ‡å®šç±»å‹çš„è®¤è¯ä¿¡æ¯å’Œå¯ç”¨çš„å­˜å‚¨æ—¶é—´ç»„æˆã€‚</li>
</ul>
<p>æ˜¯ä¸æ˜¯æœ‰ç§æ¯ä¸ªå­—éƒ½è®¤è¯†è¿èµ·æ¥å°±æ™•äº†çš„æ„Ÿè§‰ï¼Ÿæ‰“ä¸ªæ¯”æ–¹ç†è§£ä¸‹ï½</p>
<p>å½“ï½ï½ï½ï½ å¤•é˜³ä½™æ™–å·²æ•£ï¼Œä¸€ä¸ªç¬‘é¢ä¹¦ç”Ÿè¦ä»ä¸œåŸé—¨å£å…¥åŸï¼Œå®ˆåŸå£«å…µä¸€æªæ‹¦ä½ï¼šâ€œå‘”ï¼ä½•æ–¹äººæ°ï¼Œæ•¢å¤œé—¯æˆ‘å››æ–¹åŸï¼Ÿæœ‰é€šå…³æ–‡ä¹¦å¦ï¼Ÿâ€ï¼ˆ401ï¼Œæœªè¢«æˆæƒï¼Œé­åˆ°æˆæƒæŒ‘æˆ˜ï¼Œ<code>-connection:willSendRequestForAuthenticationChallenge:</code>è¢«è°ƒç”¨ï¼‰ä¹¦ç”Ÿä¸Šå‰ä¸€æ­¥ï¼Œæ‹±æ‰‹æœ—å£°é“ï¼šâ€œåœ¨ä¸‹çš‡ç”«ä»å’Œï¼Œåº”åŸä¸»é‚€è¯·å…¥åŸä¸€å™ã€‚æœ‰åŸä¸»äº²ç¬”ä¹¦å‡½åœ¨æ­¤ã€‚â€è¯´ç€ï¼Œä»è¢–ä¸­æŠ½å‡ºä¸€å°ä¿¡ï¼ˆå³è®¤è¯çš„å‡­è¯<code>NSURLCredential</code>ï¼‰ï¼Œé€’äº†è¿‡å»ï¼ˆå‘<code>NSURLAuthenticationChallenge</code>æŒ‘æˆ˜çš„å‘é€è€…æä¾›<code>NSURLCredential</code>å‡­è¯ï¼‰ã€‚å£«å…µæ¥è¿‡ä¿¡ï¼Œè§ç¡®ä¸ºåŸä¸»å­—è¿¹ï¼Œä¿¡ä¸­çš„é‚€è¯·æ—¥æœŸæ­£æ˜¯å½“æ—¥ï¼ˆè¯¥å‡­è¯çš„æœ‰æ•ˆæœŸï¼‰ï¼Œä¸”æœ‰å››æ–¹åŸå°ä¸€æšé™„åœ¨ä¿¡å°¾ï¼ˆè®¤è¯éœ€è¦çš„è¯¦ç»†ä¿¡æ¯ï¼‰ï¼Œæ–¹ä¿¡äº†ã€‚éšæœºæ’¤äº†é•¿æªï¼Œç”©æ‰‹é“ï¼šâ€œè¯·ï¼â€ï¼ˆè®¤è¯é€šè¿‡äº†ï¼Œå¯ä»¥è·å–èµ„æºäº†ï¼‰</p>
<h3 id="ï¼»4ï¼½operationçš„LIFOæ‰§è¡Œé¡ºåº"><a href="#ï¼»4ï¼½operationçš„LIFOæ‰§è¡Œé¡ºåº" class="headerlink" title="ï¼»4ï¼½operationçš„LIFOæ‰§è¡Œé¡ºåº"></a>ï¼»4ï¼½operationçš„LIFOæ‰§è¡Œé¡ºåº</h3><pre><code>if (wself.executionOrder == SDWebImageDownloaderLIFOExecutionOrder) {
     // å°†æœ€æ–°æ·»åŠ çš„operationä½œä¸ºæœ€åä¸€ä¸ªçš„operationçš„ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦å…ˆæ‰§è¡Œæœ€æ–°æ·»åŠ çš„operationï¼Œå†å¾€å‰ä¾æ¬¡æ‰§è¡Œï¼Œå³å®ç°äº†â€œåè¿›å…ˆå‡ºLIFOâ€ã€‚
     [wself.lastAddedOperation addDependency:operation];
     wself.lastAddedOperation = operation;
}
</code></pre><hr>
<p><strong>Ref:</strong></p>
<ul>
<li>HTTPç¼“å­˜ï¼š<br>  <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching" target="_blank" rel="external">https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching</a></li>
<li>Authenticating with a RESTful service using NSURLCredentialï¼š<br>  <a href="http://blog.mugunthkumar.com/articles/iphone-tutorial-authenticating-with-a-restful-service-using-nsurlcredential/" target="_blank" rel="external">http://blog.mugunthkumar.com/articles/iphone-tutorial-authenticating-with-a-restful-service-using-nsurlcredential/</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[[SourceRead]-SDWebImage-2]]></title>
      <url>http://www.calios.gq/2016/01/31/%5BSourceRead%5D-SDWebImage-2/</url>
      <content type="html"><![CDATA[<p>åœ¨æˆ‘ä»¬ç›´æ¥ä½¿ç”¨çš„æ ¸å¿ƒå‡½æ•°<code>-sd_setImageWithURL:forState:placeholderImage:options:completed:</code>ä¸­ï¼Œä¸»è¦èµ·ä¸‹è½½ä½œç”¨çš„æ–¹æ³•æ˜¯ä½äº<code>SDWebImageManager</code>ç±»ä¸­ <code>- downloadImageWithURL: options:progress:completed:</code>å‡½æ•°ï¼Œå…·ä½“æ¥è¯´ï¼Œè‹¥å›¾ç‰‡ä¸åœ¨cacheä¸­ï¼Œå°±æ ¹æ®ç»™å®šçš„URLæ¥ä¸‹è½½å›¾ç‰‡ï¼Œå¦åˆ™è¿”å›cacheä¸­çš„å›¾ç‰‡ã€‚</p>
<pre><code>/**
 * Downloads the image at the given URL if not present in cache or return the cached version otherwise.
 *
 * @param url            The URL to the image
 * @param options        A mask to specify options to use for this request
 * @param progressBlock  A block called while image is downloading
 * @param completedBlock A block called when operation has been completed.
 *
 *   This parameter is required.
 * 
 *   This block has no return value and takes the requested UIImage as first parameter.
 *   In case of error the image parameter is nil and the second parameter may contain an NSError.
 *
 *   The third parameter is an `SDImageCacheType` enum indicating if the image was retrieved from the local cache
 *   or from the memory cache or from the network.
 *
 *   The last parameter is set to NO when the SDWebImageProgressiveDownload option is used and the image is 
 *   downloading. This block is thus called repeatedly with a partial image. When image is fully downloaded, the
 *   block is called a last time with the full image and the last parameter set to YES.
 *
 * @return Returns an NSObject conforming to SDWebImageOperation. Should be an instance of SDWebImageDownloaderOperation
 */
- (id &lt;SDWebImageOperation&gt;)downloadImageWithURL:(NSURL *)url
                                         options:(SDWebImageOptions)options
                                        progress:(SDWebImageDownloaderProgressBlock)progressBlock
                                       completed:(SDWebImageCompletionWithFinishedBlock)completedBlock;
</code></pre><p>æ­£æ–‡èµ°èµ·ã€‚</p>
<h3 id="ï¼»1ï¼½ä»£ç çš„å®¹é”™èƒ½åŠ›"><a href="#ï¼»1ï¼½ä»£ç çš„å®¹é”™èƒ½åŠ›" class="headerlink" title="ï¼»1ï¼½ä»£ç çš„å®¹é”™èƒ½åŠ›"></a>ï¼»1ï¼½ä»£ç çš„å®¹é”™èƒ½åŠ›</h3><pre><code>// å¸¸è§çš„é”™è¯¯æ˜¯æŠŠNSStringå¯¹è±¡ä»£æ›¿NSURLä¼ è¿›æ¥ï¼Œä½œä¸ºURLã€‚è€Œå¥‡æ€ªçš„æ˜¯ï¼ŒXcodeå¹¶ä¸ä¼šå› æ­¤ç»™å‡ºè­¦å‘Šï¼Œæ‰€ä»¥è¿™é‡Œç»™å‡ºäº†å®¹é”™æœºåˆ¶ï¼Œå…è®¸ä¼ å…¥NSStringã€‚
if ([url isKindOfClass:NSString.class]) {
url = [NSURL URLWithString:(NSString *)url];
}

// é¿å…ç±»ä¼¼ç”¨NSNullæ¥æ›¿ä»£NSURLä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒçš„é—®é¢˜ã€‚
if (![url isKindOfClass:NSURL.class]) {
url = nil;
}
</code></pre><p>ä¸è®°å¾—å“ªä¸ªè€å¸ˆè¯´è¿‡ï¼Œè¯´ä¸€ä¸ªfunctionèƒ½æ¥å—çš„å‚æ•°å°½å¯èƒ½çš„â€œå®½â€ï¼Œè¿”å›çš„å€¼è¦å°½å¯èƒ½çš„â€œçª„â€ã€‚æˆ‘ç†è§£çš„æ˜¯ï¼Œå†™å¯¹å¤–çš„ä»£ç æ—¶ï¼Œå¯¹æ¥æ”¶çš„å‚æ•°çš„å®¹é”™èƒ½åŠ›ï¼ˆå¥å£®æ€§ï¼‰è¦å°½å¯èƒ½çš„å¼ºï¼Œä¸è¦ç¨æœ‰å·®é”™å°±å´©æºƒç½¢å·¥ï¼›è€Œè‡ªå·±ä»£ç è¿”å›çš„å€¼è¦å°½å¯èƒ½çš„ç²¾ç¡®ï¼Œå¦‚æœèƒ½è¿”å›ä¸€ä¸ªè‡ªå®šä¹‰çš„UITableViewï¼Œå°±ä¸è¦è¿”å›UITableViewã€‚</p>
<h3 id="ï¼»2ï¼½-synchronized"><a href="#ï¼»2ï¼½-synchronized" class="headerlink" title="ï¼»2ï¼½@synchronized()"></a>ï¼»2ï¼½@synchronized()</h3><p>æ¥ä¸‹æ¥çš„ä»£ç ä¸­ï¼Œè¿™æ ·çš„å°æ®µå‡ºç°äº†å¾ˆå¤šæ¬¡ï¼š</p>
<pre><code>    @synchronized (self.failedURLs) {
    isFailedUrl = [self.failedURLs containsObject:url];
}
...
@synchronized (self.runningOperations) {
    [self.runningOperations removeObject:operation];
}
...
@synchronized (self.failedURLs) {
    [self.failedURLs addObject:url];
}
</code></pre><p>é™¤äº†ç¬¬ä¸€æ¬¡æ˜¯åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸå…ƒç´ å¤–ï¼Œå…¶ä½™å‡æ˜¯å¯¹äºé›†åˆæˆ–æ•°ç»„è¿›è¡Œå…ƒç´ æ·»åŠ æˆ–è€…å…ƒç´ åˆ é™¤ã€‚é‚£ä¹ˆï¼Œ<code>@synchronized()</code>è¿™å®¶ä¼™æ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ</p>
<p>æ ¹æ®è‹¹æœçš„å®˜æ–¹æ–‡æ¡£ï¼š</p>
<blockquote>
<p><code>@synchronized()</code>æ˜¯OCä¸­ä¸€ç§æ–¹ä¾¿åœ°åˆ›å»ºäº’æ–¥é”çš„æ–¹å¼ â€”â€” å®ƒå¯ä»¥é˜²æ­¢ä¸åŒçº¿ç¨‹åœ¨åŒä¸€æ—¶é—´æ‰§è¡ŒåŒºå—ä¸­çš„ä»£ç ã€‚</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸»è¦ç”¨åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬é‡åˆ°å¤šçº¿ç¨‹ç¼–ç¨‹æ—¶å†æ¥æ·±ç©¶ã€‚è¿™é‡Œç®€å•äº†è§£å³å¯ã€‚</p>
<h3 id="ï¼»3ï¼½å‡½æ•°è¯´æ˜"><a href="#ï¼»3ï¼½å‡½æ•°è¯´æ˜" class="headerlink" title="ï¼»3ï¼½å‡½æ•°è¯´æ˜"></a>ï¼»3ï¼½å‡½æ•°è¯´æ˜</h3><p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/QQ20160215-0.png" alt="" title="å‡½æ•°è¯´æ˜"></p>
<p>çœ‹è¿™é‡Œçš„ä»£ç ï¼š</p>
<pre><code>// é€šè¿‡å›¾ç‰‡çš„urlæ¥è·å–cacheä¸­å¯¹åº”çš„keyã€‚
NSString *key = [self cacheKeyForURL:url];

// å¦‚æœkeyå¯¹åº”çš„å›¾ç‰‡å­˜åœ¨äºcacheä¸­ï¼Œå°±é€šè¿‡è¿™ä¸ªkeyæ¥è·å–å›¾ç‰‡ã€‚
operation.cacheOperation = [self.imageCache queryDiskCacheForKey:key done:^(UIImage *image, SDImageCacheType cacheType){
...
}];
</code></pre><h3 id="ï¼»4ï¼½ç£ç›˜ç¼“å­˜ï¼ˆdisk-cacheï¼‰-å’Œ-å†…å­˜ç¼“å­˜ï¼ˆmemory-cacheï¼‰"><a href="#ï¼»4ï¼½ç£ç›˜ç¼“å­˜ï¼ˆdisk-cacheï¼‰-å’Œ-å†…å­˜ç¼“å­˜ï¼ˆmemory-cacheï¼‰" class="headerlink" title="ï¼»4ï¼½ç£ç›˜ç¼“å­˜ï¼ˆdisk cacheï¼‰ å’Œ å†…å­˜ç¼“å­˜ï¼ˆmemory cacheï¼‰"></a>ï¼»4ï¼½ç£ç›˜ç¼“å­˜ï¼ˆdisk cacheï¼‰ å’Œ å†…å­˜ç¼“å­˜ï¼ˆmemory cacheï¼‰</h3><p><code>-queryDiskCacheForKey:done:</code>çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>SDWebImageQueryCompletedBlock</code>ï¼Œè¿™ä¸ªblockä¸­çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>SDImageCacheType</code>ï¼Œè¿™ä¸ªæšä¸¾ç”¨æ¥æ ‡è®°å›¾ç‰‡ç¼“å­˜çš„ç±»å‹ï¼Œå¦‚ç£ç›˜ç¼“å­˜å’Œå†…å­˜ç¼“å­˜ã€‚</p>
<pre><code>typedef NS_ENUM(NSInteger, SDImageCacheType) {
    /**
     * å›¾ç‰‡å·²ä»ç½‘ç»œä¸‹è½½ï¼Œä½†ç¼“å­˜ä¸å¯ç”¨ã€‚
     */
    SDImageCacheTypeNone,
    /**
     * å›¾ç‰‡åœ¨ç£ç›˜ç¼“å­˜ä¸­ã€‚
     */
    SDImageCacheTypeDisk,
    /**
     * å›¾ç‰‡åœ¨å†…å­˜ç¼“å­˜ä¸­ã€‚
     */
    SDImageCacheTypeMemory
};
</code></pre><p>é€šå¸¸ä¸€ä¸ªç¼“å­˜æ˜¯ç”±å†…å­˜ç¼“å­˜å’Œç£ç›˜ç¼“å­˜ç»„æˆï¼Œå†…å­˜ç¼“å­˜æä¾›å®¹é‡å°ä½†é«˜é€Ÿçš„å­˜å–åŠŸèƒ½ï¼Œç£ç›˜ç¼“å­˜æä¾›å¤§å®¹é‡ä½†ä½é€Ÿçš„æŒä¹…åŒ–å­˜å‚¨ã€‚ä¸åŒç±»åˆ«çš„ç¼“å­˜æœ‰ä¸åŒçš„ç¬¬ä¸‰æ–¹ç±»åº“æ”¯æŒï¼Œ<a href="http://blog.ibireme.com/2015/10/26/yycache/" title="http://blog.ibireme.com/2015/10/26/yycache/" target="_blank" rel="external">è¿™é‡Œ</a>æœ‰ä¸€ç¯‡å„ç§cacheç±»åº“çš„æ€§èƒ½å¯¹æ¯”ï¼ŒæŒ‰éœ€å¤‡æŸ¥ã€‚</p>
<p>æˆ‘ä»¬æ¥ç€ç‚¹åˆ°<code>SDImageCache.m</code>ä¸­å»çœ‹<code>-queryDiskCacheForKey:done:</code>çš„å®ç°ã€‚</p>
<pre><code>    - (NSOperation *)queryDiskCacheForKey:(NSString *)key done:(SDWebImageQueryCompletedBlock)doneBlock {
    if (!doneBlock) {
        return nil;
    }

    if (!key) {
        doneBlock(nil, SDImageCacheTypeNone);
        return nil;
    }

    // åŸºäºä¸Šè¿°ä¸¤ç§ç¼“å­˜çš„ç‰¹å¾ï¼Œä¼˜å…ˆåœ¨å†…å­˜ç¼“å­˜ä¸­æŸ¥æ‰¾å›¾ç‰‡ã€‚
    UIImage *image = [self imageFromMemoryCacheForKey:key];
    if (image) {
        doneBlock(image, SDImageCacheTypeMemory);
        return nil;
    }

    NSOperation *operation = [NSOperation new];
    dispatch_async(self.ioQueue, ^{
        if (operation.isCancelled) {
            return;
        }

        @autoreleasepool {
            // åœ¨ç£ç›˜ç¼“å­˜ä¸­æŸ¥æ‰¾å›¾ç‰‡ã€‚
            UIImage *diskImage = [self diskImageForKey:key];
            if (diskImage &amp;&amp; self.shouldCacheImagesInMemory) {
                NSUInteger cost = SDCacheCostForImage(diskImage);
                [self.memCache setObject:diskImage forKey:key cost:cost];
            }

            dispatch_async(dispatch_get_main_queue(), ^{
                doneBlock(diskImage, SDImageCacheTypeDisk);
            });
        }
    });

    return operation;
}
</code></pre><h3 id="ï¼»5ï¼½-makeObjectsPerformSelector"><a href="#ï¼»5ï¼½-makeObjectsPerformSelector" class="headerlink" title="ï¼»5ï¼½-makeObjectsPerformSelector:"></a>ï¼»5ï¼½<code>-makeObjectsPerformSelector:</code></h3><p>åœ¨å…¨å±€æœç´¢<code>self.runningOperations</code>æ—¶ï¼Œå‘ç°äº†å–æ¶ˆå…¨éƒ¨operationçš„æ–¹æ³•<code>cancelAll</code>ã€‚å…¶ä¸­çš„<code>-makeObjectsPerformSelector:</code>å¼•èµ·äº†æˆ‘çš„æ³¨æ„ â€”â€” çœ‹èµ·æ¥æ˜¯ä¸ªä»æ²¡è§è¿‡çš„é«˜å¤§ä¸Šçš„æ–¹æ³•è¯¶ï½ï¼ˆæ˜Ÿæ˜Ÿçœ¼âœ¨ï¼‰</p>
<pre><code>- (void)cancelAll {
    @synchronized (self.runningOperations) {
        NSArray *copiedOperations = [self.runningOperations copy];
        [copiedOperations makeObjectsPerformSelector:@selector(cancel)];
        [self.runningOperations removeObjectsInArray:copiedOperations];
    }
}
</code></pre><p>ç‚¹è¿›å»ä¸€ç§ï¼ŒåŸæ¥æ˜¯ä¸ªå¹³æ—¶ä¸å¤ªç”¨åˆ°çš„<code>NSArray</code>æ–¹æ³•ï¼š</p>
<pre><code>- (void)makeObjectsPerformSelector:(SEL)aSelector NS_SWIFT_UNAVAILABLE(&quot;Use enumerateObjectsUsingBlock: or a for loop instead&quot;);
- (void)makeObjectsPerformSelector:(SEL)aSelector withObject:(nullable id)argument NS_SWIFT_UNAVAILABLE(&quot;Use enumerateObjectsUsingBlock: or a for loop instead&quot;);
</code></pre><p>ä½œç”¨æ˜¯â€œ<a href="https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/index.html#//apple_ref/doc/uid/20000137-BABCBHFG" title="https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/index.html#//apple_ref/doc/uid/20000137-BABCBHFG" target="_blank" rel="external">ç»™arrayä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½å‘é€ä¸€ä¸ªç»™å®šçš„selectoræ ‡è¯†çš„æ¶ˆæ¯</a>â€ï¼Œä»ç¬¬ä¸€ä¸ªå¯¹è±¡å¼€å§‹ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>åœ¨<code>ï¼cancelAll</code>è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œè£…ç€æ­£åœ¨è¿è¡Œçš„operationçš„æ•°ç»„<code>copiedOperations</code>ç»™æ¯ä¸€ä¸ªoperationéƒ½å‘é€äº†ä¸€ä¸ª<code>cancel</code>çš„æ¶ˆæ¯ï¼Œå¹¶ä¸”å°†æ•°ç»„ä¸­çš„å…¨éƒ¨å…ƒç´ ç§»é™¤ã€‚ç»“æŸæˆ˜æ–—ã€‚</p>
<p>å†è¿›ä¸€æ­¥æƒ³ï¼Œ<code>NSArray</code>ä¸­æœ‰è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œ<code>NSSet</code>ä¸­åº”è¯¥ä¹Ÿæœ‰è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚éƒ½æ˜¯è®©å­å…ƒç´ æ‰¹é‡è°ƒç”¨åŒä¸€æ–¹æ³•çš„ä½œç”¨ï¼Œä¸åƒforå¾ªç¯é‚£æ ·å¯ä»¥åŒºåˆ«å¯¹å¾…ä¸åŒå…ƒç´ ï¼Œè¿™ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[[SourceRead] SDWebImage-1]]></title>
      <url>http://www.calios.gq/2016/01/28/%5BSourceRead%5D-SDWebImage-1/</url>
      <content type="html"><![CDATA[<p><a href="https://github.com/rs/SDWebImage" title="https://github.com/rs/SDWebImage" target="_blank" rel="external">SDWebImage</a>ä½œä¸ºä¸€ä¸ªå°†æœåŠ¡å™¨è¿œç¨‹çš„å›¾ç‰‡è·å–åˆ°UIImageViewä¸Šæ˜¾ç¤ºçš„ä¸€ä¸ªç¬¬ä¸‰æ–¹ç±»åº“ï¼Œäºæˆ‘è€Œè¨€ï¼Œæœ€ä¸ºå¸¸ç”¨çš„APIè«è¿‡äº<code>-sd_setImageWithURL: placeholderImage:</code>æ–¹æ³•ã€‚ä¸å¦¨ä»¥æ­¤å…¥æ‰‹ï¼Œæ‹¨å¼€å®ƒæºä»£ç çš„ç¥ç§˜é¢çº±ã€‚</p>
<hr>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/QQ20160506-0.png" alt="" title="UIImage+WebCache.mç‰‡æ®µ"></p>
<p>ç‚¹å…¥.mæ–‡ä»¶ï¼Œå‘ç°ä¸Šå›¾ä¸­ä»ä¸Šè‡³ä¸‹çš„ä¸€åˆ—æ–¹æ³•ï¼Œéƒ½ä¾æ¬¡æŒ‡å‘ç›¸é‚»çš„ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼Œä¸è¿‡åœ¨ä¸Šå±‚è°ƒç”¨æ—¶ä¸ªåˆ«å‚æ•°ç½®ä¸º<code>nil</code>æˆ–<code>0</code>ã€‚ç›´åˆ°<code>-sd_setImageWithURL: placeholderImage:options:progress:completed:</code>è¿™ä¸ª<strong>æ ¸å¿ƒæ–¹æ³•</strong>ï¼Œæ–¹è§ç«¯å€ªã€‚</p>
<pre><code>- (void)sd_setImageWithURL:(NSURL *)url placeholderImage:(UIImage *)placeholder options:(SDWebImageOptions)options progress:(SDWebImageDownloaderProgressBlock)progressBlock completed:(SDWebImageCompletionBlock)completedBlock {
    [self sd_cancelCurrentImageLoad];
    objc_setAssociatedObject(self, &amp;imageURLKey, url, OBJC_ASSOCIATION_RETAIN_NONATOMIC); // [1]

    if (!(options &amp; SDWebImageDelayPlaceholder)) { // [2]
        dispatch_main_async_safe(^{
            self.image = placeholder;
        });
    }
...
}
</code></pre><h3 id="ï¼»1ï¼½objc-setAssociatedObject"><a href="#ï¼»1ï¼½objc-setAssociatedObject" class="headerlink" title="ï¼»1ï¼½objc_setAssociatedObject"></a>ï¼»1ï¼½objc_setAssociatedObject</h3><h4 id="1-è¿™è´§æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-è¿™è´§æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. è¿™è´§æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1. è¿™è´§æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>æ ¹æ®è‹¹æœçš„<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/ObjCRuntimeRef/#//apple_ref/c/func/objc_setAssociatedObject" title="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/ObjCRuntimeRef/#//apple_ref/c/func/objc_setAssociatedObject" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>ï¼š</p>
<blockquote>
<p><code>objc_setAssociatedObject</code>æ˜¯Objectiveï¼Cè¿è¡Œæ—¶çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥å°†ä¸¤ä¸ªå¯¹è±¡å…³è”èµ·æ¥ã€‚è¿™ä¸ªå‡½æ•°éœ€è¦å››ä¸ªå‚æ•°ï¼šåŸå¯¹è±¡ï¼Œä¸€ä¸ªé”®ï¼Œä¸€ä¸ªå€¼ï¼Œå’Œä¸€ä¸ªå…³è”ç­–ç•¥çš„å¸¸é‡ã€‚å…¶ä¸­ï¼Œé”®æ˜¯ä¸€ä¸ªvoidæŒ‡é’ˆã€‚</p>
<ul>
<li>æ¯ä¸ªå…³è”çš„é”®éƒ½å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚é€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé™æ€å˜é‡ã€‚</li>
<li>å…³è”ç­–ç•¥æŒ‡å®šäº†è¢«å…³è”çš„å¯¹è±¡æ˜¯assignedï¼Œretainedï¼Œcopiedè¿˜æ˜¯atomic/nonatomicã€‚è¿™ä¸ªå½¢å¼å’Œå£°æ˜propertyæ˜¯ç±»ä¼¼çš„ã€‚å¯ä»¥ç”¨å¸¸é‡æ¥æŒ‡å®šè¿™ç§å…³ç³»ã€‚</li>
</ul>
</blockquote>
<h4 id="2-ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šä½¿ç”¨ï¼Ÿ"><a href="#2-ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šä½¿ç”¨ï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šä½¿ç”¨ï¼Ÿ"></a>2. ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šä½¿ç”¨ï¼Ÿ</h4><p><a href="http://stackoverflow.com/a/16313377/1594792" title="http://stackoverflow.com/a/16313377/1594792" target="_blank" rel="external">abbood</a>å°†å®ƒçš„ä½¿ç”¨åœºæ™¯å½’ç»“ä¸ºå¦‚ä¸‹å‡ ç‚¹ï¼š</p>
<p>(1)ç»™ç±»åˆ«ï¼ˆcategoryï¼‰æ·»åŠ å®ä¾‹å˜é‡ã€‚</p>
<p>å‡è®¾ä½ æƒ³ç»™ä½ ä¸èƒ½ä¿®æ”¹çš„å¯¹è±¡ï¼ˆæ¯”å¦‚è¯´è‹¹æœå®˜æ–¹æä¾›çš„å¯¹è±¡ï¼ŒUIImageã€UILabelç¥é©¬çš„ã€‚æ³¨æ„ï¼šæˆ‘ä»¬è¿™é‡Œè®¨è®ºçš„æ˜¯ä¿®æ”¹å¯¹è±¡æœ¬èº«ï¼Œä¸åŒ…æ‹¬å°†å…¶å­ç±»åŒ–ã€‚ï¼‰çš„ç±»åˆ«ä¸­æ·»åŠ ä¸ªè‡ªå®šä¹‰çš„å±æ€§ï¼ˆ<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html" title="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html" target="_blank" rel="external">è¿™å‡ ä¹æ˜¯Objective-Cæœ€å¤§çš„ç¼ºç‚¹</a>ï¼‰ï¼Œæ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³ç»™<code>UIImage</code>æ·»åŠ ä¸€ä¸ªtitleçš„å±æ€§ã€‚</p>
<pre><code>// UIImage-Title.h:
@interface UIImage(Title)
@property(nonatomic, copy) NSString *title;
@end 

// UIImage-Title.m:
#import &lt;Foundation/Foundation.h&gt;
#import &lt;objc/runtime.h&gt;

static char titleKey;

@implementation UIImage(Title)
- (NSString *)title
{
    return objc_getAssociatedObject(self, &amp;titleKey);
}

- (void)setTitle:(NSString *)title
{
    objc_setAssociatedObject(self, &amp;titleKey, title, OBJC_ASSOCIATION_COPY);
}
@end
</code></pre><p>(2)åŠ¨æ€åœ°ç»™å¯¹è±¡æ·»åŠ çŠ¶æ€ä¿¡æ¯ï¼Œè€Œè¿™ä¸ªå¯¹è±¡çš„å®ä¾‹å˜é‡å³ä¾¿ç»“åˆKVOä¹Ÿä¸èƒ½è¾¾åˆ°ç›®çš„ã€‚ï¼ˆæœ‰ç‚¹æ‹—å£ï¼Œæ…¢æ…¢ç†è§£ã€‚ã€‚ï¼‰</p>
<p>æ„æ€æ˜¯è¯´ï¼Œä½ çš„å¯¹è±¡åªæœ‰åœ¨runtimeæœŸé—´ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼ŒåŠ¨æ€åœ°ï¼‰æ‰èƒ½è·å–çŠ¶æ€ä¿¡æ¯ã€‚æ‰€ä»¥ï¼Œå°½ç®¡ä½ å¯ä»¥æŠŠçŠ¶æ€ä¿¡æ¯å­˜åœ¨å®ä¾‹å˜é‡ä¸­ï¼Œä½†å®é™…ä¸Šä½ æ˜¯è¦åœ¨runtimeæœŸé—´æŠŠè¿™ä¸ªä¿¡æ¯å’Œå¯¹è±¡ç»‘å®šèµ·æ¥ã€å¹¶ä¸”åŠ¨æ€åœ°æŠŠå®ƒå’Œå¦ä¸€ä¸ªå¯¹è±¡å…³è”ï¼Œè¦å¼ºè°ƒçš„æ˜¯<strong>è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡çš„åŠ¨æ€çŠ¶æ€</strong>è¿™ä¸ªäº‹å®ã€‚</p>
<p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªä¸é”™çš„<a href="https://github.com/alexzielenski/ZKRevealingTableViewCell/blob/master/vendor/ZKRevealingTableViewCell.m" title="https://github.com/alexzielenski/ZKRevealingTableViewCell/blob/master/vendor/ZKRevealingTableViewCell.m" target="_blank" rel="external">ä¾‹å­</a>ä¸­çš„ä¸€ä¸ªç‰‡æ®µï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå…³è”å¯¹è±¡ä½¿ç”¨äº†KVOé€šçŸ¥ï¼Œä½†KVOå¹¶ä¸æ˜¯å…³è”å¯¹è±¡çš„å¿…è¦æ¡ä»¶ã€‚</p>
<pre><code>static char BOOLRevealing;

- (BOOL)isRevealing
{
    return [(NSNumber*)objc_getAssociatedObject(self, &amp;BOOLRevealing) boolValue];
} 

- (void)_setRevealing:(BOOL)revealing
{
    [self willChangeValueForKey:@&quot;isRevealing&quot;];
    objc_setAssociatedObject(self, &amp;BOOLRevealing, 
       [NSNumber numberWithBool:revealing], OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    [self didChangeValueForKey:@&quot;isRevealing&quot;];
}
</code></pre><p>å¼•ä¸€æ®µ<em>SDWebImage</em>ä¸­çš„ä»£ç ï¼Œçº¯æ­£çš„ã€ä¸å«KVOçš„é•¿è¿™æ ·å­ï¼š</p>
<pre><code>- (void)setShowActivityIndicatorView:(BOOL)show{
    objc_setAssociatedObject(self, &amp;TAG_ACTIVITY_SHOW, [NSNumber numberWithBool:show], OBJC_ASSOCIATION_RETAIN);
}

- (BOOL)showActivityIndicatorView{
    return [objc_getAssociatedObject(self, &amp;TAG_ACTIVITY_SHOW) boolValue];
}
</code></pre><p>å…¶ä¸­ï¼Œ<code>TAG_ACTIVITY_SHOW</code>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code>static char TAG_ACTIVITY_SHOW;
</code></pre><h4 id="3-æ­¤å¤„ä½œç”¨"><a href="#3-æ­¤å¤„ä½œç”¨" class="headerlink" title="3. æ­¤å¤„ä½œç”¨"></a>3. æ­¤å¤„ä½œç”¨</h4><p>æ‰€ä»¥ï¼Œè¿™é‡Œç›¸å½“äºç»™UIImageViewçš„categoryæ·»åŠ äº†ä¸€ä¸ª<code>imageURLKey</code>çš„å±æ€§ï¼Œæˆ‘çŒœæƒ³ï¼Œæ˜¯ç”¨æ¥è¡¨ç¤ºå›¾ç‰‡èµ„æºçš„å”¯ä¸€æ€§çš„keyã€‚</p>
<h3 id="ï¼»2ï¼½-amp"><a href="#ï¼»2ï¼½-amp" class="headerlink" title="ï¼»2ï¼½&amp;"></a>ï¼»2ï¼½&amp;</h3><h4 id="ä¸ºä»€ä¹ˆè¿™é‡Œç”¨-amp-è€Œä¸æ˜¯-amp-amp-å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿™é‡Œç”¨-amp-è€Œä¸æ˜¯-amp-amp-å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿™é‡Œç”¨&amp;è€Œä¸æ˜¯&amp;&amp;å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¿™é‡Œç”¨<code>&amp;</code>è€Œä¸æ˜¯<code>&amp;&amp;</code>å‘¢ï¼Ÿ</h4><p>è¶æœºæ¡ä¸€æ¡åŸºç¡€çŸ¥è¯†ï¼š</p>
<p><code>&amp;</code>æ˜¯æŒ‰ä½è¿ç®—çš„åŒç›®è¿ç®—ç¬¦ï¼ŒåŠŸèƒ½æ˜¯å‚ä¸å°†è¿ç®—çš„ä¸¤ä¸ªæ•°å„è‡ªå¯¹åº”çš„äºŒè¿›ä½ç›¸ä¸ã€‚<br>ä¾‹å¦‚ï¼š9&amp;5å¯ä»¥å†™ç®—å¼ï¼š00001001 &amp; 00000101 ï¼ 00000001ï¼Œå³ 9 &amp; 5 = 1ã€‚</p>
<p><code>&amp;&amp;</code>æ£€æŸ¥ç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœä¸ºfalseï¼Œå°±ä¸å†å¤„ç†ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼Œç›´æ¥è¿”å›falseã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™é‡Œçš„<code>(options &amp; SDWebImageDelayPlaceholder)</code>ï¼Œæ˜¯ä¸¤ä¸ªæšä¸¾å€¼è¿›è¡ŒæŒ‰ä½è¿ç®—ï¼Œè€Œéæˆ‘ä»¬å¹³å¸¸å†™çš„true/falseçš„å¸ƒå°”åˆ¤æ–­ã€‚</p>
<p>éšæ‰‹ç‚¹å…¥æšä¸¾å€¼çš„å®šä¹‰ï¼Œå‘ç°è¿™ä¸€å †ï¼š</p>
<pre><code>typedef NS_OPTIONS(NSUInteger, SDWebImageOptions) {
    /**
     * By default, when a URL fail to be downloaded, the URL is blacklisted so the library won&apos;t keep trying.
     * This flag disable this blacklisting.
     */
    SDWebImageRetryFailed = 1 &lt;&lt; 0, // [3]

    /**
     * By default, image downloads are started during UI interactions, this flags disable this feature,
     * leading to delayed download on UIScrollView deceleration for instance.
     */
    SDWebImageLowPriority = 1 &lt;&lt; 1,

    /**
     * This flag disables on-disk caching
     */
    SDWebImageCacheMemoryOnly = 1 &lt;&lt; 2,
    ...
};
</code></pre><p>è€Œå…¶å®<code>SDWebImageDelayPlaceholder</code>æ­£æ˜¯è¿™ä¸€ç¾¤æšä¸¾å€¼ä¸­çš„ä¸€ä¸ªã€‚æ‰€ä»¥çŒœæµ‹ï¼Œè¿™å¥ä»£ç çš„æ„æ€æ˜¯è¯´ï¼Œä¼ å…¥çš„<code>option</code>ä¸ºåŒ…å«<code>SDWebImageDelayPlaceholder</code>æ—¶è¯¥å¦‚ä½•å¦‚ä½•â€¦â€¦ï¼ˆå¯ä¸ºå˜›æ›²æ›²æŠ˜æŠ˜åœ°ä¸ç›´è¯´å‘¢ï¼Ÿ=_=|||ï¼‰ ä½†è¿˜æ˜¯æ²¡æœ‰è§£å†³ä¸ºä»€ä¹ˆç”¨<code>&amp;</code>è€Œä¸ç”¨<code>&amp;&amp;</code>çš„é—®é¢˜ã€‚ä»”ç»†ä¸€çœ‹ï¼Œè¿™é‡Œçš„æšä¸¾å¹¶éè‡ªå·±å¹³æ—¶ä½¿ç”¨çš„<code>NS_ENUM</code>ï¼Œè€Œæ˜¯<code>NS_OPTIONS</code>ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒäºŒè€…æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œ<code>NS_ENUM</code>æ˜¯æ¯”è¾ƒé€šç”¨çš„æƒ…å†µï¼Œè€Œä½æ©ç æ—¶ç”¨<code>NS_OPTIONS</code>ï¼Œå…·ä½“çš„è§£é‡Šå¯ä»¥çœ‹<a href="http://nshipster.com/ns_enum-ns_options/" title="http://nshipster.com/ns_enum-ns_options/" target="_blank" rel="external">Matttçš„è¿™ç¯‡</a>ã€‚</p>
<p><strong> â€”â€”â€”â€” 20160216æ›´æ–°â€”â€”â€”â€” </strong><br>é‰´äºåæœŸè¶Šæ¥è¶Šå¤šçš„ä½è¿ç®—å‡ºç°ï¼Œè¿‡æœŸçš„è–„åº•å­holdä¸ä½äº†ã€‚è¿™é‡Œä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ›´å¤šè¯¦ç»†ä»‹ç»å‚è€ƒ<a href="http://www.cnblogs.com/cute/p/3786283.html" title="http://www.cnblogs.com/cute/p/3786283.html" target="_blank" rel="external">è¿™ç¯‡</a>ã€‚</p>
<pre><code>typedef NS_OPTIONS(NSUInteger, MyOption) {
    MyOptionNone = 0, //äºŒè¿›åˆ¶0000,åè¿›åˆ¶0
    MyOption1 = 1 &lt;&lt; 0,//0001,1
    MyOption2 = 1 &lt;&lt; 1,//0010,2
    MyOption3 = 1 &lt;&lt; 2,//0100,4
    MyOption4 = 1 &lt;&lt; 3,//1000,8
};
##ä½¿ç”¨:
//å£°æ˜å®šä¹‰æšä¸¾å˜é‡
MyOption option = MyOption1 | MyOption2;//0001 | 0010 = 0011,3

//æ£€æŸ¥æ˜¯å¦åŒ…å«æŸé€‰å‹
if ( option &amp; MyOption3 ){ //0011 &amp; 0100 = 0000
     //åŒ…å«MyOption3
}else{
     //ä¸åŒ…å«MyOption3
}

//å¢åŠ é€‰é¡¹:
option = option | MyOption4;//0011 | 1000 = 1011, 11
//å‡å°‘é€‰é¡¹
option = option &amp; (~MyOption4);//1011 &amp; (~1000) = 1011 &amp; 0111 = 0011, 3
</code></pre><p>æˆ‘çš„ç†è§£æ˜¯ï¼ŒBitwise <code>AND</code>ï¼Œå³<code>&amp;</code>ï¼Œç›¸å½“äºä¸¤ä¸ªoptionå–äº¤é›†ï¼›Bitwise <code>OR</code>ï¼Œå³<code>|</code>ï¼Œç›¸å½“äºä¸¤ä¸ªoptionå–å¹¶é›†ã€‚</p>
<p>å…³äº<code>NS_OPTIONS</code>å’Œ<code>NS_ENUM</code>çš„å·®åˆ«ï¼Œåæ¥æŸ¥åˆ°çš„orkodençš„<a href="http://stackoverflow.com/a/21384671/1594792" target="_blank" rel="external">å›ç­”</a>ä¸€è¯­ä¸­çš„ğŸ˜‚ï¼š</p>
<blockquote>
<p>Thereâ€™s a basic difference between an enum and a bitmask (option). You use an enum to list exclusive states. A bitmask is used when several properties can apply at the same time.</p>
</blockquote>
<p><strong> â€”â€”â€”â€” 20160216æ›´æ–°ç»“æŸâ€”â€”â€”â€” </strong></p>
<h3 id="ï¼»3ï¼½-lt-lt"><a href="#ï¼»3ï¼½-lt-lt" class="headerlink" title="ï¼»3ï¼½\&lt;\&lt;"></a>ï¼»3ï¼½\&lt;\&lt;</h3><p><code>&lt;&lt;</code>ä¸ºæŒ‰ä½å·¦ç§»è¿ç®—ç¬¦ã€‚å…·ä½“å®ƒ<a href="http://stackoverflow.com/questions/141525/what-are-bitwise-shift-bit-shift-operators-and-how-do-they-work" title="http://stackoverflow.com/questions/141525/what-are-bitwise-shift-bit-shift-operators-and-how-do-they-work" target="_blank" rel="external">æ˜¯ä»€ä¹ˆä»¥åŠæ€æ ·è¿ç®—</a>ï¼Œè¿™é‡Œç•¥å»ä¸æäº†ã€‚ç®€å•ä¸¾ä¾‹å¦‚ä¸‹ï¼š<br>SDWebImageAvoidAutoSetImage<br>    1 &lt;&lt; 2 å³ äºŒè¿›åˆ¶çš„100 ï¼ åè¿›åˆ¶ 2çš„å¹³æ–¹<br>    1 &lt;&lt; 3 å³ äºŒè¿›åˆ¶çš„1000 ï¼ åè¿›åˆ¶ 2çš„3æ¬¡æ–¹</p>
<p>æ‰€ä»¥ï¼Œ<code>1 &lt;&lt; n</code>ï¼Œå³äºŒè¿›åˆ¶1å·¦ä½ç§»nä½ï¼Œç›¸å½“äºåè¿›åˆ¶2çš„næ¬¡æ–¹ã€‚</p>
<h3 id="ï¼»4ï¼½å®å®šä¹‰"><a href="#ï¼»4ï¼½å®å®šä¹‰" class="headerlink" title="ï¼»4ï¼½å®å®šä¹‰"></a>ï¼»4ï¼½å®å®šä¹‰</h3><p><code>dispatch_main_sync_safe</code>å’Œ<code>dispatch_main_async_safe</code>æ˜¯SDWebImageå®šä¹‰çš„ä¸¤ä¸ªå®ã€‚è‹¥å½“å‰æ˜¯ä¸»çº¿ç¨‹ï¼Œåˆ™æ‰§è¡Œblockï¼›è‹¥ä¸æ˜¯ä¸»çº¿ç¨‹ï¼Œåˆ™åœ¨ä¸»çº¿ç¨‹ä¸­åŒæ­¥/å¼‚æ­¥ä¹‹è¡Œblockã€‚</p>
<pre><code>#define dispatch_main_sync_safe(block)\
    if ([NSThread isMainThread]) {\
        block();\
    } else {\
        dispatch_sync(dispatch_get_main_queue(), block);\
    }

#define dispatch_main_async_safe(block)\
    if ([NSThread isMainThread]) {\
        block();\
    } else {\
        dispatch_async(dispatch_get_main_queue(), block);\
    }
</code></pre><p>æ¯è¡Œåé¢çš„åæ–œæ <code>\</code>è¡¨ç¤ºåœ¨ä¸å½±å“å«ä¹‰çš„æ¡ä»¶ä¸‹æ¢è¡Œï¼Œéœ€æ³¨æ„è¦åœ¨å›è½¦ä¹‹å‰åŠ åæ–œæ <code>\</code>ã€‚</p>
<p>å†çœ‹ä¸€ä¸ªå¸¸è§çš„å®å®šä¹‰ã€‚</p>
<pre><code>#define DLog(fmt, ...)    NSLog( @&quot;&lt;%@:(%d)&gt; %s \n ----- %@&quot;, [[NSString stringWithUTF8String:__FILE__] lastPathComponent], __LINE__, __func__, [NSString stringWithFormat:(fmt), ##__VA_ARGS__] )
</code></pre><p>è¿™ä¸ªç”¨äºLogçš„å®å®šä¹‰ä¸­ï¼Œæœ‰è¿™æ ·å‡ ç‚¹éœ€è¦è§£é‡Šçš„ï¼š</p>
<ul>
<li><code>DLog(fmt, ...)</code>çš„ç¬¬äºŒä¸ªå‚æ•°<code>...</code>ã€‚åœ¨å®å®šä¹‰çš„æ—¶å€™ï¼Œå†™ä¸ºâ€¦çš„å‚æ•°è¢«å«åšå¯å˜å‚æ•°(variadic)ï¼Œå…¶ä¸ªæ•°æ˜¯ä¸é™å®šçš„ã€‚åœ¨è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªå‚æ•°fmtå°†è¢«å•ç‹¬å¤„ç†ï¼Œåé¢çš„å‚æ•°å°†è¢«ä½œä¸ºæ•´ä½“çœ‹å¾…ã€‚</li>
<li>é€šå¸¸å‰åè¢«<code>__</code>åŒ…å›´çš„éƒ½æ˜¯é¢„å®šä¹‰å®ã€‚å¦‚è¿™é‡Œçš„<code>__FILE__</code>ï¼ˆå½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼‰ï¼Œ<code>__LINE__</code>ï¼ˆåœ¨æ–‡ä»¶ä¸­çš„è¡Œæ•°ï¼‰ï¼Œ<code>__func__</code>ï¼ˆè¯¥å®æ‰€åœ¨çš„è¡Œæ‰€å±çš„å‡½æ•°åï¼‰ã€‚</li>
<li><code>##__VA_ARGS__</code>è¡¨ç¤ºçš„æ˜¯å®å®šä¹‰ä¸­çš„â€¦ä¸­çš„æ‰€æœ‰å‰©ä½™å‚æ•°ã€‚æ‰“å¤´çš„<code>##</code>è¡¨ç¤ºå°†ä¸¤ä¸ªå‚æ•°è¿æ¥èµ·æ¥è¿™ç§è¿ç®—ã€‚</li>
</ul>
<h3 id="ï¼»5ï¼½SDWebImageOptionsä¸­å‡ ä¸ªæœ‰è¶£çš„æšä¸¾å€¼"><a href="#ï¼»5ï¼½SDWebImageOptionsä¸­å‡ ä¸ªæœ‰è¶£çš„æšä¸¾å€¼" class="headerlink" title="ï¼»5ï¼½SDWebImageOptionsä¸­å‡ ä¸ªæœ‰è¶£çš„æšä¸¾å€¼"></a>ï¼»5ï¼½<code>SDWebImageOptions</code>ä¸­å‡ ä¸ªæœ‰è¶£çš„æšä¸¾å€¼</h3><pre><code>typedef NS_OPTIONS(NSUInteger, SDWebImageOptions) {
    ...
    /**
     * By default, placeholder images are loaded while the image is loading. This flag will delay the loading
     * of the placeholder image until after the image has finished loading.
     */
    SDWebImageDelayPlaceholder = 1 &lt;&lt; 9,
    ...
        /**
     * By default, image is added to the imageView after download. But in some cases, we want to
     * have the hand before setting the image (apply a filter or add it with cross-fade animation for instance)
     * Use this flag if you want to manually set the image in the completion when success
     */
    SDWebImageAvoidAutoSetImage = 1 &lt;&lt; 11
</code></pre><p>åœ¨ä¸Šé¢æåˆ°çš„<strong>æ ¸å¿ƒæ–¹æ³•</strong>ä¸­ï¼Œæœ‰è¿™æ ·å‡ ä¸ª<code>SDWebImageOptions</code>å¼•èµ·äº†æˆ‘çš„æ³¨æ„ã€‚</p>
<p>ä¸€ä¸ªæ˜¯<code>SDWebImageDelayPlaceholder</code>ã€‚è¯´æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œplaceholderçš„å›¾ç‰‡ä¼šåœ¨ç½‘ç»œå›¾ç‰‡åŠ è½½çš„è¿‡ç¨‹ä¸­å°±è¢«åŠ è½½å®Œæ¯•ï¼Œè¿™ä¸ªflagä¼šå°†placeholderå›¾ç‰‡ç­‰åŠ è½½å»¶è¿Ÿåˆ°ç½‘ç»œå›¾ç‰‡å®ŒæˆåŠ è½½ä¹‹åã€‚æ‰€ä»¥è¿™é‡Œ</p>
<pre><code>if (!(options &amp; SDWebImageDelayPlaceholder)) { // [2]
    dispatch_main_async_safe(^{
        self.image = placeholder;
    });
}
</code></pre><p>æ˜¯è¯´å¦‚æœä½¿ç”¨è€…ä¼ å…¥çš„<code>options</code>ä¸æ˜¯<code>SDWebImageDelayPlaceholder</code>ï¼Œå°±æ­£å¸¸åœ°æŠŠplaceholderå›¾ç‰‡èµ‹ç»™å½“å‰çš„<code>imageView</code>ã€‚ä¹‹å‰ç¬¬ä¸€éçœ‹æ—¶æ²¡æœ‰çœ‹æ‡‚ï¼ŒåŸæ¥å°±æ˜¯â€œè´Ÿè´Ÿå¾—æ­£â€çš„æ„æ€ã€‚</p>
<p>å¦ä¸€ä¸ªæ˜¯<code>SDWebImageAvoidAutoSetImage</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾ç‰‡ä¼šåœ¨ä¸‹è½½å®Œæ¯•å<em>è‡ªåŠ¨</em>æ·»åŠ ç»™<code>imageView</code>ã€‚ä½†æœ‰äº›æ—¶å€™ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æƒ³åœ¨è®¾ç½®å›¾ç‰‡ä¹‹å‰åŠ ä¸€äº›å›¾ç‰‡å¤„ç†ï¼ˆåŠ ä¸ªæ»¤é•œæˆ–è€…æ¸å˜åŠ¨ç”»ä¹‹ç±»çš„ï¼‰ï¼Œå°±éœ€è¦åœ¨ä¸‹è½½æˆåŠŸæ—¶<em>æ‰‹åŠ¨</em>ä½¿ç”¨è¿™ä¸ªflagæ¥è®¾ç½®å›¾ç‰‡äº†ã€‚<strong>ä»¥åæƒ³å®ç°ç±»ä¼¼æ•ˆæœå°±çŸ¥é“è¯¥åœ¨å“ªé‡Œè®¾ç½®ä»€ä¹ˆå‚æ•°äº†ã€‚</strong></p>
<pre><code>if (image &amp;&amp; (options &amp; SDWebImageAvoidAutoSetImage) &amp;&amp; completedBlock)
{
        completedBlock(image, error, cacheType, url);
        return;
}
</code></pre><p>æ‰€ä»¥è¿™é‡Œåˆ¤æ–­ï¼Œå¦‚æœimageä¸ä¸ºç©ºï¼Œè€Œ<code>options</code>è¡¨æ˜éœ€è¦å¢åŠ å›¾ç‰‡å¤„ç†ï¼Œä¸”åŠ è½½å®Œæˆçš„<code>completeBlock</code>ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå°±ä»£å…¥å‚æ•°ï¼Œæ‰§è¡Œ<code>completeBlock</code>ã€‚</p>
<h3 id="ï¼»6ï¼½setNeedsLayoutå’ŒlayoutIfNeeded"><a href="#ï¼»6ï¼½setNeedsLayoutå’ŒlayoutIfNeeded" class="headerlink" title="ï¼»6ï¼½setNeedsLayoutå’ŒlayoutIfNeeded"></a>ï¼»6ï¼½<code>setNeedsLayout</code>å’Œ<code>layoutIfNeeded</code></h3><p>æ¥ç€ä¸Šé¢çš„ifåˆ¤æ–­ï¼š</p>
<pre><code>else if (image) 
{
         wself.image = image;
         [wself setNeedsLayout];
} 
else {
          if ((options &amp; SDWebImageDelayPlaceholder)) {
                  wself.image = placeholder;
                  [wself setNeedsLayout];
          }
 }
</code></pre><p>å¦‚æœåä¸¤ä¸ªæ¡ä»¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸æ»¡è¶³ï¼Œé‚£ä¹ˆå°±ç›´æ¥å°†imageèµ‹ç»™å½“å‰çš„<code>imageView</code>ï¼Œå¹¶è°ƒç”¨<code>setNeedsLayout</code>å°†å…¶æ ‡è®°ä¸ºéœ€è¦é‡æ–°å¸ƒå±€ï¼›å¦‚æœimageä¸ºç©ºï¼Œè€Œ<code>options</code>è¡¨æ˜éœ€è¦å»¶è¿ŸåŠ è½½placeholderå›¾ç‰‡ï¼Œé‚£ä¹ˆå°±å°†placeholderå›¾ç‰‡èµ‹ç»™å½“å‰<code>imageView</code>ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºéœ€è¦é‡æ–°å¸ƒå±€ã€‚</p>
<p>ä¸<code>setNeedsLayout</code>ç´§å¯†ç›¸å…³çš„<code>layoutIfNeeded</code>ç”¨äºå®ç°å¸ƒå±€ã€‚æ¯”å¦‚ä½¿ç”¨äº†AutoLayoutçš„<code>UITableViewCell</code>ä¸­ç»å¸¸ä¼šè¿™æ ·äºŒè€…è¿ç€å†™ï¼š</p>
<pre><code>- (void)layoutSubviews
{
    [super layoutSubviews];

    [self.contentView setNeedsLayout];
    [self.contentView layoutIfNeeded];
}
</code></pre><p>å…·ä½“iOSç»˜åˆ¶UIçš„åŸç†åŠæ­¥éª¤ï¼Œè¿™é‡Œç®—æ˜¯ç»™è‡ªå·±æŒ–äº†ä¸ªå‘å§ï¼Œä»¥åçœ‹æ‡‚äº†ã€ç ”ç©¶æ˜ç™½äº†å†æ…¢æ…¢å¡«ä¸Šã€‚</p>
<hr>
<p><strong>Refï¼š</strong></p>
<ul>
<li><p><a href="http://stackoverflow.com/questions/5909412/what-is-objc-setassociatedobject-and-in-what-cases-should-it-be-used/16313377#16313377" target="_blank" rel="external">http://stackoverflow.com/questions/5909412/what-is-objc-setassociatedobject-and-in-what-cases-should-it-be-used/16313377#16313377</a></p>
</li>
<li><p>Matttçš„çœŸè¿¹ï¼š<a href="http://nshipster.com/associated-objects/" target="_blank" rel="external">http://nshipster.com/associated-objects/</a></p>
</li>
<li>ä¸­æ–‡ç‰ˆï¼š<a href="http://nshipster.cn/associated-objects/" target="_blank" rel="external">http://nshipster.cn/associated-objects/</a></li>
<li>å–µç¥è®²è§£å®å®šä¹‰é»‘é­”æ³•çš„ä¸€ç¯‡ï¼š<a href="http://onevcat.com/2014/01/black-magic-in-macro/" target="_blank" rel="external">http://onevcat.com/2014/01/black-magic-in-macro/</a></li>
<li>å…³äºä½è¿ç®—ï¼š<a href="http://www.cnblogs.com/cute/p/3786283.html" target="_blank" rel="external">http://www.cnblogs.com/cute/p/3786283.html</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[éšç¬”ä¸€åˆ™ 0127]]></title>
      <url>http://www.calios.gq/2016/01/28/%E9%9A%8F%E7%AC%94%E4%B8%80%E5%88%99-0127/</url>
      <content type="html"><![CDATA[<blockquote>
<p>æ­¦åŠŸç™¾è¯€ï¼Œä»¥æ„ä¸ºå…ˆï¼Œé‚£æ‰æ˜¯æ­¦åŠŸçš„ç²¾éª¨ç¥é«“ï¼›æ‹›å¼èº«æ³•ï¼Œéƒ½ä¸è¿‡æ˜¯çš®æ¯›è€Œå·²ã€‚è‹¥æ— ç²¾éª¨ï¼Œçš®æ¯›ä½•åœ¨ï¼Ÿä½†è‹¥å¾—äº†æ­¦é“ç¥é«“ã€‚å†å­¦çš®æ¯›ä¾¿æ˜¯æ˜“å¦‚åæŒäº†ã€‚ â€”â€”ã€Šæµ£èŠ±æ´—å‰‘å½•ã€‹</p>
</blockquote>
<p>æœ€è¿‘åœ¨æ€è€ƒæ„å»ºæŠ€æœ¯çŸ¥è¯†ä½“ç³»çš„é—®é¢˜ï¼Œè¯»åˆ°è¿™å¥ï¼Œå¿½ç„¶ç¦è‡³å¿ƒçµè€Œæœ‰æ‰€æ„Ÿã€‚</p>
<p>æ‰€è°“é«˜å¤§æ²‰é‡çš„åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æ•°æ®åº“ã€è®¡ç®—æœºç½‘ç»œã€æ“ä½œç³»ç»Ÿã€æ•°æ®ç»“æ„ä¹‹ç±»ï¼Œæ— éæ˜¯ç›¸å½“äºæ­¦åŠŸä¸­çš„ç¥éŸµï¼Œå› ä¸ºä»–ä»¬ä¸ä¾é™„äºæŸç§è¯­è¨€è€Œå­˜åœ¨ï¼Œå¦‚æµæ°´ï¼Œç”Ÿç”Ÿä¸æ¯ã€‚è€Œå…·ä½“çš„æŸç§è¯­è¨€ã€æŸä¸€ç§å…·ä½“çš„é¢†åŸŸåˆ™æ˜¯é‚£ç™¾å®¶å…µå™¨æ’è¡Œæ¦œä¸Šçš„ä¸€ä½ï¼Œæœ‰å…¶é”ä¸å¯å½“çš„éƒ¨åˆ†ï¼Œä¹Ÿæœ‰çœ‹ä¼¼çº·ç¹å¤æ‚ä½†åˆé—¨æˆ·å¤§å¼€çš„éƒ¨åˆ†ã€‚</p>
<p>æ‰€è°“å¤§å­¦è€…ï¼Œæ— éæ˜¯åœ¨ç»ƒå°±æˆ‘ä»¬çš„åŸºæœ¬åŠŸï¼Œè®©æˆ‘ä»¬é¢†æ‚Ÿè®¡ç®—æœºæŠ€æœ¯çš„ç²¾é«“ï¼Œä¸è‡³äºä¸ºè¯­è¨€ã€æŠ€æœ¯ä¹‹ä¼—å¤šè¿·èŠ±äº†çœ¼ã€‚å¯æƒœï¼Œå½“åˆçš„æˆ‘ä»¬èº«åœ¨æ£®æ—è€Œä¸çŸ¥æ ‘æœ¨ï¼Œå™«ååš±ï¼</p>
<p>æ‰€ä»¥ï¼Œå¯¹äºæŠ€æœ¯çŸ¥è¯†ä½“ç³»ï¼Œä¸å¦¨ä¸¤æ¡è…¿èµ°è·¯ï¼Œä¸€æ–¹é¢ï¼Œåœ¨å…·ä½“çš„å®è·µä¸­ä¸æ–­æ·±æŒ–ï¼Œå¤šé—®å‡ ä¸ªä¸ºä»€ä¹ˆï¼Œæ¯”å¦‚ç ”ç©¶AFNetworkingçš„æºç ï¼Œå°±å¯ä»¥é¡ºä¾¿è¿½ç©¶ä¸€ä¸‹ç½‘ç»œä¼ è¾“çš„åŸç†ï¼›å¦ä¸€æ–¹é¢ï¼Œä»åŸºç¡€çŸ¥è¯†å…¥æ‰‹ï¼Œç³»ç»Ÿåœ°æ•´ç†ä¸€ä¸‹ç½‘ç»œè‡ªé¡¶å‘ä¸‹çš„ä¸ƒå±‚ç»“æ„ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæ–¹èƒ½èä¼šè´¯é€šã€‚</p>
<p>æ›¾çœ‹æ…¶å†™è¿‡ï¼Œè¯´æ„å»ºçŸ¥è¯†ä½“ç³»å°±åƒæ˜¯çœ‹åœ°å›¾ï¼Œè¦ä¸æ–­åœ°æ”¾å¤§ã€ç¼©å°ï¼šæ”¾å¤§æ—¶ï¼Œä¸€ä¸ªå°é•‡éƒ½ä¼šå˜å¾—å¾ˆå¤§ï¼Œè¡—é“ã€æ¥¼æˆ¿ï¼Œäº‹æ— å·¨ç»†ï¼›ç¼©å°æ—¶ï¼Œçºµè§‚å…¨å›½ã€å…¨ä¸–ç•Œï¼Œæ¨ªå‘çš„æ¯”è¾ƒæ‰æœ‰æ„ä¹‰ã€‚å¦‚ä»Šæƒ³æ¥ï¼Œææœ‰æ‰€æ‚Ÿï¼Œç»ˆäºä»æ¥å—å˜æˆäº†ç†è§£ã€‚</p>
<p>äºæ˜¯ï¼Œä¾¿ä¸å†çƒ¦èºå¯¹äºæœåŠ¡å™¨æ–¹é¢çš„å­¦ä¹ è¯¥ä½¿ç”¨å“ªç§è¯­è¨€ã€å“ªç§æŠ€æœ¯ï¼Œå› ä¸ºä¸€é€šç™¾é€šï¼Œå…·ä½“çš„å“ªä¸€ç§å°±æ²¡é‚£ä¹ˆé‡è¦äº†ã€‚å²æœˆé•¿æ²³ä¸­ï¼Œç»ˆæ˜¯æœ‰é‚£ä¸€æ³¢åˆä¸€æ³¢çš„è¯­è¨€å’ŒæŠ€æœ¯å€’åœ¨æ²™æ»©ä¸Šï¼Œä¸å˜çš„ï¼Œæ˜¯åƒæ·˜ä¸‡æ¼‰çš„æ²³åº•é¹…åµï¼Œå†ç»å†²åˆ·è€Œæ—¥æ¸æ»‘æ¶¦ï¼Œç† ç† ç”Ÿè¾‰ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-8ï¼šåŸºæœ¬æ¶æ„]]></title>
      <url>http://www.calios.gq/2016/01/21/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-8%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/06/10/how_not_to_crash_8_infrastructure" target="_blank" rel="external">http://inessential.com/2015/06/10/how_not_to_crash_8_infrastructure</a></p>
<hr>
<p>å³ä½¿ä½ è§‰å¾—è‡ªå·±çš„appæ˜¯æ— æ•…éšœçš„ï¼Œä½ ä¹Ÿéœ€è¦æ”¶é›†å´©æºƒæ—¥å¿— â€”â€” å› ä¸ºæ²¡æœ‰ä»€ä¹ˆæ˜¯æ— æ•…éšœçš„ï¼šåªæœ‰<em>å·²çŸ¥</em>çš„å´©æºƒbugæ˜¯å¯ä»¥é¿å…çš„ã€‚</p>
<p>æœ‰ä¸€äº›åšè¿™ç±»äº‹æƒ…çš„æœåŠ¡ï¼Œæˆ‘å°è¯•è¿‡çš„è¿˜éƒ½ä¸é”™ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œå°±ä¸åšç‰¹åˆ«æ¨èäº†ã€‚</p>
<p>æœ‰å‡ ç‚¹åŠŸèƒ½æ˜¯å®ƒåº”è¯¥å…·å¤‡çš„ï¼š</p>
<ol>
<li>å´©æºƒæ—¥å¿—è¢«æ”¶é›†çš„è¿‡ç¨‹ï¼Œä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æŸ¥æ‰¾å®ƒä»¬å†å‘é€ç»™ä½ ã€‚å®ƒåº”è¯¥æ˜¯è‡ªåŠ¨åŒ–çš„ï¼ˆå¦‚æœåœ¨OS Xä¸Šï¼Œç”¨æˆ·å¯èƒ½ä¼šæ”¶åˆ°æç¤ºï¼›è€Œåœ¨iOSä¸Šæ²¡äººä¼šå¸Œæœ›è¢«å¼¹çª—ï¼‰ã€‚</li>
<li>è¦æœ‰ç»™å´©æºƒæ—¥å¿—åˆ†ç»„çš„æœºåˆ¶ï¼Œä½ å¾—åˆ°çš„åº”è¯¥æ˜¯æ¯ä¸€ç»„çš„æ±‡æ€»ï¼Œè¿™æ ·ä½ å°±èƒ½çŸ¥é“å“ªäº›ç»å¸¸å‡ºç°ï¼Œå“ªäº›ä¸ç»å¸¸å‡ºç°ã€‚</li>
<li>è¦èƒ½å¤Ÿç»™ä¸€ç»„é—®é¢˜æ ‡è®°ä¸ºå·²è§£å†³ã€‚</li>
</ol>
<p>å½“ç„¶ï¼Œä»…ä»…æ”¶é›†å´©æºƒæ—¥å¿—æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚ä½ åº”è¯¥å®šæœŸæŸ¥çœ‹å®ƒä»¬ã€‚ï¼ˆæˆ‘æ¯å¤©æ—©ä¸ŠæŸ¥çœ‹å´©æºƒæ—¥å¿—ã€‚ï¼‰</p>
<h4 id="Bugè·Ÿè¸ªå™¨"><a href="#Bugè·Ÿè¸ªå™¨" class="headerlink" title="Bugè·Ÿè¸ªå™¨"></a>Bugè·Ÿè¸ªå™¨</h4><p>è¦æœ‰ä¸€ä¸ªã€‚</p>
<p>å¯¹äºæˆ‘ç§äººçš„é¡¹ç›®ï¼Œæˆ‘ä¼šç»¼åˆä½¿ç”¨Lighthouseï¼ŒOmniOutlinerå’Œçº¸ç¬” â€”â€” å½“ç„¶ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•å·¥å…·ï¼Œåªè¦ä½ çš„å´©æºƒè®°å½•å½’æ€»åˆ°ä½ çš„bugè·Ÿè¸ªå™¨é‡Œé¢è€Œä¸ä¼šé—å¤±ã€‚</p>
<p>ï¼ˆLighthouseæ˜¯ä¸ªä¸é”™çš„bugè·Ÿè¸ªå™¨ã€‚æˆ‘å–œæ¬¢ç”¨OmniOutlineræ¥æ ‡è®°å¤§çš„æ–°åŠŸèƒ½æˆ–è€…å®Œæ•´çš„appï¼Œåœ¨é‚£é‡Œæˆ‘å¯ä»¥å»ºç«‹to doçš„äº‹ä»¶æ ‘ã€‚å¯¹äºçŸ­å‘¨æœŸçš„äº‹æƒ… â€”â€” æ¯”å¦‚å®Œæˆä¸€ä¸ª10æ­¥å°±å¯ä»¥å®Œæˆçš„ä»»åŠ¡ â€”â€” æˆ‘å–œæ¬¢ç”¨çº¸ç¬”ï¼Œå› ä¸ºä¾èµ–çŸ­æœŸè®°å¿†å¾ˆè®©äººç–²å€¦ï¼Œè€Œçº¸ç¬”ä¸ä¼šå¹²æ‰°å±å¹•ä¸Šçš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚ï¼‰</p>
<h4 id="é”™è¯¯å’Œè­¦å‘Š"><a href="#é”™è¯¯å’Œè­¦å‘Š" class="headerlink" title="é”™è¯¯å’Œè­¦å‘Š"></a>é”™è¯¯å’Œè­¦å‘Š</h4><p>Xcodeé»˜è®¤ä¸ä¼šæ‰“å¼€è¶³å¤Ÿçš„é”™è¯¯å’Œè­¦å‘Šã€‚æˆ‘å¼ºçƒˆæ¨è<a href="http://boredzo.org/blog/archives/2009-11-07/warnings" title="http://boredzo.org/blog/archives/2009-11-07/warnings" target="_blank" rel="external">Peter Hoseyçš„é›†åˆ</a>ã€‚</p>
<p>å…³é”®æ˜¯è¦ç§»é™¤ä½ ä»£ç ä¸­çš„<em>ä¸ç¡®å®šæ€§</em>ã€‚</p>
<p>å°±åƒæˆ‘æ¨èçš„ï¼Œæˆ‘æ›´è¿›ä¸€æ­¥ï¼šæˆ‘åƒå¯¹å¾…é”™è¯¯ä¸€æ ·å¯¹å¾…è­¦å‘Šã€‚æ˜¯çš„ï¼Œè¿™å°±æ„å‘³ç€ï¼Œå¦‚æœè­¦å‘Šå­˜åœ¨æˆ‘ç”šè‡³ä¸èƒ½åœ¨æœ¬åœ°debug â€”â€” ä½†æ˜¯è¿™æ¡å®ˆåˆ™ç‰©æœ‰æ‰€å€¼ã€‚å®ƒæ„å‘³ç€æ— è®ºä½•æ—¶ï¼Œåªè¦æˆ‘çš„appåœ¨è¿è¡Œï¼Œå°±ä¸å­˜åœ¨ä»»ä½•è­¦å‘Šã€‚</p>
<h4 id="Instruments"><a href="#Instruments" class="headerlink" title="Instruments"></a>Instruments</h4><p>Instrumentséå¸¸æ£’ã€‚æŸ¥çœ‹ä½ çš„appåˆ†é…äº†å¤šå°‘çš„å†…å­˜æ˜¯ä¸ªå¥½ä¸»æ„ï¼ŒåŒæ—¶ï¼ŒæŸ¥çœ‹å†…å­˜æ³„æ¼ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p>å¦‚æœä½ çš„appå´©æºƒäº†ï¼Œä½¿ç”¨Zombieså·¥å…·æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ä½ çš„é—®é¢˜å¯èƒ½å’Œzombieså¹¶æ²¡æœ‰å…³ç³»ï¼Œä½†æ˜¯åœ¨æ€€ç–‘çš„è¿‡ç¨‹ä¸­ï¼Œæ’é™¤æ³•æ˜¯å¾ˆå€¼å¾—ä½¿ç”¨çš„ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[LLDBå¸¸ç”¨å‘½ä»¤]]></title>
      <url>http://www.calios.gq/2016/01/19/LLDB%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<h4 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h4><p><strong>poï¼š</strong>æ‰“å°å‡ºå¯¹è±¡çš„descriptionæè¿°ã€‚<br>è¿™é‡Œåˆ—å‡ºå‡ ä¸ªå¸¸ç”¨çš„åœºæ™¯ï¼š</p>
<ul>
<li>æŸ¥çœ‹KVOçš„è¯¦ç»†ä¿¡æ¯ï¼š</li>
</ul>
<p>```<br>    po [observedObject observationInfo]<br>```</p>
<ul>
<li>æŸ¥çœ‹AutoLayoutå¸ƒå±€çš„viewçš„å±‚çº§ç»“æ„ï¼Œéœ€åœ¨<code>layoutSublayersOfLayer:</code>æ–¹æ³•ä¸­æ·»åŠ æ–­ç‚¹ã€‚è¯¦å‚<a href="http://www.calios.gq/2015/09/10/AutoLayout-debug/">è¿™ç¯‡</a>ã€‚</li>
</ul>
<p>```<br>    po [self _autolayoutTrace]<br>```</p>
<p><strong>eï¼š</strong>åœ¨å½“å‰ç¨‹åºç¯å¢ƒä¸­ï¼Œæ‰§è¡Œä»»ä½•çš„è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å¯ä»¥å®šä¹‰å’Œæ“ä½œå·²å­˜åœ¨çš„å˜é‡ã€‚</p>
<p>```<br>    $ e result = []<br>```</p>
<h4 id="æ§åˆ¶æµå¿«æ·å‘½ä»¤"><a href="#æ§åˆ¶æµå¿«æ·å‘½ä»¤" class="headerlink" title="æ§åˆ¶æµå¿«æ·å‘½ä»¤"></a>æ§åˆ¶æµå¿«æ·å‘½ä»¤</h4><ul>
<li><code>n</code>ï¼ŒStep Over</li>
<li><code>s</code>, Step Into</li>
<li><code>finish</code>, Step Out</li>
<li><code>c</code>, æ¢å¤ç¨‹åºæ‰§è¡Œæ“ä½œ<br><code>thread return</code>ï¼šä¸ä½†å¯ä»¥ä½¿å½“å‰çš„å‡½æ•°è¿”å›ï¼Œè€Œä¸”è¿˜å¯ä»¥ä»»æ„ä¿®æ”¹å½“å‰å‡½æ•°çš„è¿”å›å€¼ï¼Œè€Œä¸ç®¡ä¼ è¿›æ¥çš„å‚æ•°å¦‚ä½•ã€‚</li>
</ul>
<h4 id="æ–­ç‚¹åˆ›å»ºå‘½ä»¤"><a href="#æ–­ç‚¹åˆ›å»ºå‘½ä»¤" class="headerlink" title="æ–­ç‚¹åˆ›å»ºå‘½ä»¤"></a>æ–­ç‚¹åˆ›å»ºå‘½ä»¤</h4><pre><code>(lldb) breakpoint set -f ViewController.swift -l 28
Breakpoint 2: where = Example`Example.ViewController.viewDidLoad (Example.ViewController)() -&gt; () + 478 at ViewController.swift:29, address= 0x000000010f74f61e
</code></pre><p>ç®€å†™ï¼š</p>
<pre><code>b ViewController.swift:28
b add ï¼ˆaddä¸ºå‡½æ•°åï¼‰
</code></pre><h4 id="ä¸€ç‚¹Chisel"><a href="#ä¸€ç‚¹Chisel" class="headerlink" title="ä¸€ç‚¹Chisel"></a>ä¸€ç‚¹Chisel</h4><p>æŸ¥çœ‹å‘½ä»¤ç”¨æ³•ï¼š<code>help [command]</code></p>
<p>```<br>    (lldb) help pviews<br>    Print the recursion description of ~<aview>~.</aview></p>
<pre><code>Arguments:
  ~&lt;aView&gt;~; Type: UIView*/NSView*; The view to print the description of.

Options:
  --up/-u ; Print only the hierarchy directly above the view, up to its window.
  --depth/-d ~&lt;depth&gt;~; Type: int; Print only to a given depth. 0 indicates infinite depth.

Syntax: pviews \[--up] \[--depth=depth] ~&lt;aView&gt;~

This command is implemented as FBPrintViewHierarchyCommand in /usr/local/Cellar/chisel/1.2.0/libexec/commands/FBPrintCommands.py.

(LLDB adds the next line, sorry...)
</code></pre><p>```</p>
<p>æŸ¥çœ‹viewçš„å±‚çº§ç»“æ„çš„<em>åŸç”Ÿå‘½ä»¤</em>ï¼š</p>
<p>```<br>    (lldb) po [[[UIApplication sharedApplication] keyWindow] recursiveDescription]<br>```</p>
<p>Chiselçš„ç®€åŒ–ç‰ˆï¼š<code>pviews</code></p>
<ul>
<li>è¯­æ³•ä¸ºï¼š<code>pviews [--up] [--depth=depth] &lt;aView&gt;</code></li>
<li>å¯ä»¥æ·»åŠ ä»¥ä¸‹å‚æ•°ï¼š<ul>
<li>â€“up/-uï¼šåªæ‰“å°ç›´å±äºå½“å‰viewçš„å±‚çº§å…³ç³»ã€‚æœ€é«˜å±‚ä¸ºå®ƒçš„windowã€‚</li>
<li>â€“depth/-d <depth>ï¼šåªæ‰“å°æŒ‡å®šå±‚æ•°ï¼Œ0æ„å‘³ç€ä¸é™åˆ¶å±‚æ•°ã€‚</depth></li>
</ul>
</li>
</ul>
<p>```<br>    (lldb) pviews<br>    <uiwindow: 768="" 0x7f994423a3a0;="" frame="(0" 0;="" 1024);="" autoresize="W+H;" gesturerecognizers="<NSArray:" 0x7f994423abc0="">; layer = <uiwindowlayer: 0x7f9944239e90="">&gt;<br>       | <uilayoutcontainerview: 768="" 0x7f9943d4a160;="" frame="(0" 0;="" 1024);="" transform="[0," -1,="" 1,="" 0,="" 0];="" autoresize="W+H;" layer="<CALayer:" 0x7f9943d4a380="">&gt;<br>       |    | <uitransitionview: 1024="" 0x7f9943d4bbc0;="" frame="(0" 0;="" 768);="" clipstobounds="YES;" autoresize="W+H;" layer="<CALayer:" 0x7f9943d4be00="">&gt;<br>       |    |    | <uiviewcontrollerwrapperview: 1024="" 0x7f9943cb7b30;="" frame="(0" 0;="" 768);="" autoresize="W+H;" layer="<CALayer:" 0x7f9943cb8380="">&gt;<br>       |    |    |    | <uilayoutcontainerview: 1024="" 0x7f994412f9c0;="" frame="(0" 0;="" 768);="" autoresize="W+H;" gesturerecognizers="<NSArray:" 0x7f9943c67c30="">; layer = <calayer: 0x7f994412fba0="">&gt;<br>       |    |    |    |    | <uinavigationtransitionview: 1024="" 0x7f9943c606f0;="" frame="(0" 0;="" 768);="" clipstobounds="YES;" autoresize="W+H;" layer="<CALayer:" 0x7f9943c13890="">&gt;<br>       |    |    |    |    |    | <uiviewcontrollerwrapperview: 1024="" 0x7f994426d090;="" frame="(0" 0;="" 768);="" autoresize="W+H;" layer="<CALayer:" 0x7f994426ce70="">&gt;<br>       |    |    |    |    |    |    | <uiview: 1024="" 0x7f994423db60;="" frame="(0" 0;="" 768);="" autoresize="W+H;" layer="<CALayer:" 0x7f994423dad0="">&gt;<br>       |    |    |    |    |    |    |    | <uicollectionview: 1024="" 0x7f9944838000;="" frame="(0" 0;="" 768);="" clipstobounds="YES;" gesturerecognizers="<NSArray:" 0x7f9944241220="">; layer = <calayer: 0x7f9944240a30="">; contentOffset: {0, -64}&gt; collection view layout: <uicollectionviewflowlayout: 0x7f994423fca0=""><br>       â€¦ â€¦</uicollectionviewflowlayout:></calayer:></uicollectionview:></uiview:></uiviewcontrollerwrapperview:></uinavigationtransitionview:></calayer:></uilayoutcontainerview:></uiviewcontrollerwrapperview:></uitransitionview:></uilayoutcontainerview:></uiwindowlayer:></uiwindow:></p>
<pre><code>(lldb) pviews --up
&lt;UIWindow: 0x7f994423a3a0; frame = (0 0; 768 1024); autoresize = W+H; gestureRecognizers = &lt;NSArray: 0x7f994423abc0&gt;; layer = &lt;UIWindowLayer: 0x7f9944239e90&gt;&gt;

(lldb) pviews --depth=5 0x7f9943d4ad60
&lt;UITabBar: 0x7f9943d4ad60; frame = (0 712; 1024 56); autoresize = W+TM; layer = &lt;CALayer: 0x7f9943d4b1a0&gt;&gt;
   | &lt;_UITabBarBackgroundView: 0x7f994423b920; frame = (0 0; 1024 56); autoresize = W; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f994423bae0&gt;&gt;
   |    | &lt;_UIBackdropView: 0x7f994423bb00; frame = (0 0; 1024 56); opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;_UIBackdropViewLayer: 0x7f994423bdd0&gt;&gt;
   |    |    | &lt;_UIBackdropEffectView: 0x7f994423c320; frame = (0 0; 1024 56); clipsToBounds = YES; opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;CABackdropLayer: 0x7f994423bac0&gt;&gt;
   |    |    | &lt;UIView: 0x7f994423c4f0; frame = (0 0; 1024 56); hidden = YES; opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f994423c5b0&gt;&gt;
   | &lt;UITabBarButton: 0x7f9943c8fd20; frame = (309 1; 76 55); opaque = NO; layer = &lt;CALayer: 0x7f9943c923e0&gt;&gt;
   |    | &lt;UITabBarSwappableImageView: 0x7f9943c92900; frame = (25.5 7; 25 25); opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943c92b70&gt;&gt;
   |    | &lt;UITabBarButtonLabel: 0x7f9943c902f0; frame = (24 35; 28 17); text = &apos;é¦–é¡µ&apos;; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943c90590&gt;&gt;
   | &lt;UITabBarButton: 0x7f9943c9bf20; frame = (419 1; 76 55); opaque = NO; layer = &lt;CALayer: 0x7f9943c9d520&gt;&gt;
   |    | &lt;UITabBarSwappableImageView: 0x7f9943c9d910; frame = (25.5 8; 25 23); opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943c9d540&gt;&gt;
   |    | &lt;UITabBarButtonLabel: 0x7f9943c9c0c0; frame = (24 35; 28 17); text = &apos;è¯¾ç¨‹&apos;; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943c9be40&gt;&gt;
   | &lt;UITabBarButton: 0x7f9943ca5450; frame = (529 1; 76 55); opaque = NO; layer = &lt;CALayer: 0x7f9943ca6a50&gt;&gt;
   |    | &lt;UITabBarSwappableImageView: 0x7f9943ca6d40; frame = (25.5 7; 25 25); opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943ca6a70&gt;&gt;
   |    | &lt;UITabBarButtonLabel: 0x7f9943ca55f0; frame = (17 35; 42 17); text = &apos;è®¨è®ºåŒº&apos;; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943ca5370&gt;&gt;
   | &lt;UITabBarButton: 0x7f9943caeaa0; frame = (639 1; 76 55); opaque = NO; layer = &lt;CALayer: 0x7f9943cb0070&gt;&gt;
   |    | &lt;UITabBarSwappableImageView: 0x7f9943cb0350; frame = (26 7.5; 24 24); opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943cb0090&gt;&gt;
   |    | &lt;UITabBarButtonLabel: 0x7f9943caec40; frame = (31 35; 14 17); text = &apos;æˆ‘&apos;; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f9943cae9a0&gt;&gt;
   | &lt;UIImageView: 0x7f994423d490; frame = (0 -0.5; 1024 0.5); autoresize = W; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7f994423d590&gt;&gt;
</code></pre><p>```</p>
<p>åˆ·æ–°æ˜¾ç¤ºçš„åŸç”Ÿå‘½ä»¤ï¼š</p>
<p>```<br>    (lldb) e (void)[CATransaction flush]<br>```</p>
<p>Chiselçš„ç®€åŒ–ç‰ˆï¼š<code>caflush</code></p>
<hr>
<p><strong>Ref:</strong></p>
<p>ä¸è°ƒè¯•å™¨å…±èˆ - LLDB çš„åå°”å…¹(objccn.io): <a href="http://objccn.io/issue-19-2/" target="_blank" rel="external">http://objccn.io/issue-19-2/</a></p>
<p>LLDBä½¿ç”¨ç¯‡ï¼ˆä¸Šï¼‰: <a href="http://www.dreamingwish.com/article/lldb-usage-a.html" target="_blank" rel="external">http://www.dreamingwish.com/article/lldb-usage-a.html</a></p>
<p>LLdbç¯‡2æ•™ä½ ä½¿ç”¨faceBookçš„chiselæ¥æé«˜è°ƒè¯•æ•ˆç‡: <a href="http://www.jianshu.com/p/b2371dd4443b#" target="_blank" rel="external">http://www.jianshu.com/p/b2371dd4443b</a></p>
<p><a href="http://swiftcafe.io/2015/09/05/lldb-debug/" target="_blank" rel="external">http://swiftcafe.io/2015/09/05/lldb-debug/</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-7ï¼šä»€ä¹ˆéƒ½ä¸åš]]></title>
      <url>http://www.calios.gq/2015/12/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-7%EF%BC%9A%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E5%81%9A/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/29/how_not_to_crash_7_dealing_with_nothin" target="_blank" rel="external">http://inessential.com/2015/05/29/how_not_to_crash_7_dealing_with_nothin</a></p>
<hr>
<p>è€ƒè™‘ä¸‹è¿™è¡Œä»£ç ï¼š</p>
<pre><code>[thing doStuff];
</code></pre><p>å¦‚æœ<code>thing</code>æ˜¯nilï¼Œæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ä¸ä¼šå´©æºƒã€‚ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</p>
<p>ä½†æ˜¯ä½ ä¸èƒ½ç”±æ­¤æ¨æ–­nilåœ¨æ‰€æœ‰åœºæ™¯ä¸­éƒ½æ²¡æœ‰é—®é¢˜ï¼š</p>
<pre><code>[self doStuff:thing];
</code></pre><p>å¦‚æœ<code>thing</code>æ˜¯nilï¼Œæ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå¦‚æœå–å†³äº<code>doStuff:</code>çš„å®ç° â€”â€” å®ƒå¯èƒ½ä¼šå´©æºƒã€‚è€ƒè™‘ä¸‹è¿™è¡Œä»£ç ï¼š</p>
<pre><code>menuItem.title = thing;
</code></pre><p>å¦‚æœ<code>menuItem</code>æ˜¯ä¸€ä¸ªNSMenuItemå¯¹è±¡ï¼Œé‚£ä¹ˆå½“<code>thing</code>ä¸ºnilæ—¶å®ƒå°±ä¼šå´©æºƒã€‚NSMenuItemçš„å¤´æ–‡ä»¶æ²¡æœ‰æåˆ°è¿™ä¸ªï¼Œå°±è¿æ–‡æ¡£ä¸­ä¹Ÿåªæ˜¯ä¸€ç¬”å¸¦è¿‡ï¼ˆâ€œå¦‚æœä½ ä¸æƒ³è¦æ ‡é¢˜ï¼Œå°±ç”¨ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä»£æ›¿ï¼ˆ@â€œâ€ï¼‰ï¼Œè€Œä¸æ˜¯nilã€‚â€ï¼‰</p>
<p>è¿™å°±æ„å‘³ç€ä½ éœ€è¦ä¿è¯<code>thing</code>æ˜¯éç©ºçš„ã€‚ä½ å¯èƒ½å¾ˆç¡®ä¿¡å®ƒæ˜¯éç©ºçš„ã€‚ä½†æ˜¯è€ƒè™‘ä¸‹æˆ‘æ›¾ç»é‡åˆ°çš„ä¸€ä¸ªä¾‹å­ï¼Œå½“<code>thing</code>æ˜¯ä¸€ä¸ªå­—ä½“çš„åå­—æ—¶æ€ä¹ˆåŠã€‚æˆ‘ä»ä¸ä¼šæƒ³åˆ°è·å–å­—ä½“åå­—çš„ç³»ç»ŸAPIä¼šè¿”å›nil â€”â€” é™¤éå®ƒå¶å°”è¿™ä¹ˆåšäº†ï¼ˆå½“ç„¶æ—¶å¾ˆå°‘å‘ç”Ÿï¼Œè€Œä¸”ä¸ç®¡æˆ‘åšä»€ä¹ˆï¼Œä»æœªåœ¨æˆ‘çš„æœºå™¨ä¸Šå‘ç”Ÿï¼‰ã€‚</p>
<p>éœ€è¦çŸ¥é“çš„æ˜¯ï¼š</p>
<p>Nilçš„æ¥å—è€…æ˜¯æ²¡é—®é¢˜çš„ â€”â€” åªè¦ä½ çš„ä»£ç å¯¹äºä»€ä¹ˆéƒ½ä¸åšæ²¡ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p>Nilä½œä¸ºå‚æ•°å¯èƒ½æ²¡é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æœ‰é—®é¢˜ã€‚å½“è°ƒç”¨ç³»ç»Ÿçš„APIæ—¶ï¼Œå¤´æ–‡ä»¶å’Œæ–‡æ¡£ä¸ä¼šæ€»æ˜¯å‘Šè¯‰ä½ å¯èƒ½å‘ç”Ÿä»€ä¹ˆã€‚ï¼ˆè¿™ä¸€ç‚¹å¯èƒ½ä¼šåœ¨ä»–ä»¬å……åˆ†åˆ©ç”¨<a href="https://developer.apple.com/swift/blog/?id=25" title="https://developer.apple.com/swift/blog/?id=25" target="_blank" rel="external">ä¸ºç©ºæ³¨é‡Š</a>æ—¶æœ‰æ‰€æ”¹å–„ã€‚ï¼‰</p>
<p>ä¸è¦ç›¸ä¿¡ä»»ä½•äººã€‚</p>
<h4 id="æ–­è¨€"><a href="#æ–­è¨€" class="headerlink" title="æ–­è¨€"></a>æ–­è¨€</h4><p>æ–­è¨€æ˜¯ä¸€ç§è¯æ˜å‡è®¾å’Œéœ€æ±‚çš„ä¸é”™çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯ç¡®ä¿å‡è®¾ä¸ºçœŸçš„æœ‰æ•ˆå·¥å…·ã€‚æ–­è¨€ä¸è¯¥åœ¨å‘å¸ƒç‰ˆæœ¬ä¸­è¿è¡Œï¼ˆè¯¦è§Xcodeè®¾ç½®ä¸­çš„ENABLE_NS_ASSERTIONSï¼‰ã€‚</p>
<p>æˆ‘æœ€å–œæ¬¢çš„ä¸€ä¸ªæ˜¯NSParameterAssertï¼Œæˆ‘å‡ ä¹ä¸“é—¨ç”¨å®ƒæ¥åšä¸èƒ½ä¸ºç©ºå‚æ•°çš„ä¸ºç©ºæ£€æŸ¥ã€‚</p>
<p>ç”¨èµ·æ¥è¶…çº§ç®€å•ï¼š</p>
<pre><code>- (void)someMethod:(id)someParameter {
  NSParameterAssert(someParameter);
  â€¦do whateverâ€¦
}
</code></pre><p>ä»¥åæˆ‘å¯èƒ½å¼€å§‹ä½¿ç”¨ä¸ºç©ºæ³¨é‡Š<em>å’Œ</em>NSParameterAssertã€‚ä¸¤ä¸ªéƒ½ç”¨ã€‚ï¼ˆæœªæ¥æˆ‘å¯èƒ½ä¼šå†™äº›Swiftçš„ä»£ç ï¼Œé‚£æ—¶å€™å¯¹äºnilçš„å¤„ç†å°±æ˜¯å¦ä¸€å›äº‹äº†ã€‚ä½†æ˜¯é‚£ä¸æ˜¯æˆ‘ä»Šå¤©è°ˆè®ºçš„å†…å®¹ï¼Œä¸€éƒ¨åˆ†çš„åŸå› æ˜¯ï¼Œæˆ‘å¯¹äºSwiftè¿˜ä¸è¶³ä»¥ç§°ä¸ºä¸“å®¶ï¼Œä¸èƒ½ç»™å‡ºå¥½çš„å»ºè®®ã€‚ï¼‰</p>
<p>æˆ‘ä¹Ÿç»å¸¸ä½¿ç”¨NSAssertã€‚NSAssertéœ€è¦ä¸€ä¸ªè¡¨è¾¾å¼å’Œä¸€ä¸ªè¯„è®ºæ–‡å­— â€”â€” ä½†æˆ‘å¾ˆæ‡’ï¼Œæ€»æŠŠè¯„è®ºç½®ä¸ºç©ºã€‚ï¼ˆè¿™ç§æƒ…å†µä¸‹æ˜¯æ²¡é—®é¢˜çš„ã€‚ï¼‰</p>
<pre><code>NSAssert(something == somethingElse, nil);
</code></pre><p>ï¼ˆå…³äºæ‡’æƒ°çš„ä¸€ç‚¹å»ºè®®ï¼šæ‡’çš„ç¨‹åºå‘˜ä»ä¸å†™å´©æºƒçš„bugï¼Œå› ä¸ºä»–ä»¬ä¸æƒ³ä¹‹åå†å›æ¥ä¿®å¤å®ƒä»¬ã€‚ï¼‰</p>
<h4 id="æˆ‘å–œæ¬¢çš„å´©æºƒçš„bug"><a href="#æˆ‘å–œæ¬¢çš„å´©æºƒçš„bug" class="headerlink" title="æˆ‘å–œæ¬¢çš„å´©æºƒçš„bug"></a>æˆ‘å–œæ¬¢çš„å´©æºƒçš„bug</h4><p>å‡ å¹´å‰ï¼Œæˆ‘çš„app NetNewsWireæœ‰ä¸€ä¸ªå´©æºƒæ—¥å¿—æ•æ‰è€…ã€‚åœ¨å¯åŠ¨åº”ç”¨æ—¶ï¼Œå®ƒä¼šä»ç£ç›˜ä¸­æŠ“å–æœ€æ–°çš„å´©æºƒæ—¥å¿—å‘é€ç»™æˆ‘ã€‚</p>
<p>éšç€ä¸€äº›OS Xç³»ç»Ÿçš„å‘å¸ƒï¼ˆæˆ‘æƒ³æ˜¯10.5ï¼‰è‹¹æœå…¬å¸ä¿®æ”¹äº†ç£ç›˜ä¸­å´©æºƒæ—¥å¿—çš„å½¢å¼ã€‚æˆ‘æƒ³å®ƒä»¬æ›¾ç»æ˜¯æ¯ä¸ªåº”ç”¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œç„¶åè‹¹æœæ”¹æˆäº†æ¯æ¬¡å´©æºƒä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚æˆ‘ä¸å¾—ä¸å†™äº›æ–°çš„ä»£ç æ¥å¤„ç†æ–°çš„å½¢å¼ã€‚</p>
<p>æˆ‘åšäº†ä¿®æ”¹ã€‚å‘ç»™äº†betaç‰ˆçš„æµ‹è¯•è€…ï¼Œä»–ä»¬ä¸“é—¨ç”¨è¿™ä¸ªappã€‚å‡ å‘¨è¿‡å»äº†ã€‚ä¸€åˆ‡å®‰å¥½ã€‚</p>
<p>ç„¶åï¼Œå°±åœ¨æˆ‘å‘å¸ƒè¿™ä¸ªç‰ˆæœ¬çš„å½“å¤©ï¼Œæˆ‘æ¥åˆ°äº†æˆåƒä¸Šä¸‡çš„æŠ¥å‘Šè€…è¯´ï¼Œâ€œåœ¨å¯åŠ¨åº”ç”¨çš„æ—¶å€™å°±æŒ‚æ‰äº†ï¼ä½†æ˜¯å†æ¬¡å¯åŠ¨çš„æ—¶å€™å°±å¥½äº†ã€‚â€</p>
<p>è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼šæ–°çš„ä»£ç ä¼šåœ¨æ ¹æœ¬æ²¡æœ‰å´©æºƒæ—¥å¿—çš„æ—¶å€™å´©æºƒæ‰ã€‚ç„¶åï¼Œåœ¨ä¸‹æ¬¡å¯åŠ¨çš„æ—¶å€™ â€”â€” æ—¢ç„¶æœ‰äº†å´©æºƒæ—¥å¿— â€”â€”å®ƒå°±ä¸ä¼šå´©æºƒäº†ã€‚ï¼ˆæ˜¯çš„ï¼Œè¿™æ˜¯ä¸ªå¯ä»¥è‡ªæ„ˆçš„å´©æºƒbugã€‚åœ¨å´©æºƒæ—¥å¿—æ•æ‰å™¨å†…ã€‚å°±æ˜¯è¿™æ ·ã€‚ï¼‰</p>
<p>å½“ç„¶è¿™å°±æ„å‘³ç€å¯¹æ‰€æœ‰<em>æ–°</em>ç”¨æˆ·æ¥è¯´ï¼Œå®ƒä¼šç«‹å³å´©æºƒï¼Œè€Œä¸åªæ˜¯é‚£äº›è¶³å¤Ÿå¹¸è¿ã€ä»æœªå´©æºƒè¿‡çš„äººä»¬ã€‚</p>
<p>è¿™å¯¹æˆ‘æ˜¯ä¸ªæå¤§çš„æé†’ï¼š<em>ä¸€å®šè¦è€ƒè™‘ä»€ä¹ˆéƒ½æ²¡æœ‰çš„æƒ…å†µ</em>ã€‚æ€»æ˜¯ä»€ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚ä»€ä¹ˆéƒ½æ²¡æœ‰æ˜¯å¾ˆå¹³å¸¸çš„ã€‚ä½†æ˜¯å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œä¹Ÿåº”è¯¥è¢«è€ƒè™‘åˆ°ã€‚</p>
<h4 id="ä¸€ä¸ªæ²¡é‚£ä¹ˆé…·çš„å´©æºƒbug"><a href="#ä¸€ä¸ªæ²¡é‚£ä¹ˆé…·çš„å´©æºƒbug" class="headerlink" title="ä¸€ä¸ªæ²¡é‚£ä¹ˆé…·çš„å´©æºƒbug"></a>ä¸€ä¸ªæ²¡é‚£ä¹ˆé…·çš„å´©æºƒbug</h4><p>æˆ‘è®¤ä¸ºè¿™ä¸ä¼šè½¬ç§» â€”â€” æˆ‘æƒ³å®ƒåªå­˜åœ¨äºbetaç‰ˆçš„ä»£ç ä¸­ã€‚</p>
<p>Vesperçš„åŒæ­¥ä¼šä¸æœåŠ¡å™¨å¯¹è¯ã€‚æœåŠ¡å™¨å°†JSONæ•°æ®è¿”å›ã€‚Cocoaçš„JSONè§£æå™¨å°†JSONçš„nullè½¬åŒ–æˆ<code>NSNull</code>å¯¹è±¡ã€‚</p>
<p>VesperæœŸæœ›å¾—åˆ°ä¸€ä¸ªNSStringï¼Œå´å¾—åˆ°äº†ä¸€ä¸ªNSNullã€‚Vesperè¯•å›¾å¯¹NSNullè°ƒç”¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œç„¶åå®ƒå°±æŒ‚æ‰äº†ã€‚</p>
<p>è¡¨é¢ä¸Šçœ‹æ¥è¿™æ˜¯ä¸€ä¸ªéš¾å•ƒçš„éª¨å¤´ï¼Œå› ä¸ºä½ ä¸èƒ½ä¿è¯JSONç»™å‡ºçš„ç±»å‹æ˜¯ä½ æƒ³è¦çš„ã€‚ä½ éœ€è¦ä¸€ä¸ªstringï¼Œä½†å¾—åˆ°äº†ä¸€ä¸ªNSNullã€‚</p>
<p>æ˜¯çš„ï¼ŒNSNullæ˜¯ä½ å¸Œæœ›èƒ½å¤Ÿå°½é‡éš”ç¦»å¤„ç†çš„ä¼—å¤šå¯¹è±¡ä¸­çš„ä¸€ä¸ªã€‚å®ƒæ˜¯ä¸ªå››å¤„æ¸¸èµ°çš„é—®é¢˜ä»£ç ï¼ˆå°½ç®¡æˆ‘ä¸çŸ¥é“åœ¨JSONçš„nullçš„ä¾‹å­ä¸­ç±»ä¼¼çš„ä¾‹å­æ˜¯ä»€ä¹ˆï¼‰ã€‚ï¼ˆä½ ç»ä¸åº”è¯¥åœ¨JSONä¹‹å¤–ç‰¹æ„ä½¿ç”¨å®ƒã€‚å‡ ä¹ç»ä¸åº”è¯¥ã€‚ç»å¯¹å°‘ç”¨ã€‚æ¯”å¦‚è¯´å‡ å¹´ç”¨ä¸€æ¬¡ï¼Œè€Œä¸”å¾—æ˜¯ä½ çœŸçš„çœŸçš„ä¸å¾—ä¸ç”¨çš„æ—¶å€™ã€‚å¯èƒ½è¿é‚£æ ·éƒ½ä¸åº”è¯¥ç”¨ã€‚ï¼‰</p>
<p>è¿™å°±æ˜¯åƒæˆ‘<a href="http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/" title="http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/">ä¹‹å‰é‚£ç¯‡</a>æåˆ°çš„ï¼Œæˆ‘å–œæ¬¢æŠŠJSONè½¬åŒ–æˆä¸­é—´å¯¹è±¡çš„éƒ¨åˆ†åŸå› å§ã€‚è¿™ä¹ˆåšçš„ä¸€å¤§éƒ¨åˆ†å·¥ä½œå°±é›†ä¸­åœ¨å¤„ç†NSNullå¯¹è±¡ä¸Š â€”â€” æˆ‘ä¸æƒ³æŠŠå®ƒä»¬æ¸—é€åˆ°åº”ç”¨çš„å…¶å®ƒéƒ¨åˆ†ä¸Šå»ï¼Œé‚£æ ·æ‰€åˆ°ä¹‹å¤„éƒ½ä¼šå˜å¾—è„å…®å…®çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦ä¸€ä¸ªè§‚ç‚¹æ˜¯ï¼š<em>åªè¦æ˜¯å†™æœåŠ¡å™¨ç«¯çš„äººï¼Œå°±æ˜¯ä½ ä¸å…±æˆ´å¤©çš„ä»‡äºº</em>ã€‚ä»–éå¸¸éå¸¸çš„æ¨ä½ ã€‚</p>
<p>åœ¨è¿™é‡Œï¼ŒVesperçš„æ¡ˆä¾‹ä¸­ï¼Œæ˜¯æˆ‘æ‰®æ¼”äº†è¿™æ ·çš„è§’è‰²ã€‚ä½†æˆ‘ä»ç„¶è¦å‡è®¾å†™æœåŠ¡å™¨é‚£å®¶ä¼™æŠŠå®Œæˆæˆ‘æœ¬äººå’Œäº‹ä¸šçš„æ‘§æ¯å½“ä½œä»–ä»¬çš„ç»ˆæç›®æ ‡ä¸€æ ·åœ°å†™ä»£ç ã€‚ï¼ˆå°½ç®¡æˆ‘äº†è§£é‚£ä¸ªå®¶ä¼™ï¼Œä»–å¾ˆé…·ã€‚ä»–å–œæ¬¢å°çŒ«å’ªã€‚ï¼‰åŒæ—¶ï¼Œé‚£ä¸æ„å‘³ç€åªæ£€æŸ¥NSNull â€”â€” ä¸ç®¡æ€æ ·å®ƒåœ¨JSONä¸­å¾ˆå¸¸è§ â€”â€” è€Œæ˜¯è¦å¯¹æ¯ä¸€éƒ¨åˆ†æ•°æ®çš„ç±»å‹éƒ½è°¨æ…å¤„ç†ã€‚</p>
<p>ä»»ä½•äº‹æƒ…éƒ½å¯èƒ½åœ¨ä¸ç¡®å®šçš„æ—¶é—´å˜æˆä¸å¯é¢„çŸ¥çš„äº‹æƒ…ã€‚</p>
<p>ï¼ˆå¹¶éä¸€è·¯é€šç•…ã€‚ä½ æœŸæœ›èƒ½å¤Ÿä¸€å¸†é£é¡º â€”â€” ä½†æ˜¯é‚£ä¹Ÿå¤ªå®¹æ˜“äº†ã€‚å¯èƒ½ä¸€è·¯ä¸‹æ¥ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚ï¼‰</p>
<h4 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h4><p>åˆå§‹åŒ–ä½ çš„å˜é‡ã€‚å°±è¿™æ ·ã€‚å¦‚æœæˆ‘æ¯ä¿®å¤ä¸€ä¸ªä»…ä»…å°†å˜é‡åˆå§‹åŒ–ä¸ºnilå°±è§£å†³çš„å´©æºƒbugå°±èƒ½æ‹¿åˆ°ä¸€ä¸ªç¡¬å¸çš„è¯ â€”â€” é‚£æˆ‘å·²ç»æœ‰å¥½äº›ç¡¬å¸äº†ã€‚ä½ è‚¯å®šå¸Œæœ›ä¸è¦è·å¾—è¿™æ ·çš„ç¡¬å¸ã€‚</p>
<p>ä¸åˆå§‹åŒ–ä½ çš„å˜é‡å°±åƒåœ¨ç©æ±½æ²¹ï¼Œç„¶åè¿˜è¯´ï¼Œæ²¡é—®é¢˜çš„ï¼Œå› ä¸ºç«æŸ´åœ¨å£è¢‹é‡Œã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é‚£äº›å¹´ï¼Œæˆ‘è¸©è¿‡çš„å‘ï¼ˆä¸€ï¼‰]]></title>
      <url>http://www.calios.gq/2015/12/15/%E9%82%A3%E4%BA%9B%E5%B9%B4%EF%BC%8C%E6%88%91%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<h4 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h4><p>æœ€è¿‘è¸©åˆ°äº†ä¸€ä¸ªä»¥å‰æ²¡æœ‰æ³¨æ„çš„å‘ã€‚åœºæ™¯æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªUICollectionViewæœ‰ä¸ªè‡ªå®šä¹‰çš„UICollectionViewCellï¼ŒUICollectionViewCellä¸­æœ‰ä¸ªUITableViewï¼Œåœ¨ç‚¹å‡»UITableViewçš„cellæ—¶ï¼Œéœ€è¦å°†ç‚¹å‡»ä¹‹åæ›´æ–°çš„modelï¼ˆä¸ºä¸€ä¸ªNSArrayï¼‰ä¼ å‡ºæ¥ç»™UICollectionViewï¼ŒUICollectionViewç”¨ä¸€ä¸ªNSMutableDictionaryæ¥ã€‚<br>å‡è®¾ç”¨delegateä¸€å±‚å±‚ä¼ å‡ºæ¥ã€‚<br>ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼š</p>
<ul>
<li>Cell0ä¸­ï¼Œç‚¹å‡»UITableViewçš„cellï¼Œä¼ å‡ºæ¥çš„å€¼ä¸º<code>@[@&quot;0&quot;]</code>ï¼ŒUICollectionViewæ¥åˆ°çš„å€¼ä¸º<code>@[@&quot;0&quot;]</code>ï¼Œæ›´æ–°åçš„å­—å…¸ä¸º<code>@{ 0 = (0);}</code>ï¼›</li>
<li>æ°´å¹³æ»‘åŠ¨collectionViewï¼Œæ˜¾ç¤ºCell1ï¼Œç‚¹å‡»UITableViewçš„cellï¼Œ UITableViewä¼ å‡ºæ¥çš„å€¼ä¸º<code>@[@&quot;1&quot;]</code>ï¼ŒUICollectionViewæ¥åˆ°çš„å€¼ä¸º<code>@[@&quot;1&quot;]</code>ï¼Œæ›´æ–°åçš„å­—å…¸ä¸º<code>@{ 0 = (0); 1 = (0);}</code>ï¼›</li>
<li>ç»§ç»­æ°´å¹³æ»‘åŠ¨collectionViewï¼Œæ˜¾ç¤ºCell2ï¼Œç‚¹å‡»UITableViewçš„cellï¼Œ UITableViewä¼ å‡ºæ¥çš„å€¼ä¸º<code>@[@&quot;6&quot;]</code>ï¼ŒUICollectionViewæ¥åˆ°çš„å€¼ä¸º<code>@[@&quot;6&quot;]</code>ï¼Œæ›´æ–°åçš„å­—å…¸ä¸º<code>@{ 0 = (6); 1 = (0); 2 = (6);}</code>ï¼›</li>
<li>é—®é¢˜å‡ºç°äº†ï¼Œkeyä¸º2çš„valueä¼šæŠŠkeyä¸º0çš„valueè¦†ç›–æ‰ã€‚</li>
<li>æ‰€ä»¥å‘¢ï¼Ÿ</li>
</ul>
</blockquote>
<p>ä¸€å…¥å°å‘æ·±ä¼¼æµ·ï¼Œä»æ­¤æ¸…é—²æ˜¯è·¯äººã€‚</p>
<p>æ­¤å¤„ç•¥å»åå‡ æ ¹é’ä¸ã€‚</p>
<p>è¿˜å¥½ï¼ŒæŸæ—¥æ­£åˆçš„å’–å•¡é¦™ä¸­ï¼Œçµå…‰é—ªç°ã€‚å¾ˆå¯èƒ½æ˜¯keyä¸º2çš„valueå’Œkeyä¸º0çš„valueå¯¹åº”ç›¸åŒçš„åœ°å€ã€‚æ‰€ä»¥ï¼Œ2çš„valueå°±æŠŠ0çš„valueç»™è¦†ç›–äº†ã€‚æ‰“æ–­ç‚¹ä¾æ¬¡æ‰“å°äº†ä¸€ä¸‹æ›´æ–°åå­—å…¸ä¸­å„ä¸ªå…ƒç´ çš„åœ°å€ï¼Œæœç„¶å¦‚æ­¤ã€‚</p>
<p>çˆ¬å‡ºæ¥äº†ã€‚</p>
<h4 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h4><p>å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„è¡¨é¢åŸå› ï¼Œå¯èƒ½æ˜¯ç”±äºUICollectionViewCellçš„å¤ç”¨æœºåˆ¶ã€‚åœ¨æ¯é¡µæ˜¾ç¤ºä¸€ä¸ªcellçš„æƒ…å†µä¸‹ï¼Œå½“æ˜¾ç¤ºindex0çš„cellï¼Œå‡è®¾å…¶ä¸­æˆå‘˜å˜é‡çš„æŒ‡å‘çš„åœ°å€ä¸º<em>0x00001</em>ï¼Œï¼›å½“æ˜¾ç¤ºindex2çš„cellæ—¶ï¼Œå¤ç”¨äº†index0çš„cellï¼ŒåŒæ ·ä¹Ÿå°±å¤ç”¨äº†å…¶ä¸­çš„æˆå‘˜å˜é‡ï¼Œå³ä¸Šæ–‡ä¸­ä¼ å‡ºæ¥çš„æ•°ç»„ã€‚è€Œåœ¨è°ƒç”¨delegateæ–¹æ³•æ—¶ï¼Œç›´æ¥å°±æŠŠè¿™ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚æ¥ä¸‹æ¥å±‚å±‚ä»£ç†å‡ºæ¥ï¼Œæœ€ç»ˆcollectionViewè·å¾—çš„å€¼ä¹Ÿæ˜¯æ¢æ±¤ä¸æ¢è¯åœ°æŒ‡å‘åŸæ¥æ•°ç»„çš„åœ°å€<em>0x00001</em>ã€‚æ‰€ä»¥å°±å¯¼è‡´UICollectionViewä¸­å­—å…¸keyä¸º0å’Œkeyä¸º2çš„å€¼ç›¸åŒã€‚</p>
<p>æ·±ç©¶åŸå› çš„è¯ï¼Œè¿˜æ˜¯ä»£ç çš„é˜²å¾¡æ€§ä¸å¼ºã€‚ä»åˆ«å¤„è·å–çš„å€¼ä¸åº”è¯¥æ‹¿è¿‡æ¥å°±ç›´æ¥ä½¿ç”¨ï¼Œè€Œåº”è¯¥å¤åˆ¶ç»™ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œä¹‹åè‡ªå·±ç»§ç»­ç”¨è¿™ä¸ªæ–°çš„å˜é‡ã€‚åè¿‡æ¥ï¼Œä½œä¸ºä¼ å‡ºå»çš„å‚æ•°ï¼Œæœ€å¥½ä¹Ÿèƒ½ç•¥å¾®å°è£…ä¸€ä¸‹ï¼Œä¸è¦æŠŠprivateçš„æˆå‘˜å˜é‡ç›´æ¥å°±ä¼ å‡ºå»ï¼Œé˜²æ­¢å¼•å…¥å¤–é¢çš„æ±¡æŸ“ã€‚</p>
<p><strong>PSï¼š</strong><br>å½“ç„¶ï¼Œå¯¹äºä»UITableViewä¼ å€¼å‡ºå»ï¼Œé€šçŸ¥æœºåˆ¶ä¼šæ›´æ–¹ä¾¿äº›ï¼Œå…å¾—ä¸€å±‚å±‚çš„å†™ä»£ç†ã€‚ä½†ä¹Ÿè¦æ³¨æ„åŒæ ·çš„é—®é¢˜ã€‚æé«˜è‡ªå·±ä»£ç çš„å¥å£®æ€§ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ï¼»è¯‘ï¼½Auto Layoutçš„æœ€ä½³å®è·µ â€”â€” æ­¢ç–¼ç‰‡]]></title>
      <url>http://www.calios.gq/2015/12/14/%E3%80%90%E8%AF%91%E3%80%91Auto-Layout%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-%E2%80%94%E2%80%94-%E6%AD%A2%E7%96%BC%E7%89%87/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://medium.com/@NSomar/auto-layout-best-practices-for-minimum-pain-c130b2b1a0f6#.tqby1u8l4" target="_blank" rel="external">https://medium.com/@NSomar/auto-layout-best-practices-for-minimum-pain-c130b2b1a0f6#.tqby1u8l4</a></p>
<hr>
<p>Auto Layoutæ˜¯ä¸ªå¾ˆæ£’çš„å·¥å…·ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä¿æŒç¥å¿—æ¸…é†’ï¼Œè¿˜èƒ½è®©æˆ‘ä»¬è¿™äº›æ‡’äººä»¬åœ¨è®¾ç½®frameçš„æ—¶å€™è¿œç¦»â€œç¥å¥‡æ•°å­—â€ã€‚</p>
<p>ä½†æ˜¯ä»»ä½•æŠ€æœ¯éƒ½ä¸æ˜¯å®Œç¾æ— ç¼ºçš„ï¼Œæˆ‘å¿…é¡»å¾—è¯´æˆ‘èŠ±äº†å¤ªå¤šçš„æ—¶é—´æ¥debugé‚£äº›ç¼ºå¤±çš„çº¦æŸæ¡ä»¶ï¼Œæˆ–è€…å¯¹äºä¸€äº›è—åœ¨å±‚çº§ç»“æ„æ·±å¤„çš„è§†å›¾ï¼Œæ·»åŠ ä¸€ä¸ªå†²çªçš„çº¦æŸæ¡ä»¶å°±ä¼šæŠŠæ•´ä¸ªå¸ƒå±€æ¯æ‰ï¼Œå½“è¿™äº›äº‹æƒ…å‘ç”Ÿçš„æ—¶å€™ç®€ç›´æ˜¯å¤©å´©åœ°è£‚ï¼</p>
<p>åœ¨debugäº†æ— æ•°ä¸ªå°æ—¶çš„auto layoutçš„é—®é¢˜åï¼Œæˆ‘å‘ç°æ¯æ¬¡é€ æˆé—®é¢˜çš„éƒ½æ˜¯æˆ‘è‡ªå·±ï¼ˆæˆ–è€…æ˜¯ä½ è‡ªå·±ï¼ï¼‰ï¼Œè€Œé—®é¢˜çš„è§£å†³åŠæ³•æ€»æ˜¯ç›¸åŒçš„ï¼šéµä»auto layoutçš„æ–‡æ¡£å’Œè§„åˆ™ï¼</p>
<p>æˆ‘ä¼šåœ¨è¿™é‡ŒæŠŠæ­£ç¡®ä½¿ç”¨auto layoutçš„æœ€ä½³å®è·µè¯´ç»™ä½ å¬ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å…é™¤ä¸€äº›ç—›è‹¦äº†ã€‚</p>
<h4 id="UIViewçš„å­ç±»åº”è¯¥å®ç°intrinsicContentSizeæ–¹æ³•"><a href="#UIViewçš„å­ç±»åº”è¯¥å®ç°intrinsicContentSizeæ–¹æ³•" class="headerlink" title="UIViewçš„å­ç±»åº”è¯¥å®ç°intrinsicContentSizeæ–¹æ³•"></a>UIViewçš„å­ç±»åº”è¯¥å®ç°intrinsicContentSizeæ–¹æ³•</h4><p>æ¯ä¸ª<em>UIView</em>çš„å­ç±»éƒ½åº”è¯¥å®ç°<em>intrinsicContentSize</em>ï¼Œå¹¶ä¸”è¿”å›å®ƒè®¤ä¸ºåˆé€‚çš„å¤§å°ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ª<em>AwesomeView</em>ï¼Œè€Œä¸”æˆ‘ä»¬çŸ¥é“è¿™ä¸ªviewçš„é»˜è®¤å°ºå¯¸æ˜¯300x20ï¼Œæˆ‘ä»¬ä¼šè¿™ä¹ˆå†™ï¼š</p>
<pre><code>-(CGSize)intrinsicContentSize {
 return CGSizeMake(300, 20);
}
</code></pre><p>å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“viewçš„å®½åº¦ï¼Œæˆ‘ä»¬ä¼šç”¨<em>UIViewNoIntrinsicMetric</em>æ¥ä»£æ›¿ï¼š</p>
<pre><code>- (CGSize)intrinsicContentSize {
 return CGSizeMake(UIViewNoIntrinsicMetric, 20);
}
</code></pre><p>UIViewåŸºç±»çš„<em>updateConstraints</em>å®ç°ä¼šè°ƒç”¨<em>intrinsicContentSize</em>ï¼Œå®ƒä¼šä½¿ç”¨è¿”å›çš„å°ºå¯¸æ¥ç»™<em>AwesomeView</em>æ·»åŠ çº¦æŸæ¡ä»¶ã€‚</p>
<p>æ ¹æ®ä¸Šé¢ä¾‹å­ä¸­çš„(300,20)å°ºå¯¸ï¼Œä¼šæ·»åŠ ä¸‹é¢çš„çº¦æŸæ¡ä»¶ï¼š</p>
<pre><code>&lt;NSContentSizeLayoutConstraint:0x7fef48d52580 H:[AwesomeView:0x7fef48ead7f0(300)] Hug:250 CompressionResistance:750&gt;,
&lt;NSContentSizeLayoutConstraint:0x7fef48d4d110 V:[AwesomeView:0x7fef48ead7f0(20)] Hug:250 CompressionResistance:750&gt;
</code></pre><p>æ·»åŠ çš„çº¦æŸæ¡ä»¶æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒä»¬æ˜¯<em>NSContentSizeLayoutConstraint</em>ç±»å‹çš„ï¼Œè¿™ä¸ªç±»æ˜¯ä¸ªç§æœ‰ç±»ã€‚è¿™äº›çº¦æŸæ¡ä»¶çš„ä¼˜å…ˆçº§èŒƒå›´æ˜¯0-1000ï¼Œâ€œåŒ…ä½é™åˆ¶â€ï¼ˆè¯‘è€…æ³¨ï¼šhug consistanceï¼Œä½¿å…¶åœ¨â€œå†…å®¹å¤§å°â€çš„åŸºç¡€ä¸Šä¸èƒ½ç»§ç»­å˜å¤§ï¼‰çš„ä¼˜å…ˆçº§æ˜¯250ï¼Œâ€œæ’‘ä½é™åˆ¶â€ï¼ˆcompression resistanceï¼Œæ’‘ä½ä½¿å…¶åœ¨åœ¨å…¶â€œå†…å®¹å¤§å°â€çš„åŸºç¡€ä¸Šä¸èƒ½ç»§ç»­å˜å°ï¼‰çš„ä¼˜å…ˆçº§æ˜¯750ï¼Œä½¿ç”¨çš„å¸¸é‡ç­‰äºé€šè¿‡<em>intrinsicContentSize</em>è¿”å›çš„å€¼ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œ<em>UIView</em>åŸºç±»å®ç°<em>updateConstraints</em>åªæœ‰åœ¨å®ƒç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™æ‰ä¼šæ·»åŠ <em>intrinsicContentSize</em>çº¦æŸã€‚</p>
<h4 id="UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™è‡ªèº«çš„å°ºå¯¸æ·»åŠ çº¦æŸ"><a href="#UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™è‡ªèº«çš„å°ºå¯¸æ·»åŠ çº¦æŸ" class="headerlink" title="UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™è‡ªèº«çš„å°ºå¯¸æ·»åŠ çº¦æŸ"></a>UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™è‡ªèº«çš„å°ºå¯¸æ·»åŠ çº¦æŸ</h4><p>æ¯ä¸ªviewéƒ½ä¼šè´Ÿè´£ç»™å®ƒçš„superviewè®¾ç½®çº¦æŸï¼Œä½†æ˜¯view<strong>ç»ä¸åº”è¯¥</strong>è®¾ç½®å®ƒè‡ªå·±çš„çº¦æŸæ¡ä»¶ï¼Œä¸ç®¡æ˜¯å¯¹äºè‡ªèº«çš„çº¦æŸï¼ˆæ¯”å¦‚è¯´<em> NSLayoutAttributeWidth</em>å’Œ<em> NSLayoutAttributeHeight</em>ï¼‰ï¼Œè¿˜æ˜¯ç›¸å¯¹äºsuperviewçš„çº¦æŸã€‚</p>
<p>å¦‚æœä¸€ä¸ªviewæƒ³æŒ‡å®šè‡ªå·±çš„é«˜åº¦æˆ–è€…å®½åº¦ï¼Œå®ƒåº”è¯¥é€šè¿‡å®ç°<em> intrinsicContentSize</em>æ¥è¾¾åˆ°ç›®çš„ã€‚</p>
<p>è¿™æ˜¯ä¸ªç³Ÿç³•çš„ä¾‹å­ï¼š</p>
<pre><code>- (instancetype)init
{
     self = [super init];
     if (self) {
         [self addConstraint:[NSLayoutConstraint constraintWithItem:self attribute:NSLayoutAttributeWidth relatedBy:NSLayoutRelationEqual toItem:nil attribute:0 multiplier:0 constant:100]];
         [self addConstraint:[NSLayoutConstraint constraintWithItem:self attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:nil attribute:0 multiplier:0 constant:100]];
     }
         return self;
} 
</code></pre><p>è¿™ä¸ªviewåœ¨é€šè¿‡ç»™è‡ªèº«æ·»åŠ çº¦æŸæ¥è®¾ç½®è‡ªå·±çš„å®½åº¦å’Œé«˜åº¦ï¼Œé‚£ä¹ˆå¦‚æœç°åœ¨å®ƒçš„superviewä¹Ÿåœ¨è¯•å›¾æŒ‡å®šè¿™äº›æ•°å€¼ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>
<pre><code>//Some place in the superview
[awesome addConstraint:[NSLayoutConstraint constraintWithItem:awesome attribute:NSLayoutAttributeWidth relatedBy:NSLayoutRelationEqual toItem:nil attribute:0 multiplier:0 constant:200]];
[awesome addConstraint:[NSLayoutConstraint constraintWithItem:awesome attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:nil attribute:0 multiplier:0 constant:200]];
</code></pre><p>å˜­ï¼</p>
<pre><code>Unable to simultaneously satisfy constraints.
â€¦
property translatesAutoresizingMaskIntoConstraints) 
(
 â€œ&lt;NSLayoutConstraint:0x7ff3b16c2ae0 H:[AwesomeView:0x7ff3b16bfa00(100)]&gt;â€,
 â€œ&lt;NSLayoutConstraint:0x7ff3b16c2330 H:[AwesomeView:0x7ff3b16bfa00(200)]&gt;â€
)
Will attempt to recover by breaking constraint 
&lt;NSLayoutConstraint:0x7ff3b16c2330 H:[AwesomeView:0x7ff3b16bfa00(200)]&gt;
â€¦
</code></pre><p><em>AwesomeView</em>æ·»åŠ çš„å®½åº¦/é«˜åº¦æ˜¯100/100ï¼Œè€Œå®ƒçš„superviewä¹Ÿæ·»åŠ äº†å®½åº¦/é«˜åº¦ï¼Œä½†æ˜¯æ˜¯200/200ï¼Œè¿™æ ·autoLayoutå°±ä¸çŸ¥é“è¯¥é€‰æ‹©å“ªä¸ªçº¦æŸæ¡ä»¶äº†ï¼Œå› ä¸ºå®ƒä»¬çš„ä¼˜å…ˆçº§éƒ½ä¸€æ ·ã€‚</p>
<p>ä¸€ç§è§£å†³åŠæ³•æ˜¯è¿™æ ·çš„ï¼Œå°†<em>AwesomeView</em>è‡ªèº«çš„ä¼˜å…ˆçº§é™ä½ä¸€ç‚¹ã€‚</p>
<pre><code>[self addConstraint:({
 NSLayoutConstraint *constraint;
 constraint = [NSLayoutConstraint constraintWithItem:self attribute:NSLayoutAttributeWidth relatedBy:NSLayoutRelationEqual toItem:nil attribute:0 multiplier:0 constant:100];
 constraint.priority = 800;
 constraint;
 })];
</code></pre><p>è¿™æ ·autoLayoutå°±å¯ä»¥åšå‡ºé€‰æ‹©äº†ï¼Œå› ä¸ºå®ƒè‡ªèº«æ·»åŠ çš„ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œå®ƒå°±å¯ä»¥é€‰æ‹©superviewæ·»åŠ çš„çº¦æŸäº†ã€‚</p>
<p>ç„¶è€Œï¼Œå°½ç®¡è¿™æ ·å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ­£ç¡®çš„æ–¹å¼æ˜¯é€šè¿‡<em> intrinsicContentSize</em>æ¥æŒ‡å®šå®ƒçš„é«˜åº¦ã€‚</p>
<h4 id="UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™å®ƒçš„superviewæ·»åŠ çº¦æŸ"><a href="#UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™å®ƒçš„superviewæ·»åŠ çº¦æŸ" class="headerlink" title="UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™å®ƒçš„superviewæ·»åŠ çº¦æŸ"></a>UIViewçš„å­ç±»ç»ä¸åº”è¯¥ç»™å®ƒçš„superviewæ·»åŠ çº¦æŸ</h4><p>å’Œä¸Šé¢çš„åŸå› ä¸€æ ·ï¼Œå­è§†å›¾ç»ä¸åº”è¯¥ç»™ä»–çš„çˆ¶è§†å›¾æ·»åŠ çº¦æŸã€‚å­è§†å›¾çš„ä½ç½®æ˜¯ç”±çˆ¶è§†å›¾å†³å®šçš„ã€‚</p>
<p>åƒè¿™ä¹ˆåšå¾ˆç³Ÿç³•ï¼š</p>
<pre><code>- (void)didMoveToSuperview {
     [super didMoveToSuperview];
     [self.superview addConstraint:[NSLayoutConstraint constraintWithItem:self attribute:NSLayoutAttributeCenterX relatedBy:NSLayoutRelationEqual toItem:self.superview attribute:NSLayoutAttributeCenterX multiplier:1 constant:0]];
}
</code></pre><p><em>å¤ªç³Ÿç³•äº†</em>ï¼Œå®ƒä¸èƒ½ç¦»å¼€ç›¸å¯¹äºå®ƒçš„çˆ¶è§†å›¾çš„ä½ç½®ã€‚æ‰€ä»¥ï¼Œå½“çˆ¶è§†å›¾æƒ³æŠŠAwesomeæ”¾åˆ°å¦ä¸€ä¸ªä½ç½®ä¸Šä¼šæ€ä¹ˆæ ·ï¼Ÿæ˜¯çš„ï¼Œå°±ä¼šæŠ›å‡ºæ¥å¦ä¸€ä¸ª<em>Unable to simultaneously satisfy constraints</em>çš„é—®é¢˜ã€‚</p>
<h4 id="updateConstraintsæ˜¯ç”¨æ¥æ›´æ–°çº¦æŸæ¡ä»¶çš„"><a href="#updateConstraintsæ˜¯ç”¨æ¥æ›´æ–°çº¦æŸæ¡ä»¶çš„" class="headerlink" title="updateConstraintsæ˜¯ç”¨æ¥æ›´æ–°çº¦æŸæ¡ä»¶çš„"></a>updateConstraintsæ˜¯ç”¨æ¥æ›´æ–°çº¦æŸæ¡ä»¶çš„</h4><p>é¡¾åæ€ä¹‰ï¼Œ<em>updateConstraints</em>åªæ˜¯è¢«ç”¨æ¥æ›´æ–°éœ€è¦çš„çº¦æŸçš„ã€‚ä¸€ä¸ªæ­£ç¡®çš„å®ç°<em> updateConstraints</em>çš„æ–¹å¼åº”è¯¥é•¿è¿™ä¸ªæ ·å­ï¼š</p>
<pre><code>- (instancetype)init
{
 â€¦ 
 init stuff
 â€¦
 _labelCenterYConstraints = [NSLayoutConstraint constraintWithItem:label attribute:NSLayoutAttributeCenterY relatedBy:NSLayoutRelationEqual toItem:self attribute:NSLayoutAttributeCenterY multiplier:1 constant:0];
 [self addConstraint:_labelCenterYConstraints];
 label.text = @â€I Am truly awesome!â€;
 â€¦
}
- (void)updateConstraints {
  self.labelCenterYConstraints.constant = self.labelVerticalDisplacement;
  [super updateConstraints];
}
</code></pre><p>ç„¶ååœ¨éœ€è¦çš„åœ°æ–¹ï¼š</p>
<pre><code>awesome.labelVerticalDisplacement = 40;
[awesome setNeedsUpdateConstraints];
</code></pre><p>è°ƒç”¨<em> setNeedsUpdateConstraints</em>ä¼šä½¿autoLayouté‡æ–°è®¡ç®—å¸ƒå±€ï¼Œå› æ­¤ä¼šè°ƒç”¨<em> updateConstraints</em>ï¼Œä»è€Œè¯»å–æ–°çš„labelçŠ¶æ€å¹¶æ›´æ–°çº¦æŸã€‚</p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½ æœ¬å¯ä»¥åªæ›´æ–°<em> _labelCenterYConstraints</em>è¿™ä¸ªçº¦æŸï¼Œå¦‚æœä½ çš„è§†å›¾æš´éœ²å‡ºçº¦æŸï¼Œæˆ–è€…å¦‚æœä½ å¯ä»¥ç®€å•è·å¾—ä¸€ä¸ªçº¦æŸï¼Œé‚£å°±ç›´æ¥è®¾ç½®çº¦æŸçš„å¸¸é‡å¥½äº†ï¼Œä¸å¿…ä½¿ç”¨<em>updateConstraints</em>ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥è¿™ä¹ˆå®ç°ï¼š</p>
<pre><code>awesome.labelCenterYConstraints.constant = 40;
</code></pre><p>ä¸€ä¸ª<strong>éå¸¸ç³Ÿç³•</strong>çš„<em> updateConstraints</em>çš„å®ç°ä¼šé•¿è¿™ä¸ªæ ·å­ï¼š</p>
<pre><code>- (void)updateConstraints {
  [self removeConstraints:self.constraints];
  /*
  create the constraint here
  */
  [super updateConstraints]; 
}
</code></pre><p>è¿™ä¹ˆåšæ˜¯éå¸¸é”™è¯¯çš„ï¼Œå› ä¸ºï¼š</p>
<ul>
<li>ç³»ç»Ÿè°ƒç”¨<em> updateConstraints</em>å¾ˆå¤šæ¬¡ï¼Œå› æ­¤ç§»é™¤æˆ–è€…é‡æ–°åˆ›å»ºå¯èƒ½ä¼šæ ¡éªŒçº¦æŸçš„åˆç†æ€§ã€‚</li>
<li><em><code>[self removeConstraints:self.constraints]</code>; </em>ä¼šç§»é™¤åŒ…æ‹¬xibæˆ–storyboardåˆ›å»ºçš„æ‰€æœ‰çº¦æŸæ¡ä»¶ï¼Œä½ è¯¥æ€ä¹ˆé‡æ–°åˆ›å»ºè¿™äº›çº¦æŸï¼Ÿï¼ˆèµ¶ç´§è¯´ä½ ä¸èƒ½ï¼ï¼‰</li>
<li>ä¸Šé¢çš„<em>updateConstraints</em>å®ç°ä¼šè¦†ç›–æ‰<em>intrinsicContentSize</em>çš„æ•ˆæœï¼Œå› ä¸ºä½ åœ¨è°ƒç”¨<em><code>[super updateConstraints];</code></em>åç§»é™¤äº†ç³»ç»Ÿæ·»åŠ çš„çº¦æŸæ¡ä»¶ã€‚</li>
<li><em>updateConstraints</em>åº”è¯¥è¢«ç”¨æ¥åˆ›å»ºçº¦æŸæ¡ä»¶ä¸€æ¬¡ï¼Œç„¶åä»…ä»…ç§»é™¤æ‰å¤±æ•ˆçš„çº¦æŸã€‚å®ƒç»ä¸è¯¥æ˜¯ä¸€ä¸ªç§»é™¤æ‰€æœ‰çº¦æŸå†æŠŠæ¯ä¸ªä¼ è¿‡æ¥çš„å¸ƒå±€æ·»åŠ ä¸Šçš„åœ°æ–¹ã€‚ï¼ˆæ„Ÿè°¢Alexisæä¾›ä»¥ä¸‹è¡¥å……ã€‚ï¼‰</li>
</ul>
<p>æ­£ç¡®çš„å®ç°æ–¹å¼æ˜¯è¿™æ ·ï¼š</p>
<pre><code>- (void)updateConstraints {
  if (!didSetConstraints) {
 didSetConstraints = YES;
  //create the constraint here
  }

  //Update the constraints if needed
  [super updateConstraints];
}
</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆ›å»ºçº¦æŸçš„åŠ¨ä½œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç„¶ååœ¨æ¥ä¸‹æ¥çš„<em>updateConstraints</em>è°ƒç”¨ä¸­ï¼Œåªä¼šå¯¹è¿™äº›å·²åˆ›å»ºçš„çº¦æŸçš„å¸¸é‡è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>æˆ‘ä¸€ç›´åœ¨è¿½å¯»çœŸç†ï¼æ‰€ä»¥å¦‚æœä½ æœ‰å¾ˆå¤šæ›´å¥½çš„å®è·µç»éªŒï¼Œè¯·åœ¨twitterä¸Šå’Œæˆ‘åˆ†äº«ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Be an independent explorer, not a lazy coder]]></title>
      <url>http://www.calios.gq/2015/12/11/Be-an-independent-explorer-not-a-lazy-coder/</url>
      <content type="html"><![CDATA[<p>Hereâ€™s an SOF <a href="http://stackoverflow.com/a/18837736/1594792" title="http://stackoverflow.com/a/18837736/1594792" target="_blank" rel="external">answer</a> that makes me think.</p>
<p>Obviously, the asker required for the method of <em>simple code</em> of <a href="https://github.com/enormego/EGOCache" title="https://github.com/enormego/EGOCache" target="_blank" rel="external">EGOCache</a>  Library, since its responser didnâ€™t provide any example or demo for it.</p>
<p>Two answers provided are very interesting. One gives line-by-line code â€”- who will refuse attractive and brief code? While the other one just tells you how to dive your head first and find out on your own.</p>
<p>It says as below.</p>
<blockquote>
<p>In the Objective-C world in a case like this when there isnâ€™t as much documentation as I think there <em>should</em> be, I go straight to the header file. Then in your case I would look for a method named something like <code>setData</code> (I assumed this name even before I had read the header to answer this) which is here. Then you would use <code>dataForKey:</code> from here and finally <code>clearCache</code> from here so in short, yep your assumptions looked correct.</p>
<p>Give a man a fish, and you feed him for a day.</p>
</blockquote>
<p>It seems that we are gradually doted by the <em>Step-By-Step</em> tutorials and lose our independence to have a try. Of course, the tutorials are so friendly and helpful to fresh fish, meanwhile, they also make developers lazier.</p>
<p>In my aspect, developers are meant that you dare to explore spaces even unfamiliar to them, get down to issues, and grow up steadily even compared with yourself several days before. </p>
<p>Or else, youâ€™re just a lazy coder.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Checklist for renaming an iOS project totally]]></title>
      <url>http://www.calios.gq/2015/12/09/Checklist-for-renaming-an-iOS-project-totally/</url>
      <content type="html"><![CDATA[<h4 id="Checklist"><a href="#Checklist" class="headerlink" title="Checklist:"></a>Checklist:</h4><ul>
<li>Project nameï¼š<ol>
<li>Select your project in the project navigator, then select your project again in the project editor.</li>
<li>Choose View > Utilities > Show File Inspector.</li>
<li>In the file inspector, in the Identity and Type area, enter the new project name in the Name field.</li>
<li>Press Enter.</li>
<li>Click Rename to perform the rename operation.</li>
</ol>
</li>
<li>Project folder name.</li>
<li>Pod install/update.</li>
<li>Project name > Targets > Build Settings, search for your old project name.</li>
<li>PCH file.</li>
<li>Class annotation and category name.</li>
</ul>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="https://developer.apple.com/library/mac/recipes/xcode_help-project_editor/RenamingaProject/RenamingaProject.html" target="_blank" rel="external">https://developer.apple.com/library/mac/recipes/xcode_help-project_editor/RenamingaProject/RenamingaProject.html</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[EnjoyMyCoffee-1ï¼šé¡¹ç›®è‡ªåŠ¨ç¼–è¯‘åŠæ‰“åŒ…]]></title>
      <url>http://www.calios.gq/2015/12/01/EnjoyMyCoffee-1%EF%BC%9A%E9%A1%B9%E7%9B%AE%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%E5%8F%8A%E6%89%93%E5%8C%85/</url>
      <content type="html"><![CDATA[<p>æ¯åˆ°é¡¹ç›®ææµ‹ä¹‹åï¼Œå°±éœ€è¦å‡ ä¹å¤©å¤©æ‰“åŒ…ipaä¸Šä¼ åˆ°ftpä¸Šå»ï¼Œå¤§ä½“æ­¥éª¤å¦‚ä¸‹ï¼š<br>1.åœ¨Xcodeä¸­å°†ä»£ç ç¼–è¯‘æ‰“åŒ…ä¸ºipaï¼Œå¹¶é‡å‘½åä¸º***-currentDateTime.ipaï¼›<br>2.æ‰“å¼€FileZillaï¼Œè¿æ¥åˆ°æœåŠ¡å™¨ä¸Šçš„ftpï¼›<br>3.ä¸‹è½½å·²æœ‰çš„plistæ–‡ä»¶åˆ°æœ¬åœ°ï¼Œæ›´æ”¹å…¶ä¸­çš„å°ç‰ˆæœ¬å·ï¼›<br>4.åˆ é™¤ftpä¸Šå·²æœ‰çš„***_test.ipaæ–‡ä»¶å’Œ***_test.plstæ–‡ä»¶ï¼›<br>5.å°†æœ¬åœ°æ‰“åŒ…å¥½çš„***_test.ipaæ–‡ä»¶å’Œæ›´æ”¹åçš„plistæ–‡ä»¶ä¸Šä¼ ï¼›<br>6.å…³é—­FileZillaã€‚</p>
<p>å¥½éº»çƒ¦ã€‚ã€‚ã€‚</p>
<p>ç®€ç›´æ˜¯æµªè´¹æ—¶é—´ã€‚æ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆä¸å†™æ®µä»£ç æ›¿æˆ‘åšè¿™äº›æ— èŠçš„äº‹å‘¢ï¼Ÿè‡³å°‘å¯ä»¥æ¯å¤©ç•™å‡ºå“å°ä¸€æ¯å’–å•¡çš„æ—¶é—´ã€‚</p>
<p>Letâ€™s move.</p>
<hr>
<h4 id="ç¼–è¯‘Build"><a href="#ç¼–è¯‘Build" class="headerlink" title="ç¼–è¯‘Build"></a>ç¼–è¯‘Build</h4><p>Xcodeæä¾›äº†å‘½ä»¤è¡Œbuildçš„å‘½ä»¤ï¼Œå³xcodebuildã€‚å¯ä»¥é€šè¿‡<code>man xcodebuild</code>æŸ¥çœ‹è¯¥å‘½ä»¤çš„æ‰€æœ‰è¯¦ç»†è¯´æ˜ï¼Œä¹Ÿå¯ä»¥ç”¨<code>xcodebuild -usage</code>æŸ¥çœ‹æ‰€æœ‰çš„å¯ç”¨å‚æ•°ã€‚</p>
<pre><code>xcodebuild -workspace YourProject.xcworkspace -scheme YourProject -configuration &quot;Release&quot; -destination generic/platform=iOS #build BUILD_DIR=&quot;$BUILD_DIR&quot; BUILD_ROOT=&quot;$BUILD_ROOT&quot;
</code></pre><p>è¿™é‡Œç‰¹åˆ«è¯´æ˜ä¸‹<code>-destination</code>è¿™ä¸ªå‚æ•°ã€‚å¦‚æœè¦æŒ‡å®šè¿è¡Œåœ¨æŸä¸€ä¸ªå·²è¿æ¥è®¾å¤‡ï¼Œéœ€è¦ä½¿ç”¨<code>iOS</code>é€‰é¡¹ã€‚å®ƒæ”¯æŒ<code>id</code>å’Œ<code>name</code>ä¸¤ä¸ªkeyï¼ŒäºŒè€…ä»»å–å…¶ä¸€ã€‚</p>
<pre><code>xcodebuild \
  -workspace YourProject.xcworkspace \
  -scheme MyApp \
  -destination &quot;platform=iOS,name=Gio&apos;s iPhone&quot; \
  clean test

xcodebuild \
  -workspace YourProject.xcworkspace \
  -scheme MyApp \
  -destination &apos;platform=iOS,id=YOUR_PHONE_UUID&apos; \
  clean test
</code></pre><p>åŒç†ï¼Œè¿è¡Œåœ¨æ¨¡æ‹Ÿå™¨ä¸­ä¹Ÿæ˜¯ç±»ä¼¼ã€‚æ›´å¤šè¯¦æƒ…è§<a href="http://www.mokacoding.com/blog/xcodebuild-destination-options/" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚ç”±äºæˆ‘çš„ä½¿ç”¨åœºæ™¯é€šå¸¸æ˜¯ç”¨ä¼ä¸šè´¦å·æ¥æ‰“åŒ…ä¸Šä¼ ã€ä¾›æµ‹è¯•ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨çš„æ˜¯<code>-destination generic/platform=iOS</code>ï¼Œå¹¶ä¸æŒ‡å®šæŸä¸€ç¡®åˆ‡è®¾å¤‡ã€‚</p>
<h4 id="æ‰“åŒ…æˆipa"><a href="#æ‰“åŒ…æˆipa" class="headerlink" title="æ‰“åŒ…æˆipa"></a>æ‰“åŒ…æˆipa</h4><p>ä¸Šä¸€æ­¥buildåç”Ÿæˆäº†YourProject.appæ–‡ä»¶ï¼Œå¯ä»¥ç”¨xcrunæ¥å°†å…¶æ‰“åŒ…æˆipaã€‚</p>
<pre><code>xcrun -sdk iphoneos PackageApplication -v &quot;$APP_PATH&quot; -o &quot;$IPA_PATH&quot;
</code></pre><blockquote>
<p>è¿™é‡Œè¡¥å……ä¸€ä¸ªå°çš„çŸ¥è¯†ç‚¹ï¼š.appå’Œ.ipaçš„å·®åˆ«ï¼š<br>.appæ˜¯åº”ç”¨ç¨‹åºåŒ…ã€‚å®ƒåŒ…æ‹¬å¯æ‰§è¡Œæ–‡ä»¶ã€Info.plistæ–‡ä»¶ã€å›¾æ ‡ã€launchå›¾ç‰‡å’Œä¸€äº›å…¶ä»–åº”ç”¨ç¨‹åºèµ„æºã€‚åº”ç”¨ç¨‹åºåŒ…æ˜¯æœ€ç»ˆå®‰è£…åœ¨è®¾å¤‡ä¸Šçš„éƒ¨åˆ†ã€‚<br>.ipaæ˜¯å¯¹.appåº”ç”¨ç¨‹åºåŒ…å’Œä¸€äº›åªæ˜¯ä¸ºäº†ä¾›iTunesä½¿ç”¨çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚iTunesArtworkï¼‰çš„å½’æ¡£ã€‚ </p>
</blockquote>
<p>å¦å¤–ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œxcrunéœ€è¦<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œç›¸å¯¹è·¯å¾„æ˜¯ä¸ç®¡ç”¨çš„ï¼Œä¼šæŠ¥ç±»ä¼¼è¿™æ ·çš„é”™ï¼š</p>
<pre><code>xcrun fails with zip I/O error: No such file or directory zip error:â€¦
</code></pre><p>ä½ å¯ä»¥ç”¨<code>$pwd/YourProject</code>æ¥è·å–ã€‚</p>
<h4 id="é‡å‘½åipa"><a href="#é‡å‘½åipa" class="headerlink" title="é‡å‘½åipa"></a>é‡å‘½åipa</h4><p>å¦‚æœæ¯æ¬¡æ‰“åŒ…çš„ipaéƒ½æ˜¯åŒæ ·çš„åå­—ï¼Œä¼°è®¡ä½ å¾ˆå¿«å°±ä¼šåˆ†ä¸æ¸…å“ªä¸ªç‰ˆæœ¬æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥å°†ipaé‡å‘½åæ·»åŠ ä¸Šæ‰“åŒ…æ—¶é—´ä¸å¤±ä¸ºä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<pre><code>BUILD_DATETIME=&quot;$(date +%Y%m%d%H%M%S)&quot;
mv $IPA_PATH &quot;$BUILD_DIR/$BUILD_CONFIG-iphoneos/$TARGET_NAME-$BUILD_DATETIME.ipa&quot;
</code></pre><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œéœ€è¦ä¸Šä¼ åˆ°ftpçš„ipaå·²ç»å‡†å¤‡å¥½äº†ã€‚è¯¦ç»†ä»£ç åœ¨<a href="https://github.com/CaliosD/xcode_tool/blob/master/build_n_package.sh" target="_blank" rel="external">è¿™é‡Œ</a>ï¼šã€‚æ¥ä¸‹æ¥çš„ä¸€ç¯‡ï¼Œå°±è¦å¼€å§‹ä¸Šä¼ å•¦ï½</p>
<hr>
<p><strong>Ref:</strong></p>
<ul>
<li><a href="http://www.mokacoding.com/blog/xcodebuild-destination-options/" target="_blank" rel="external">Xcodebuild Destination Cheatsheet</a></li>
<li><a href="http://stackoverflow.com/questions/2949916/what-is-different-betwen-ipa-and-app-format-in-using-iphone" target="_blank" rel="external">what is different betwen .ipa and .app format in using iphone?</a></li>
<li><a href="http://stackoverflow.com/questions/25415333/xcrun-fails-with-zip-i-o-error-no-such-file-or-directory-zip-error" target="_blank" rel="external">xcrun fails with zip I/O error: No such file or directory zip error</a></li>
<li><a href="http://blog.devtang.com/blog/2012/02/16/apply-daily-build-in-ios-project/" target="_blank" rel="external">ç»™iOSå·¥ç¨‹å¢åŠ Daily Build</a></li>
<li><a href="http://stackoverflow.com/questions/20551566/display-current-date-and-time-without-punctuation" target="_blank" rel="external">Display current date and time without punctuation</a></li>
<li><a href="http://objccn.io/issue-17-2/" target="_blank" rel="external">ä»£ç ç­¾åæ¢æ</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-6ï¼šå±æ€§å’Œå­˜å–å™¨]]></title>
      <url>http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-6%EF%BC%9A%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AD%98%E5%8F%96%E5%99%A8/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/27/how_not_to_crash_6_properties_and_acce" target="_blank" rel="external">http://inessential.com/2015/05/27/how_not_to_crash_6_properties_and_acce</a></p>
<hr>
<p>è¿™ä¸ªä¸œè¥¿è®©æˆ‘æœ‰ç‚¹å‘æ€µï¼š</p>
<pre><code>- (void)someRandomMethod {
  some stuffâ€¦
  _thing = otherThing;
  other stuffâ€¦
}
</code></pre><p>ä½ å¯ä»¥è¯æ˜è¿™æ˜¯æ­£ç¡®çš„ã€‚ä½ ä½¿ç”¨ARCï¼Œæ‰€ä»¥å±æ€§retainå’Œreleaseçš„è®¡æ•°ä¼šè‡ªåŠ¨å¢å‡ã€‚åˆæ²¡æœ‰äººåœ¨è§‚å¯Ÿ_thing.</p>
<p>å¥½å§ã€‚å®ƒæ˜¯åˆæ³•çš„ï¼Œä¹Ÿæ˜¯ç®¡ç”¨çš„ã€‚</p>
<p>å‡è®¾ä½ å‘ç°é‚£ä¸ªthingåº”è¯¥æ˜¯å¯è§‚å¯Ÿçš„ã€‚æ‰€ä»¥æ¯å¤„è®¾ç½®thingçš„å€¼ï¼Œä½ éƒ½ä¼šæ·»åŠ è°ƒç”¨çš„æ–¹æ³•ï¼š</p>
<pre><code>[self willChangeValueForKey:kThingKey];
_thing = otherThing;
[self didChangeValueForKey:kThingKey];
</code></pre><p>ä¹Ÿæ˜¯åˆæ³•çš„ï¼Œä¹Ÿç®¡ç”¨ã€‚</p>
<p>å³å°†å‡ºç°çš„é—®é¢˜æ˜¯ï¼šä»¥åï¼Œæ¯”å¦‚æ˜å¤©ï¼Œæˆ–è€…å…­ä¸ªæœˆä¹‹åï¼Œä½ æˆ–è€…å…¶ä»–äººç»™thingå†™äº†ä¸ªè‡ªå®šä¹‰çš„setter â€”â€” å¯èƒ½æ˜¯å› ä¸ºä½ éœ€è¦åœ¨è®¾ç½®thingçš„æ—¶å€™æ·»åŠ ç±»ä¼¼<code>self.needsDisplay = YES</code>è¿™æ ·çš„ä¸œè¥¿ â€”â€” ç„¶åä½ å°±å‡ºç°äº†ä¸€ä¸ªbugï¼Œæ— è®ºä½•æ—¶thingçš„æ”¹å˜éƒ½ä¸ä¼šè®©viewé‡æ–°ç»˜åˆ¶ã€‚</p>
<p>æˆ–è€…æ›´ç³Ÿç³•ï¼šå¯èƒ½æœªæ¥çš„è‡ªå®šä¹‰setteræ‰“ç ´äº†ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå¹¶åœ¨thingæ”¹å˜çš„æ—¶å€™æ·»åŠ ä¸€ä¸ªæ–°çš„ã€‚ç”±äºä½ æ˜¯ç›´æ¥è®¾ç½®_thingçš„ï¼Œè§‚å¯Ÿæ¨¡å¼ä¸ä¼šæ­£ç¡®çš„ä¿ç•™ï¼Œç„¶åä½ å°±å´©æºƒäº†ã€‚</p>
<p>ç­”æ¡ˆæ˜¯éµå¾ªä¸€ä¸ªç®€å•çš„è§„åˆ™ï¼š<strong>åœ¨setæˆ–getå±æ€§çš„æ—¶å€™ï¼Œä½¿ç”¨å­˜å–å™¨ã€‚</strong></p>
<p>æ¢å¥è¯è¯´ï¼Œè¿™ä¹ˆå†™ï¼š</p>
<pre><code>ï¼ (void)someRandomMethod {
  some stuffâ€¦
  self.thing = otherThing;
  other stuffâ€¦
}
</code></pre><p>ä¸ç®¡ä½ æ˜¯å¦è‡ªå®šä¹‰setterï¼Œè¿™ä¹ˆå†™éƒ½ç®¡ç”¨ã€‚å½“ä½ è®¾ç½®thingçš„æ—¶å€™ï¼Œå°±ä¸ç”¨è¿™ä¹Ÿæ‹…å¿ƒé‚£ä¹Ÿç®¡äº†ã€‚</p>
<p>ï¼ˆè¿™é‡Œæ˜¯ä¸€ä¸ªç¼–ç¨‹è§„åˆ™çš„ç®€å•æµ‹è¯•ï¼šå¦‚æœä½ éµå¾ªå®ƒå°±ä¸ä¼šçŠ¯é”™ï¼Œä½†æ˜¯<em>ä¸</em>éµå¾ªå®ƒå°±<em>å¯èƒ½</em>çŠ¯é”™ï¼Œé‚£ä½ æœ€å¥½è¿˜æ˜¯éµå¾ªå®ƒã€‚ï¼‰</p>
<p>ï¼ˆä¸è¦æ‹…å¿ƒä½¿ç”¨å­˜å–å™¨å¼•èµ·çš„æ€§èƒ½é—®é¢˜ã€‚æˆ‘æ˜¯ä¸€ä¸ªæ€§èƒ½æ¨å´‡è€…ï¼Œè€Œæˆ‘ä»æœªå‘ç°è¿™æ ·ä¼šå¼•èµ·é—®é¢˜ã€‚å¦‚æœä½ çš„appå‡ºç°äº†æ€§èƒ½é—®é¢˜ï¼Œå‰–æä¸€ä¸‹ï¼Œæ‰¾åˆ°çœŸæ­£çš„åŸå› ã€‚ï¼‰</p>
<h4 id="ä¾‹å¤–"><a href="#ä¾‹å¤–" class="headerlink" title="ä¾‹å¤–"></a>ä¾‹å¤–</h4><p>æœ‰å››ä¸ªåœ°æ–¹ä½ <em>ä¸</em>åº”è¯¥ä½¿ç”¨å­˜å–å™¨ï¼š<strong>initæ–¹æ³•ï¼Œdeallocï¼Œè‡ªå®šä¹‰çš„getterå’Œè‡ªå®šä¹‰getterã€‚</strong>è¿™æ ·å¯ä»¥é¿å…å‰¯ä½œç”¨ã€‚</p>
<p>å¦‚æœä½ <em>éœ€è¦</em>å‰¯ä½œç”¨ â€”â€” æ¯”å¦‚è¯´ï¼Œåœ¨deallocä¸­ç§»é™¤è§‚å¯Ÿè€… â€”â€” å°±æ˜¯é‚£äº›é€šå¸¸æ”¾åœ¨setterä¸­çš„éƒ¨åˆ†ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨å•ç‹¬çš„æ–¹æ³•é‡Œï¼Œç„¶åä»setterå’Œdeallocä¸­è°ƒç”¨å®ƒã€‚ï¼ˆä¹Ÿè¦è€ƒè™‘åˆ°åœ¨initå’Œdeallocä¹‹å¤–æ·»åŠ å’Œç§»é™¤è§‚å¯Ÿè€…å¯èƒ½æ ‡å¿—ç€ä½ çš„ä»£ç éœ€è¦é‡æ„ã€‚ï¼‰</p>
<h4 id="è‡ªåŠ¨åˆæˆ"><a href="#è‡ªåŠ¨åˆæˆ" class="headerlink" title="è‡ªåŠ¨åˆæˆ"></a>è‡ªåŠ¨åˆæˆ</h4><p>åƒä¸‡ä¸è¦åˆ›å»ºå®ä¾‹å˜é‡ã€‚è€Œè¦å£°æ˜å±æ€§ã€‚</p>
<p>å±æ€§ä¼šè‡ªåŠ¨åˆæˆå®ä¾‹å˜é‡ã€‚åªæœ‰å½“Xcodeå‘Šè¯‰ä½ ä½ éœ€è¦çš„æ—¶å€™å†ç”¨@synthesizeã€‚</p>
<h4 id="ä½¿ç”¨ARC"><a href="#ä½¿ç”¨ARC" class="headerlink" title="ä½¿ç”¨ARC"></a>ä½¿ç”¨ARC</h4><p>å¦‚æœä½ æœ‰éARCçš„ä»£ç ï¼ŒæŠŠå®ƒæ›´æ–°åˆ°ARCå§ã€‚æ‰‹åŠ¨ç®¡ç†å†…å­˜æ˜¯ææ˜“çŠ¯é”™çš„ã€‚å³ä½¿æ˜¯æœ‰å¤šå¹´ç»éªŒçš„äººä¹Ÿä¼šä¸€æ¬¡æ¬¡çš„çŠ¯é”™ï¼Œè€Œé”™è¯¯ä¼šå¯¼è‡´å´©æºƒï¼ˆæˆ–è€…å¥½ä¸€ç‚¹ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼æˆ–å†…å­˜è¢«é—å¼ƒï¼‰ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘å¹¶ä¸ä¸»å¼ å¯¹äºè¿è¡Œè‰¯å¥½çš„ä»£ç è¿›è¡Œç¼–è¾‘ â€”â€” ä½†æ˜¯å¦‚æœä½ æœ‰éœ€è¦ç»´æŠ¤çš„ä»£ç ï¼Œé‚£å°±å¸®è‡ªå·±ä¹Ÿå¸®åŒä¼´ä¸€ä¸ªå¿™ï¼ŒæŠŠå®ƒè½¬åŒ–æˆARCå§ã€‚ï¼ˆéšç€æ—¶é—´æ¨ç§»ï¼Œæ¯ä¸ªäººéƒ½ä¼šåœ¨æ‰‹åŠ¨å†…å­˜ç®¡ç†çš„è·¯ä¸Šè¶Šèµ°è¶Šç³Ÿã€‚è€Œæˆä¸ºè¿™æ ·çš„è‹±é›„ä¹Ÿä¸ä¼šæœ‰ä»»ä½•åŠ åˆ†ã€‚ï¼‰</p>
<p>ï¼ˆå¯èƒ½ä½¿ç”¨ARCä¼šè®©ä½ é™·å…¥æ€§èƒ½é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å½“ä½ åœ¨å¤„ç†loopä¸­çš„å¤§é‡å¯¹è±¡æ—¶ã€‚è®°å¾—ä½¿ç”¨è‡ªåŠ¨é‡Šæ”¾æ± ã€‚åˆ«è½»æ˜“ä¸‹æ–­è¨€ï¼šç”¨åˆ†æå™¨è¯´è¯ã€‚ï¼‰</p>
<p>ï¼ˆåŒæ—¶ï¼šARCè½¬æ¢å™¨å¯èƒ½ä¸ä¼šæ€»æ˜¯å¦‚ä½ æ‰€æ„¿ã€‚å¦‚æœä½ ä½¿ç”¨å®ƒçš„è¯ï¼Œæ£€æŸ¥å®ƒæ”¹å˜çš„åœ°æ–¹ã€‚è®°ä½æ¯æ¬¡è½¬åŒ–ä¸€ä¸ªæ–‡ä»¶ã€‚Targetå¯ä»¥å…è®¸ARCå’ŒéARCåŒæ—¶å­˜åœ¨ã€‚ï¼‰</p>
<h4 id="ä¸è¦ç”¨-è¿™ä¸ª"><a href="#ä¸è¦ç”¨-è¿™ä¸ª" class="headerlink" title="ä¸è¦ç”¨ -> è¿™ä¸ª"></a>ä¸è¦ç”¨ -> è¿™ä¸ª</h4><p>è¿™ä¸ªæ›¾è®©æˆ‘ç¥ç»å´©æºƒï¼šthing->propertyã€‚åˆ«è¿™ä¹ˆå¹²ã€‚</p>
<h4 id="dealloc"><a href="#dealloc" class="headerlink" title="dealloc"></a>dealloc</h4><p>å¦‚æœä½ ä¸éœ€è¦deallocï¼ˆç”±äºä½¿ç”¨ARCï¼‰ï¼Œé‚£å°±ä¸è¦å†™å®ƒã€‚æ²¡å¿…è¦åœ¨deallocä¸­æŠŠå±æ€§è®¾ç½®ä¸ºnilã€‚</p>
<p>delegateæ˜¯ä¸ªæ˜æ˜¾çš„ç‰¹ä¾‹ï¼šæŠŠdelegateç½®ä¸ºç©ºã€‚</p>
<h4 id="ä½¿ç”¨weak"><a href="#ä½¿ç”¨weak" class="headerlink" title="ä½¿ç”¨weak"></a>ä½¿ç”¨weak</h4><p>Weakå¤ªæ£’äº†ã€‚æ¯”å¦‚ï¼Œdelegateå°±åº”è¯¥æ˜¯weakã€‚</p>
<p>çˆ¶ç±»åº”è¯¥æŒæœ‰å®ƒä»¬çš„å­ç±»ï¼Œä½†æ˜¯å­ç±»åº”è¯¥æŒæœ‰å®ƒä»¬çˆ¶ç±»çš„å¼±å¼•ç”¨ï¼ˆå¦‚æœå­˜åœ¨å¼•ç”¨çš„è¯ï¼‰ã€‚è®¾ç½®weakä¼šè®©ä½ é¿å¼€é‚£äº›<a href="http://www.calios.gq/2015/11/12/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-1%EF%BC%9AKVO%E4%B8%8E%E6%89%8B%E5%8A%A8%E7%BB%91%E5%AE%9A/" title="http://www.calios.gq/2015/11/12/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-1%EF%BC%9AKVO%E4%B8%8E%E6%89%8B%E5%8A%A8%E7%BB%91%E5%AE%9A/">ç”¨æ¥è§£é™¤å¾ªç¯å¼•ç”¨çš„invalidateæ–¹æ³•</a>ã€‚</p>
<p>æ— è®ºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸è¦ä½¿ç”¨unsafe_unretainedã€‚é‚£æ˜¯ä¸ªé™·é˜±ã€‚ä½ å¯èƒ½ä¹Ÿä¼šè¿™ä¹ˆå†™ï¼š</p>
<pre><code>define CRASHING_BUG unsafe_unretained
</code></pre><p>é¡¾åæ€ä¹‰ï¼Œå®ƒå«åš<em>ä¸å®‰å…¨</em>ã€‚</p>
<p>ä¸è¦å¸¦ç€å‰ªåˆ€è·‘ã€‚å˜¿ â€”â€” ç”šè‡³ä¸è¦ç¢°é‚£äº›å‰ªåˆ€ã€‚å‰ªåˆ€æœ‰æ¯’ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-5ï¼šçº¿ç¨‹ï¼ˆäºŒï¼‰]]></title>
      <url>http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-5%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/26/how_not_to_crash_5_threading_part_2" target="_blank" rel="external">http://inessential.com/2015/05/26/how_not_to_crash_5_threading_part_2</a></p>
<hr>
<p>æˆ‘<a href="http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B/">ä¸Šä¸€ç¯‡å…³äºçº¿ç¨‹</a>çš„æ–‡ç« ç•™ä¸‹æ¥ä¸€ä¸ªå¼€æ”¾çš„é—®é¢˜ï¼šåœ¨ä¸»çº¿ç¨‹ä»¥å¤–çš„ä»£ç æ˜¯å¦‚ä½•äº¤æµçš„ï¼Œåˆå¦‚ä½• â€”â€” å®‰å…¨åœ° â€”â€” è¿”å›ä¸»çº¿ç¨‹ã€‚</p>
<p>å“ªä¸ªå¯¹è±¡åˆ›é€ åå°ä»»åŠ¡ï¼Œå“ªä¸ªå¯¹è±¡å°±å¤„ç†ç›¸åº”çš„ç»“æœã€‚è¿™æ˜¯ç¡¬æ€§è§„å®šã€‚</p>
<p>é€šå¸¸åˆ›å»ºä»»åŠ¡çš„å¯¹è±¡éƒ½æ˜¯æŒç»­åœ¨æ•´ä¸ªappç”Ÿå‘½å‘¨æœŸä¸­çš„ã€‚ä¸€ä¸ªä¾‹å­å¯èƒ½æ˜¯å›¾ç‰‡ç¼“å­˜ï¼Œç¼“å­˜å¯èƒ½ä¼šåœ¨appçš„ç”Ÿå‘½å‘¨æœŸä¸­è¢«æ¸…ç©ºï¼Œä½†æ˜¯ç¼“å­˜å¯¹è±¡æ˜¯ä¸€ç›´å­˜åœ¨çš„ã€‚</p>
<p>å¦ä¸€ä¸ªä¾‹å­ï¼šæ¯”å¦‚è¯´Vesperæœ‰ä¸€ä¸ªVSAccountå¯¹è±¡ã€‚<em>ä¸€ç›´</em>éƒ½åªæœ‰ä¸€ä¸ªVSAccountå¯¹è±¡ã€‚ç”¨æˆ·å¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰æœåŠ¡å™¨çš„è´¦å·ã€‚ä»–ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸ªæœåŠ¡å™¨çš„è´¦å·ã€‚ä½†æ˜¯åªæœ‰å”¯ä¸€çš„VSAccountå¯¹è±¡æŒç»­äºæ•´ä¸ªappçš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>(æ³¨æ„ï¼šæ˜¾ç„¶ï¼Œä¸€ä¸ªç®¡ç†å¤šä¸ªè´¦æˆ·çš„åº”ç”¨ä¼šåšä¸€äº›ä¸åŒçš„å¤„ç†ã€‚ä½†æ˜¯Vesperæœ€å¤šç®¡ç†ä¸€ä¸ªæœåŠ¡å™¨è´¦æˆ·ï¼Œæ‰€ä»¥è¿™æ ·åšè¿˜ä¸é”™ã€‚åœ¨Vesperçš„ä¾‹å­ä¸­ï¼Œå¤šä¸ªè´¦æˆ·ä¼šéµå®ˆYAGNIè§„åˆ™ã€‚)</p>
<blockquote>
<p>è¯‘è€…æ³¨ï¼šYAGNIï¼Œå³You Ainâ€™t Gonna Need Itï¼Œé€‚å¯ä¸ºæ­¢åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯åªéœ€è¦å°†åº”ç”¨ç¨‹åºå¿…éœ€çš„åŠŸèƒ½åŒ…å«è¿›æ¥ï¼Œè€Œä¸è¦è¯•å›¾æ·»åŠ ä»»ä½•å…¶ä»–ä½ è®¤ä¸ºå¯èƒ½éœ€è¦çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p>VSAccountå¯¹è±¡è´Ÿè´£å‘æœåŠ¡å™¨å‘é€httpè¯·æ±‚ï¼Œå¤„ç†è¿”å›çš„ç»“æœã€‚å®ƒä¼šåœ¨åå°é˜Ÿåˆ—ä¸­æŠŠJSONè½¬åŒ–æˆä¸­é—´å¯¹è±¡ã€‚</p>
<p>å®ƒé€šè¿‡NSDataï¼toï¼processå’Œä¸€ä¸ªå›è°ƒblockæ¥è°ƒç”¨JSONå¤„ç†å™¨ã€‚å½“å¤„ç†å™¨ç»“æŸçš„æ—¶å€™ï¼Œå®ƒä¼šåœ¨ä¸»çº¿ç¨‹è°ƒç”¨blockï¼š</p>
<p>```<br>if (callback) {<br>  dispatch_async(dispatch_get_main_queue(), ^{<br>    callback(parsedObjects)<br>  });<br>}<br>```</p>
<p>è¿™å¯¹äºæˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå¦‚æ­¤å¸¸ç”¨çš„æ¨¡å¼ â€”â€” åœ¨ä¸»çº¿ç¨‹ä¸Šè°ƒç”¨éœ€è¦ä¸€ä¸ªå‚æ•°çš„block â€”â€” ä»¥è‡³äºæˆ‘ä¸ºå®ƒå†™äº†ä¸€ä¸ªé€šç”¨æ–¹æ³•ã€‚JSONå¤„ç†å™¨çš„ç¡®å°±æ˜¯åšäº†è¿™æ ·çš„äº‹æƒ…ï¼š</p>
<p>```<br>BSCallBlockWithParameter(callback, parsedObjects);<br>```</p>
<p>BSCallBlockWithParameteré•¿è¿™ä¸ªæ ·å­ï¼š</p>
<p>```<br>if (!callback)<br>  return;<br>}<br>dispatch_async(dispatch_get_main_queue(), ^{<br>  callback(parsedObjects);<br>});<br>```</p>
<p>æˆ‘ä¸€ç›´ç”¨è¿™ä¸ªã€‚éå¸¸æ–¹ä¾¿ã€‚</p>
<h4 id="ä½¿ç”¨è¿™ç§æ–¹æ³•çš„å…³é”®"><a href="#ä½¿ç”¨è¿™ç§æ–¹æ³•çš„å…³é”®" class="headerlink" title="ä½¿ç”¨è¿™ç§æ–¹æ³•çš„å…³é”®"></a>ä½¿ç”¨è¿™ç§æ–¹æ³•çš„å…³é”®</h4><p>æˆ‘ä»æ¥éƒ½ä¸æƒ³æ‹…å¿ƒåˆ›å»ºåå°ä»»åŠ¡çš„å¯¹è±¡ä¼šä¸ç¿¼è€Œé£ï¼Œæ‰€ä»¥æˆ‘åªé€šè¿‡å»¶ç»­åœ¨appæ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡åˆ›å»ºåå°ä»»åŠ¡ã€‚</p>
<p>ä½ è‚¯å®šä¹Ÿä¸æƒ³é¢ä¸´ä»»åŠ¡å®Œæˆå¹¶å›è°ƒä¹‹å‰ã€åˆ›å»ºåå°ä»»åŠ¡çš„å¯¹è±¡ä¸ç¿¼è€Œé£çš„çŠ¶å†µï¼ˆæˆ–è€…éƒ¨åˆ†æˆ–å½»åº•åˆ†å´©ç¦»æï¼‰ã€‚è¿™æ˜¯ä¸ªæ½œåœ¨çš„å¤æ‚é—®é¢˜ï¼Œæˆ‘ç”šè‡³ä¸æƒ³å»è€ƒè™‘å®ƒã€‚ï¼ˆå¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œæˆ‘<em>è®¨åŒ</em>weakï¼selfæ»¡å¤©é£ã€‚ï¼‰</p>
<p>è¿™ä¹Ÿæ­£æ˜¯ä½ åœ¨å†™ä¸ä¼šå´©æºƒçš„ä»£ç æ—¶éœ€è¦çš„å…·å¤‡çš„å¿ƒæ€ï¼šäº‹æƒ…ä¸€æ—¦æ˜¯å¤æ‚çš„ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æ˜“å‡ºé”™çš„ã€‚æƒ³åŠæ³•è®©å®ƒå¼‚å¸¸ç®€å•ã€‚</p>
<p>ï¼ˆä½ å¯èƒ½ä¼šä¸¾å‡ºå¤æ‚çš„ä¾‹å­ï¼Œå¹¶ä¸”è¯æ˜å®ƒçš„æ­£ç¡®æ€§ â€”â€” ä½†æ˜¯ä»¥åä½ ä¼šä¸ä¼šæœ‰æ‰€è´¨ç–‘ã€è§‰å¾—è¿™æ ·çš„ä»£ç éœ€è¦éªŒè¯ï¼Ÿå¦‚æœä½ ç¨æœ‰åå·®å®ƒæ˜¯ä¸æ˜¯å°±ä¼šæŒ‚æ‰ï¼Ÿå¦‚æœå…¶ä»–äººä½¿ç”¨å®ƒå‘¢ï¼Ÿï¼‰</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ç”¨ç®€å•çš„åŠæ³•è§£å†³é—®é¢˜ï¼šä½¿ç”¨ä¸ä¼šè¢«é‡Šæ”¾çš„å¯¹è±¡ã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªéœ€è¦è°¨è®°åŠé¿å…çš„äº‹ï¼šå›è°ƒblockå¯ä»¥å®‰å…¨åœ°è°ƒç”¨ç±»æ–¹æ³•å’ŒCè¯­è¨€å‡½æ•°ã€‚å¦‚æœå®ä¾‹æ¶ˆå¤±çš„è¯ï¼Œå®ä¾‹æ–¹æ³•å°±æ˜¯ä¸å®‰å…¨çš„ â€”â€” ä½†æ˜¯ç±»æ–¹æ³•å’ŒCè¯­è¨€å‡½æ•°ç†è®ºä¸Šæ˜¯å¯ä»¥å®‰å…¨è°ƒç”¨çš„ã€‚</p>
<p>æˆ‘ä¸ç»å¸¸ä½¿ç”¨è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œä½†æ˜¯æˆ‘ä¼šä¸æ–­çš„å‘ç°å®ƒçš„ç¡®æœ‰ç”¨ã€‚è¦ä¹ˆè°¨æ…ç‚¹ä½¿ç”¨å®ƒï¼Œè¦ä¹ˆå¹²è„†ä¸ç”¨ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é€šè¿‡ä»£ç åŠ è½½storyboardä¸­çš„class]]></title>
      <url>http://www.calios.gq/2015/11/25/%E9%80%9A%E8%BF%87%E4%BB%A3%E7%A0%81%E5%8A%A0%E8%BD%BDstoryboard%E4%B8%AD%E7%9A%84class/</url>
      <content type="html"><![CDATA[<p>1.åœ¨attribute inspectorä¸­ç»™è¦åŠ è½½çš„view controlleræ·»åŠ identifierï¼›</p>
<p><img src="http://i12.tietuku.com/b2e09019a0d77401.png" alt=""></p>
<p>2.æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code>UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@&quot;MainStoryboard&quot; bundle:nil];
DetailViewController *detailViewController = [storyboard instantiateViewControllerWithIdentifier:@&quot;DetailViewController&quot;];
[self.navigationController pushViewController:detailViewController animated:YES];
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[â€œæŠ€æœ¯è°ƒç ”â€æ—¶æˆ‘ä»¬åšäº›ä»€ä¹ˆï¼Ÿ]]></title>
      <url>http://www.calios.gq/2015/11/23/%E2%80%9C%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94%E2%80%9D%E6%97%B6%E6%88%91%E4%BB%AC%E5%81%9A%E4%BA%9B%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘çš„ä¸€ä¸ªé¡¹ç›®æ¶‰åŠåˆ°è§†é¢‘æ’­æ”¾ï¼Œåœ¨ä¸€æ®µæ—¶é—´çš„â€œæŠ€æœ¯è°ƒç ”â€ä¹‹åå®Œæˆçš„é¡¹ç›®çš„å®Œæ•´ç¼–ç å’Œæµ‹è¯•ã€‚å›è¿‡å¤´çœ‹æ—¶ï¼Œå‘ç°è‡ªå·±åœ¨æ‰€è°“çš„â€œæŠ€æœ¯è°ƒç ”â€é˜¶æ®µç®€ç›´æ˜¯åœ¨ä¹±æ’ï¼Œæ¯«æ— ç« æ³•ã€‚å› æ­¤æ€»ç»“ä¸€æ–‡äºæ­¤ã€‚ä»¥å¤‡åæŸ¥ã€‚</p>
<h4 id="è„‘æ´å¼€ä¸€ä¸‹"><a href="#è„‘æ´å¼€ä¸€ä¸‹" class="headerlink" title="è„‘æ´å¼€ä¸€ä¸‹"></a>è„‘æ´å¼€ä¸€ä¸‹</h4><p>å’Œæ‹ç…§ç›¸ä»¿ï¼Œéƒ½æ˜¯éœ€è¦ä¸€ä¸ªä¸»é¢˜ï¼Œä¹Ÿå°±æ˜¯è¦è¡¨ç°ä»€ä¹ˆã€‚åŒæ ·ï¼Œè°ƒç ”çš„ä¸»ä½“è¦æ˜ç¡®ã€‚æ¯”å¦‚è¯´ï¼Œè¦ç ”ç©¶è§†é¢‘æ’­æ”¾ã€‚é‚£ä¹ˆï¼Œæ€ç»´å‘æ•£å¼€æ¥ï¼Œè§†é¢‘æ’­æ”¾æ¶‰åŠåˆ°å“ªäº›ä¸œè¥¿ï¼Ÿï¼ˆå‚è€ƒä½†å¹¶ä¸ä»…é™äºä¸‹å›¾ï¼‰</p>
<p><img src="http://7xkwcv.com1.z0.glb.clouddn.com/What%27re%20we%20talking%20about%20with%20TR%20%3F.png" alt=""></p>
<p>ç»ˆäºï¼Œå¼€å§‹è¿›å…¥æ­£é¢˜ã€‚</p>
<h4 id="As-A-â€¦"><a href="#As-A-â€¦" class="headerlink" title="As A â€¦"></a>As A â€¦</h4><p>ä½œä¸ºä¸€ä¸ªè§†é¢‘æ’­æ”¾çš„å·¥å…·ï¼Œè¦èƒ½æ’­æ”¾è§†é¢‘ï¼ˆèƒ½å¤ŸåŒæ—¶æ”¯æŒéŸ³é¢‘æ›´å¥½ï¼‰ã€‚é‚£ä¹ˆï¼š</p>
<ul>
<li>è§†é¢‘æ¥è‡ªå“ªé‡Œå‘¢ï¼šè¦ä¹ˆæ˜¯æœ¬åœ°èµ„æºï¼Œè¦ä¹ˆæ˜¯ç½‘ç»œèµ„æºã€æµåª’ä½“ä¸€ç±»ã€‚</li>
<li>èƒ½æ”¯æŒä»€ä¹ˆæ ¼å¼ï¼šmp4ï¼Ÿm3u8ï¼Ÿwavï¼Ÿmp3ï¼Ÿ</li>
</ul>
<blockquote>
<p>(PS: æ‰“å°audiovisualMIMETypeså±æ€§æŸ¥çœ‹AVPlayeræ”¯æŒå“ªäº›æ ¼å¼ï¼š</p>
<p>â€œaudio/aacpâ€,<br>â€œaudio/mpeg3â€,<br>â€œaudio/mp3â€,<br>â€œaudio/x-cafâ€,<br>â€œaudio/mpegâ€,<br>â€œaudio/x-mpeg3â€,<br>â€œaudio/wavâ€,<br>â€œaudio/scplsâ€,<br>â€œaudio/mp4â€,<br>â€œaudio/x-mpgâ€,<br>â€œaudio/x-wavâ€,<br>â€œaudio/x-aiffâ€,<br>â€œaudio/x-m4pâ€,<br>â€œaudio/x-scplsâ€,<br>â€œaudio/x-mpegurlâ€,<br>â€œaudio/x-aacâ€,<br>â€œaudio/3gppâ€,<br>â€œaudio/basicâ€,<br>â€œaudio/x-m4aâ€,<br>â€œaudio/x-mpegâ€,<br>â€œaudio/waveâ€,<br>â€œaudio/x-m4râ€,<br>â€œaudio/x-mp3â€,<br>â€œaudio/AMRâ€,<br>â€œaudio/aiffâ€,<br>â€œaudio/3gpp2â€,<br>â€œaudio/aacâ€,<br>â€œaudio/mpgâ€,<br>â€œaudio/mpegurlâ€,<br>â€œaudio/x-m4bâ€,</p>
<p>â€œvideo/3gpp2â€,<br>â€œvideo/quicktimeâ€,<br>â€œvideo/mp4â€,<br>â€œvideo/aviâ€,<br>â€œvideo/x-m4vâ€,<br>â€œvideo/3gppâ€,</p>
<p>â€œtext/vttâ€,</p>
<p>â€œapplication/mp4â€,<br>â€œapplication/x-mpegurlâ€<br>â€œapplication/vnd.apple.mpegurlâ€)</p>
</blockquote>
<ul>
<li>æ’­æ”¾çš„åœºæ™¯ï¼šåœ¨åº”ç”¨ä¸­å‰å°æ’­æ”¾ï¼Ÿæ‰”åˆ°åå°å»äº†æ˜¯è‡ªåŠ¨æš‚åœè¿˜æ˜¯ç»§ç»­æ’­æ”¾ï¼Ÿ</li>
<li>å¯¹äºå•ä¸€èµ„æºè€Œè¨€ï¼Œè¦èƒ½å¤Ÿï¼š<ul>
<li>æ’­æ”¾ï¼æš‚åœï¼›</li>
<li>æ”¹å˜æ’­æ”¾è¿›åº¦ï¼›</li>
<li>éŸ³é‡æ§åˆ¶ï¼›</li>
<li>å…¨å±æ˜¾ç¤ºï¼›</li>
<li>â€¦â€¦</li>
</ul>
</li>
<li>å¯¹äºå¤šä¸ªèµ„æºè€Œè¨€ï¼Œå¯èƒ½éœ€è¦ï¼š<ul>
<li>è§†é¢‘é˜Ÿåˆ—çš„æ’­æ”¾ï¼›</li>
<li>è§†é¢‘é—´çš„åˆ‡æ¢ï¼›</li>
<li>è§†é¢‘æµè§ˆï¼›</li>
<li>â€¦â€¦</li>
</ul>
</li>
</ul>
<h4 id="å¦‚ä½•å®ç°"><a href="#å¦‚ä½•å®ç°" class="headerlink" title="å¦‚ä½•å®ç°"></a>å¦‚ä½•å®ç°</h4><p>åœ¨iOSä¸­ï¼Œæ€ä¹ˆå®ç°è¿™ä¸ªæ’­æ”¾è§†é¢‘çš„åŠŸèƒ½ï¼Ÿ</p>
<p><strong>1.éœ€è¦ç³»ç»Ÿçš„ä»€ä¹ˆç±»åº“ï¼š</strong></p>
<ul>
<li>MediaPlayer.frameworkä¸­çš„MPMoviePlayerControlleræ¥å®ç°çš„ç¡®ç®€å•ï¼Œå‡ å¥ä»£ç å°±å¤Ÿäº†ï¼Œè€Œä¸”æ”¯æŒæœ¬åœ°è§†é¢‘å’Œç½‘ç»œè§†é¢‘ï¼Œä½†æ˜¯å¯¹äºç•Œé¢çš„è‡ªå®šä¹‰ä¸å¼ºã€‚passæ‰ã€‚ï¼ˆ<em>åœ¨iOS9å¼€å§‹è¢«æ ‡è®°ä¸ºäº†å¼ƒç”¨ï¼Œæ”¹ç”¨AVPlayerViewControlleräº†ã€‚</em>ï¼‰</li>
<li>AVFoundationã€‚AVPlayerå­˜åœ¨äºå…¶ä¸­ã€‚å®ƒæ›´æ¥è¿‘åº•å±‚ï¼Œæ‰€ä»¥çµæ´»æ€§ä¹Ÿæ›´å¼ºã€‚<em>ä½†æ˜¯ï¼Œ</em>AVPlayeræœ¬èº«å¹¶æ²¡æœ‰viewå±æ€§ï¼Œå¦‚æœè¦æ˜¾ç¤ºå¿…é¡»åˆ›å»ºä¸€ä¸ªæ’­æ”¾å™¨å±‚AVPlayerLayerç”¨äºå±•ç¤ºã€‚</li>
</ul>
<pre><code>// DPlayerLayerView.h
#import &lt;UIKit/UIKit.h&gt;
#import &lt;AVFoundation/AVFoundation.h&gt;
@interface DPlayerLayerView : UIView

@property (nonatomic, strong) AVPlayer *player;
-(void)setVideoFillMode:(NSString *)fillMode;

@end



// DPlayerLayerView.m
#import &quot;DPlayerLayerView.h&quot;

@implementation DPlayerLayerView

+(Class)layerClass
{
    return [AVPlayerLayer class];
}

// å•çº¯ä½¿ç”¨AVPlayerç±»æ˜¯æ— æ³•æ˜¾ç¤ºè§†é¢‘çš„ï¼Œè¦å°†è§†é¢‘å±‚æ·»åŠ è‡³AVPlayerLayerä¸­ï¼Œè¿™æ ·æ‰èƒ½å°†è§†é¢‘æ˜¾ç¤ºå‡ºæ¥ã€‚
-(AVPlayer *)player
{
    return [(AVPlayerLayer *)[self layer] player];
}

-(void)setPlayer:(AVPlayer *)player
{
    [(AVPlayerLayer *)[self layer] setPlayer:player];
}

// æŒ‡å®švideoåœ¨player layerçš„boundså†…å¦‚ä½•æ˜¾ç¤ºã€‚ï¼ˆé»˜è®¤æ˜¯AVLayerVideoGravityResizeAspectï¼‰
/* å¯é€‰é¡¹ï¼š
 * AVLayerVideoGravityResizeAspectï¼Œä¿è¯å®½é«˜æ¯”ï¼Œåœ¨layerçš„boundså†…æ­£å¸¸æ˜¾ç¤ºï¼›
 * AVLayerVideoGravityResizeAspectFillï¼Œä¿è¯å®½é«˜æ¯”ï¼Œå¡«å……æ»¡layerçš„boundsï¼›
 * AVLayerVideoGravityResizeï¼Œæ‹‰ä¼¸æ¥å¡«æ»¡layerçš„boundsã€‚
 */
-(void)setVideoFillMode:(NSString *)fillMode
{
    AVPlayerLayer *playerLayer = (AVPlayerLayer *)[self layer];
    playerLayer.videoGravity = fillMode;
}

@end
</code></pre><ul>
<li>AVKitã€‚iOS8ä»¥æ¥çš„æ–°ç§€ã€‚ç”¨æ¥ä»£æ›¿MPMoviePlayerViewControllerã€‚åŸºäºAVFoundationã€‚å®ƒæä¾›äº†è§†é¢‘æ’­æ”¾çš„UIï¼Œåˆå¯ä»¥æ’­æ”¾ä»»ä½•æ¥è‡ªAVFoundationçš„<code>AVPlayer</code>å¯¹è±¡ã€‚ï¼ˆç”±äºé¡¹ç›®éœ€è¦æ”¯æŒiOS7ï¼Œæ‰€ä»¥ï¼Œåªèƒ½å¿ç—›å‰²çˆ±T_Tï¼‰</li>
</ul>
<p><strong>2.API</strong></p>
<p>ä¹‹å‰æŠŠAVPlayerç±»ä¸­çš„æ–¹æ³•æ¢³ç†äº†ä¸€éï¼Œ<a href="http://www.calios.gq/2015/09/24/AVPlayer-Class-Reference/" title="http://www.calios.gq/2015/09/24/AVPlayer-Class-Reference/">åœ¨è¿™é‡Œ</a>ï¼ŒAVPlayerItemå’ŒAVURLAssetæ—¶é—´å…è®¸çš„è¯ä¹Ÿåº”è¯¥æ•´ç†ä¸€ä¸‹ã€‚æ¯”å¦‚AVPlayerItemä¸­çš„<code>cancelPendingSeeks</code>å’ŒAVAssetä¸­çš„<code>cancelLoading</code>ï¼Œå°±å¸®æˆ‘è§£å†³äº†ä¸€ä¸ªå›°æ‰°å¾ˆä¹…çš„é—®é¢˜ã€‚APIå°±åœ¨é‚£å„¿ï¼Œä¸è¿‘ä¸è¿œã€‚ä½ çœ‹åˆ°äº†ï¼Œå°±æ‰¾åˆ°äº†å…‰æ˜ï¼›çœ‹ä¸åˆ°ï¼Œå°±ç»§ç»­åœ¨é»‘æš—ä¸­æ‘¸ç´¢ã€‚</p>
<p><strong>3.æ¥è‡ªè‹¹æœï£¿çš„demo</strong></p>
<p>è¿™å°±æ˜¯è‹¹æœèµ äºˆå¼€å‘è€…çš„å½©è›‹å•Šã€‚åœ¨ç½‘ç»œä¸ŠèŒ«èŒ«å¦‚æµ·çš„èµ„æ–™ä¸­ï¼Œå®˜ç½‘demoæ°¸è¿œæ˜¯é‚£ä¸ªæŒ‡å¼•çš„ç¯å¡”ï¼Œæ˜¯ç»å¸¸è®©ä½ æ„Ÿæ…¨â€œåŸæ¥å¯ä»¥è¿™ä¹ˆå†™è¿™ä¹ˆç®€å•â€çš„å­˜åœ¨ã€‚</p>
<p>è§†é¢‘æ’­æ”¾ç›¸å…³çš„demoæœ‰ï¼š</p>
<ul>
<li>MoviePlayerï¼›</li>
<li>AVPlayerDemoï¼›</li>
<li>AVLoupeã€‚</li>
</ul>
<p>ï¼ˆPSï¼šXcodeè‡ªå¸¦çš„Documentå…¶å®å¾ˆå¥½ç”¨ï¼ŒCommand ï¼‹ Shift ï¼‹ æ•°å­—0ï¼Œè°ƒå‡ºæ¥å°±å¯ä»¥ç›´æ¥æœç´¢ï¼Œå¯åŠ æ ‡ç­¾ï¼Œå¯çœ‹demoï¼Œå’ŒDashçš„å·®åˆ«å°±æ˜¯ä¸èƒ½åœ¨è¿™é‡Œçœ‹æ”¶è—çš„ä»£ç æ®µï¼Œä½†æ˜¯å¯ä»¥åœ¨Utility Viewä¸­çœ‹å•Šï½ï¼‰</p>
<p><strong>4.å…¶ä»–æ•™ç¨‹</strong></p>
<p>èƒ½å¤Ÿåœ¨æ¥è§¦ä¸€ä¸ªäº‹ç‰©ï¼æ¨¡å—çš„åˆæœŸçœ‹åˆ°ä¸€ç¯‡é€šä¿—æ˜“æ‡‚ã€æ¡ç†æ¸…æ™°çš„æ•™ç¨‹ä¹Ÿæ˜¯ä¸ªå¹¸è¿çš„äº‹ã€‚ä»¥ä¸‹åˆ—å‡ºå‡ ç¯‡ä»ä¸­å—ç›ŠåŒªæµ…çš„ï¼Œä»¥æ­¤æ„Ÿè°¢å„ä½ä½œè€…ã€‚</p>
<p><a href="http://www.cnblogs.com/kenshincui/p/4186022.html" target="_blank" rel="external">http://www.cnblogs.com/kenshincui/p/4186022.html</a></p>
<p><a href="https://www.shinobicontrols.com/blog/ios8-day-by-day-day-26-avkit" target="_blank" rel="external">https://www.shinobicontrols.com/blog/ios8-day-by-day-day-26-avkit</a></p>
<h4 id="Trick-or-treat"><a href="#Trick-or-treat" class="headerlink" title="Trick or treat?"></a>Trick or treat?</h4><p>é™¤äº†ä¸Šé¢åˆ—å‡ºçš„åŸºæœ¬åŠŸèƒ½å¤–ï¼Œè¿˜æœ‰ä¸€äº›å¯èƒ½ç°åœ¨ä¸æ˜¯å¿…é¡»ã€ä½†å¾ˆå¸¸è§çš„åŠŸèƒ½ç‚¹ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>è·å–è§†é¢‘çš„ç¼©ç•¥å›¾ï¼›</li>
<li>æ¸…ç†ç¼©ç•¥å›¾çš„ç¼“å­˜ï¼›</li>
<li>èµ„æºçš„ç¼“å­˜ï¼›</li>
<li>æœ¬åœ°è§†é¢‘èµ„æºçš„æ’­æ”¾ï¼›</li>
<li>æ¸…ç†å·²ä¸‹è½½èµ„æºçš„ç¼“å­˜ï¼›</li>
<li>èµ„æºé˜Ÿåˆ—ï¼›</li>
<li>è·³åˆ°æŒ‡å®šä½ç½®å¼€å§‹æ’­æ”¾ï¼›</li>
<li>ç½‘ç»œçŠ¶å†µåˆ‡æ¢æ—¶çš„å¤„ç†ï¼›</li>
<li>é™åˆ¶å¸¦å®½çš„æƒ…å†µä¸‹ï¼Œå¯¹äºç æµå’Œæ¸…æ™°åº¦çš„æ”¯æŒ(ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ˜¯IMçš„å®½å¸¦ï¼Œåœ¨ç½‘ä¸Šåªèƒ½çœ‹ä¸è¶…è¿‡128kbpsçš„è§†é¢‘ï¼Œè¶…è¿‡128kbpsçš„è§†é¢‘åªèƒ½ç­‰è§†é¢‘ç¼“å†²æ‰èƒ½é¡ºåˆ©è§‚çœ‹ã€‚)ï¼›</li>
<li>â€¦â€¦</li>
</ul>
<h4 id="å…¶ä»–ç›¸å…³"><a href="#å…¶ä»–ç›¸å…³" class="headerlink" title="å…¶ä»–ç›¸å…³"></a>å…¶ä»–ç›¸å…³</h4><p>å¯¹äºè§†é¢‘æœ‰ä»¥ä¸Šçš„é—®é¢˜éœ€è¦è€ƒè™‘ï¼Œé‚£ä¹ˆå…¶ä»–ç›¸å…³çš„å‘¢ï¼Ÿæ¯”å¦‚ï¼š</p>
<ul>
<li>éŸ³é¢‘çš„æ’­æ”¾ï¼ŸAVPlayeræœ¬èº«å¯ä»¥æ’­æ”¾mp3ç­‰æ ¼å¼çš„éŸ³é¢‘ï¼›åŒå±AVFoundationä¸­çš„<code>AVAudioPlayer</code>ä¹Ÿå¯ä»¥æ’­æ”¾éŸ³é¢‘ï¼Œä½†ä»…é™äºæœ¬åœ°æ–‡ä»¶ã€‚</li>
<li>åœ¨éŸ³é¢‘/è§†é¢‘æ’­æ”¾æ—¶ï¼Œå¯¹äºè€³æœºçš„æ”¯æŒï¼Ÿ</li>
<li>å°¤å…¶æ˜¯è§†é¢‘çš„æ’­æ”¾æ—¶ï¼Œå¯¹äºAirPlayçš„æ”¯æŒï¼Ÿ</li>
<li>â€¦â€¦</li>
</ul>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>æœ¬æ–‡å¹¶æ²¡æœ‰å¾ˆè¯¦ç»†çš„åˆ—å‡ºåœ¨å¤„ç†è§†é¢‘æ’­æ”¾æ—¶å…·ä½“çš„APIï¼Œæ›´å¤šçš„æ˜¯æƒ³ç»™ä¹‹åç±»ä¼¼çš„â€œæŠ€æœ¯è°ƒç ”â€æä¾›ä¸€ç§æ€è€ƒçš„æ¨¡å¼ï¼Œä¸è‡³äºä¸Šæ¥å°±ä¸€å¤´ä¹±æ’ã€‚å®ç°ä¸€ä¸ªåŠŸèƒ½ä¸éš¾ï¼Œé€šè¿‡å®ç°åŠŸèƒ½æ¥è®­ç»ƒè‡ªå·±çš„æ€ç»´èƒ½åŠ›ï¼Œæ‰èƒ½è®©è‡ªå·±æ›´æœ‰æ•ˆç‡çš„æå‡å§ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€Bashã€‘grepå¸¸ç”¨å‘½ä»¤åŠä¸¾ä¾‹]]></title>
      <url>http://www.calios.gq/2015/11/19/%E3%80%90Bash%E3%80%91grep%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8F%8A%E4%B8%BE%E4%BE%8B/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/" title="http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/" target="_blank" rel="external">http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/</a></p>
<hr>
<p>1.å¿½ç•¥å¤§å°å†™ -i</p>
<pre><code>è¯­æ³•ï¼šgrep -i â€œstringâ€ FILE
</code></pre><p>2.æŸ¥æ‰¾å®Œæ•´çš„å•è¯ï¼Œè€Œä¸æ˜¯å­å­—ç¬¦ä¸² -w<br>3.å±•ç¤ºåŒ¹é…åçš„Nè¡Œ</p>
<pre><code>è¯­æ³•ï¼šgrep -A &lt;N&gt; â€œstringâ€ FILE

$ grep -A 3 -i â€œexampleâ€ demo_text
</code></pre><p>4.å±•ç¤ºåŒ¹é…å‰çš„Nè¡Œ</p>
<pre><code>è¯­æ³•ï¼šgrep -B &lt;N&gt; â€œstringâ€ FILENAME

$ grep -B 2 â€œsingleâ€ demo_text
</code></pre><p>5.å±•ç¤ºåŒ¹é…é™„è¿‘çš„Nè¡Œ</p>
<pre><code>$ grep -C â€œExampleâ€ demo_text
</code></pre><p>6.é«˜äº®æ˜¾ç¤ºæœç´¢å…³é”®è¯ GREP_OPTIONS</p>
<pre><code>$ export GREP_OPTIONS=â€˜--color=autoâ€™ GREP_COLOR=â€˜100;8â€™
</code></pre><p>7.é€’å½’æœç´¢æ‰€æœ‰æ–‡ä»¶ -r</p>
<pre><code>$ grep -r â€œremissâ€ *
</code></pre><p>8.è®¡ç®—åŒ¹é…çš„æ•°é‡ -c</p>
<pre><code>è¯­æ³•ï¼šgrep -c â€œpatternâ€ filename

$ grep -c â€œgoâ€ demo_text
3
</code></pre><p>9.åªæ˜¾ç¤ºåŒ¹é…è§„åˆ™çš„æ–‡ä»¶åå­— -l</p>
<pre><code>$ grep -l this demo_*
demo_file
demo_file1
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Vimium(Chromeæ‰©å±•)å¸¸ç”¨æŒ‰é”®åˆ—è¡¨]]></title>
      <url>http://www.calios.gq/2015/11/19/Vimium-Chrome%E6%89%A9%E5%B1%95-%E5%B8%B8%E7%94%A8%E6%8C%89%E9%94%AE%E5%88%97%E8%A1%A8/</url>
      <content type="html"><![CDATA[<h4 id="å½“å‰é¡µé¢çš„å¯¼èˆªï¼š"><a href="#å½“å‰é¡µé¢çš„å¯¼èˆªï¼š" class="headerlink" title="å½“å‰é¡µé¢çš„å¯¼èˆªï¼š"></a>å½“å‰é¡µé¢çš„å¯¼èˆªï¼š</h4><table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>ä½œç”¨ </th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>æ˜¾ç¤ºå¸®åŠ©å¯¹è¯æ¡†ï¼Œåˆ—å‡ºæ‰€æœ‰å¯ç”¨æŒ‰é”®  </td>
</tr>
<tr>
<td>h</td>
<td>å‘å·¦æ»š  </td>
</tr>
<tr>
<td>j</td>
<td>å‘ä¸‹æ»š  </td>
</tr>
<tr>
<td>k</td>
<td>å‘ä¸Šæ»š  </td>
</tr>
<tr>
<td>l</td>
<td>å‘å³æ»š  </td>
</tr>
<tr>
<td>gg</td>
<td>æ»šåˆ°é¡µé¦–  </td>
</tr>
<tr>
<td>G</td>
<td>æ»šåˆ°é¡µå°¾  </td>
</tr>
<tr>
<td>d</td>
<td>å‘ä¸‹æ»šåŠå± J</td>
</tr>
<tr>
<td>u</td>
<td>å‘ä¸Šæ»šåŠå±</td>
</tr>
<tr>
<td>f</td>
<td>åœ¨å½“å‰æ ‡ç­¾æ‰“å¼€é“¾æ¥</td>
</tr>
<tr>
<td>F</td>
<td>åœ¨æ–°æ ‡ç­¾æ‰“å¼€é“¾æ¥</td>
</tr>
<tr>
<td>r</td>
<td>é‡æ–°åŠ è½½</td>
</tr>
<tr>
<td>gs</td>
<td>æŸ¥çœ‹æºä»£ç </td>
</tr>
<tr>
<td>i</td>
<td>è¿›å…¥insertæ¨¡å¼ â€”â€” æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«å¿½ç•¥ï¼Œç›´åˆ°ä½ æŒ‰ä¸‹Escæ¥é€€å‡º</td>
</tr>
<tr>
<td>yy</td>
<td>å°†å½“å‰urlå¤åˆ¶åˆ°å‰ªåˆ‡æ¿</td>
</tr>
<tr>
<td>yf</td>
<td>å°†ä¸€ä¸ªurlå¤åˆ¶åˆ°å‰ªåˆ‡æ¿</td>
</tr>
</tbody>
</table>
<h4 id="å¯¼èˆªè‡³æ–°é¡µé¢ï¼š"><a href="#å¯¼èˆªè‡³æ–°é¡µé¢ï¼š" class="headerlink" title="å¯¼èˆªè‡³æ–°é¡µé¢ï¼š"></a>å¯¼èˆªè‡³æ–°é¡µé¢ï¼š</h4><table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>ä½œç”¨ </th>
</tr>
</thead>
<tbody>
<tr>
<td>o</td>
<td>æ‰“å¼€urlï¼Œä¹¦ç­¾ï¼Œæˆ–è€…å†å²è®°å½•</td>
</tr>
<tr>
<td>O</td>
<td>åœ¨æ–°æ ‡ç­¾æ‰“å¼€urlï¼Œä¹¦ç­¾ï¼Œæˆ–è€…å†å²è®°å½•</td>
</tr>
<tr>
<td>b</td>
<td>æ‰“å¼€ä¹¦ç­¾</td>
</tr>
<tr>
<td>B</td>
<td>åœ¨æ–°æ ‡ç­¾æ‰“å¼€ä¹¦ç­¾</td>
</tr>
</tbody>
</table>
<h4 id="ä½¿ç”¨æŸ¥æ‰¾ï¼š"><a href="#ä½¿ç”¨æŸ¥æ‰¾ï¼š" class="headerlink" title="ä½¿ç”¨æŸ¥æ‰¾ï¼š"></a>ä½¿ç”¨æŸ¥æ‰¾ï¼š</h4><table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>ä½œç”¨ </th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>è¿›å…¥æŸ¥æ‰¾æ¨¡å¼ â€”â€” è¾“å…¥ä½ æŸ¥æ‰¾çš„å†…å®¹ï¼ŒæŒ‰enterå¼€å§‹æœç´¢ï¼Œæˆ–è€…Escé€€å‡º</td>
</tr>
<tr>
<td>n</td>
<td>å‘å‰å¾ªç¯æŸ¥æ‰¾ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹</td>
</tr>
<tr>
<td>N</td>
<td>å‘åå¾ªç¯æŸ¥æ‰¾å‰ä¸€ä¸ªåŒ¹é…é¡¹</td>
</tr>
</tbody>
</table>
<p>å¯¹äºé«˜çº§ç”¨æ³•ï¼Œå¯ä»¥æŸ¥çœ‹wikiä¸­çš„<a href="https://github.com/philc/vimium/wiki/Find-Mode" title="https://github.com/philc/vimium/wiki/Find-Mode" target="_blank" rel="external">æ­£åˆ™è¡¨è¾¾å¼</a>ã€‚</p>
<h4 id="å¯¼èˆªå†å²ï¼š"><a href="#å¯¼èˆªå†å²ï¼š" class="headerlink" title="å¯¼èˆªå†å²ï¼š"></a>å¯¼èˆªå†å²ï¼š</h4><table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>ä½œç”¨ </th>
</tr>
</thead>
<tbody>
<tr>
<td>H</td>
<td>å›é€€åˆ°å†å²ä¸­çš„ä¸Šä¸€é¡µ</td>
</tr>
<tr>
<td>L</td>
<td>å‰è¿›åˆ°å†å²ä¸­çš„ä¸‹ä¸€é¡µ</td>
</tr>
</tbody>
</table>
<h4 id="æ“ä½œæ ‡ç­¾ï¼š"><a href="#æ“ä½œæ ‡ç­¾ï¼š" class="headerlink" title="æ“ä½œæ ‡ç­¾ï¼š"></a>æ“ä½œæ ‡ç­¾ï¼š</h4><table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>ä½œç”¨ </th>
</tr>
</thead>
<tbody>
<tr>
<td>J,gT</td>
<td>å‰å¾€å·¦è¾¹ä¸€ä¸ªæ ‡ç­¾</td>
</tr>
<tr>
<td>K,gt</td>
<td>å‰å¾€å³è¾¹ä¸€ä¸ªæ ‡ç­¾</td>
</tr>
<tr>
<td>g0</td>
<td>å‰å¾€ç¬¬ä¸€ä¸ªæ ‡ç­¾</td>
</tr>
<tr>
<td>g$</td>
<td>å‰å¾€æœ€åä¸€ä¸ªæ ‡ç­¾</td>
</tr>
<tr>
<td>t</td>
<td>æ–°å»ºæ ‡ç­¾</td>
</tr>
<tr>
<td>yt</td>
<td>å¤åˆ¶å½“å‰æ ‡ç­¾</td>
</tr>
<tr>
<td>x</td>
<td>å…³é—­å½“å‰æ ‡ç­¾</td>
</tr>
<tr>
<td>X</td>
<td>é‡æ–°æ‰“å¼€å…³é—­çš„æ ‡ç­¾</td>
</tr>
<tr>
<td>T</td>
<td>åœ¨æ‰“å¼€çš„æ ‡ç­¾ä¸­æœç´¢</td>
</tr>
<tr>
<td>\<a-p\></a-p\></td>
<td>é’‰ä½/å–æ¶ˆé’‰ä½å½“å‰æ ‡ç­¾</td>
</tr>
</tbody>
</table>
<h4 id="åˆ‡æ¢æ¨¡å¼"><a href="#åˆ‡æ¢æ¨¡å¼" class="headerlink" title="åˆ‡æ¢æ¨¡å¼"></a>åˆ‡æ¢æ¨¡å¼</h4><p>è¿™é‡Œä¸»è¦è¯´visual modeï¼ˆå¯è§†æ¨¡å¼ï¼‰å’Œcaret modeï¼ˆå…‰æ ‡æ¨¡å¼ï¼‰ä¹‹é—´çš„åˆ‡æ¢ã€‚</p>
<p>æ¯”å¦‚è¯´æˆ‘åœ¨ç½‘ç«™ä¸Šé˜…è¯»ä¸€ç¯‡æ–‡ç« ï¼Œæƒ³é€‰æ‹©å¹¶å¤åˆ¶ä¸€æ®µæ–‡å­—ï¼Œè¿™æ—¶æˆ‘åº”è¯¥æ€æ ·æ“ä½œï¼Ÿ</p>
<ul>
<li>å‡è®¾æˆ‘æ˜¯åœ¨normal modeï¼ˆæ™®é€šæ¨¡å¼ï¼‰ä¸‹ï¼ŒæŒ‰<code>v</code>å³å¯è¿›å…¥å¯è§†æ¨¡å¼ï¼Œé€šè¿‡hjklè¿›è¡Œå·¦ä¸‹ä¸Šå³çš„é€‰æ‹©ï¼ŒæŒ‰<code>V</code>å³å¯é€‰æ‹©è¡Œï¼›</li>
<li>å‡è®¾æˆ‘å·²ç»è¿›å…¥å¯è§†æ¨¡å¼ï¼Œä½†å…‰æ ‡æ‰€åœ¨ä½ç½®å¹¶ä¸æ˜¯æˆ‘æƒ³é€‰æ‹©çš„åœ°æ–¹ï¼Œå¯ä»¥æŒ‰<code>c</code>è¿›å…¥å…‰æ ‡æ¨¡å¼ï¼Œé€šè¿‡hjklè¿›è¡Œå…‰æ ‡ç§»åŠ¨ï¼Œå†æŒ‰<code>v/V</code>åœ¨åˆé€‚çš„ä½ç½®å¼€å§‹é€‰æ‹©ï¼›</li>
<li>åœ¨å¯è§†æ¨¡å¼ä¸‹ï¼ŒæŒ‰<code>o</code>å¯ä»¥å°†å…‰æ ‡åˆ‡æ¢åˆ°é€‰ä¸­å†…å®¹åˆ°å¦ä¸€ç«¯ã€‚</li>
<li>æŸ¥æ‰¾ï¼ˆ/ï¼‰åœ¨å…‰æ ‡æ¨¡å¼å’Œå¯è§†æ¨¡å¼ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</li>
</ul>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="https://github.com/philc/vimium/issues/1642" title="https://github.com/philc/vimium/issues/1642" target="_blank" rel="external">Caret mode in Github vimiim issues</a></p>
<p><a href="https://github.com/philc/vimium/blob/master/README.md" target="_blank" rel="external">https://github.com/philc/vimium/blob/master/README.md</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Macå¸¸ç”¨å¿«æ·é”®è®°å½•]]></title>
      <url>http://www.calios.gq/2015/11/19/Mac%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%AE%B0%E5%BD%95/</url>
      <content type="html"><![CDATA[<table>
<thead>
<tr>
<th style="text-align:left">å¿«æ·é”®ï¼ˆç»„åˆï¼‰</th>
<th style="text-align:left">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Finderä¸­command + â†“</td>
<td style="text-align:left">ç›¸å½“äºåŒå‡»é¼ æ ‡ï¼Œå³æ‰“å¼€æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:left">æ–‡æ¡£ä¸­command + â†‘/â†“</td>
<td style="text-align:left">å…‰æ ‡ç§»è‡³æ–‡æ¡£é¦–éƒ¨/å°¾éƒ¨</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ -4ï¼šçº¿ç¨‹ï¼ˆä¸€ï¼‰]]></title>
      <url>http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/22/how_not_to_crash_4_threading" title="http://inessential.com/2015/05/22/how_not_to_crash_4_threading" target="_blank" rel="external">http://inessential.com/2015/05/22/how_not_to_crash_4_threading</a></p>
<hr>
<p>æœ‰ä¸€ä¸ªç®€å•çš„è§„åˆ™ï¼šæ‰€æœ‰äº‹æƒ…éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šåšã€‚æœºå™¨å’Œè®¾å¤‡å¦‚ä»Šéƒ½å¾ˆå¿«ï¼Œä½ å¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¸Šåšæ¯”ä½ æƒ³è±¡çš„å¤šå¾—å¤šçš„äº‹ã€‚</p>
<p>å½“ä½ ä¸å¿…è€ƒè™‘å¹¶å‘çš„æ—¶å€™ï¼Œé‚£å°±æ˜¯æŸç§æ„ä¹‰ä¸Šçš„å¤©å ‚äº†ï¼Œå› ä¸ºå¹¶ä¸å­˜åœ¨å¹¶å‘çš„é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯â€¦â€¦</p>
<p>æˆ‘æ˜¯ä¸€ä¸ªæ€§èƒ½çš„æ¨å´‡è€…ã€‚æˆ–è€…æ›´è´´åˆ‡åœ°è¯´ï¼Œæˆ‘æ˜¯ä¸ªç”¨æˆ·ä½“éªŒçš„æ¨å´‡è€…ï¼Œæ¯”ååº”è¿Ÿé’æ›´ç³Ÿç³•çš„æ˜¯ååº”è¿Ÿé’å¹¶ä¸”æ˜æ˜¾åœ°é˜»å¡åœ¨ä¸»çº¿ç¨‹ã€‚ä¸è¦é‚£ä¹ˆåšã€‚</p>
<p>æˆ‘ä¼šè®²è§£é‚£ä»¶äº‹ã€‚ä½†æ˜¯è®©æˆ‘ä»¬å…ˆä»ä¸»çº¿ç¨‹å¼€å§‹ã€‚</p>
<h4 id="ä¸»çº¿ç¨‹è§„åˆ™"><a href="#ä¸»çº¿ç¨‹è§„åˆ™" class="headerlink" title="ä¸»çº¿ç¨‹è§„åˆ™"></a>ä¸»çº¿ç¨‹è§„åˆ™</h4><p>æˆ‘å†™çš„æ‰€æœ‰ä»£ç éƒ½å¸Œæœ›è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œå¹¶ä¸”é™¤éç‰¹ä¾‹ï¼Œå¦åˆ™åªè¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸Šã€‚ï¼ˆæˆ‘ä»¬é©¬ä¸Šä¼šè®²åˆ°ç‰¹ä¾‹ã€‚ï¼‰</p>
<p>è¿™å°±è§£å†³äº†ä¸€å †çš„é—®é¢˜ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä¹‹å‰å†™è¿‡çš„ä¸€ç¯‡<a href="http://www.calios.gq/2015/11/16/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-3%EF%BC%9ANSNotification/" title="http://www.calios.gq/2015/11/16/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-3%EF%BC%9ANSNotification/">åœ¨deallocä¸­å–æ¶ˆé€šçŸ¥çš„æ³¨å†Œ</a>ã€‚æœ‰äº›äººæŒ‡å‡ºä½ ä¸èƒ½ä¿è¯deallocåœ¨é‚£ä¸ªçº¿ç¨‹ä¸Šè¢«è°ƒç”¨ â€”â€” ä½†æ˜¯ä½ å®é™…ä¸Šæ˜¯å¯ä»¥çš„ï¼Œå¯¹äºä»»ä½•è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸Šçš„ç»™å®šå¯¹è±¡ï¼Œåªåœ¨ä¸»çº¿ç¨‹ä¸Šè¢«å¼•ç”¨ã€‚</p>
<p>è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œä»»ä½•KVOçš„æ”¹å˜éƒ½ä¼šåœ¨ä¸»çº¿ç¨‹ä¸Šä¼ æ’­ï¼Œä»»ä½•è§‚å¯Ÿçš„å¯¹è±¡éƒ½ä¼šè¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸Šï¼ŒåŒæ—¶ç­‰å¾…æ¥è‡ªä¸»çº¿ç¨‹çš„é€šçŸ¥ã€‚</p>
<p>ä¸éœ€è¦å¤„ç†å¹¶å‘çš„å¥½å¤„ç®€ç›´æ˜¯<em>å·¨å¤§çš„</em>ã€‚æˆ‘å¼ºçƒˆå»ºè®®ä½ ç”¨è¿™ç§æ–¹å¼å†™ä½ æ•´ä¸ªåº”ç”¨ï¼Œç„¶åæµ‹è¯•çœ‹æ˜¯å¦æœ‰ä»€ä¹ˆåœ°æ–¹é˜»å¡äº†ä¸»çº¿ç¨‹ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£å°±æ˜¯å®Œç¾äº†ï¼Œä½ å°±å¯ä»¥ç»“æŸæˆ˜æ–—äº†ã€‚ï¼ˆå½“ç„¶ï¼Œç”¨åˆé€‚çš„å¤§é‡æ•°æ®æ¥æµ‹è¯•ã€‚ï¼‰</p>
<h4 id="ç”Ÿæ´»åœ¨å®ƒä»¬è‡ªå·±å°åœˆå­ä¸­çš„å¯¹è±¡"><a href="#ç”Ÿæ´»åœ¨å®ƒä»¬è‡ªå·±å°åœˆå­ä¸­çš„å¯¹è±¡" class="headerlink" title="ç”Ÿæ´»åœ¨å®ƒä»¬è‡ªå·±å°åœˆå­ä¸­çš„å¯¹è±¡"></a>ç”Ÿæ´»åœ¨å®ƒä»¬è‡ªå·±å°åœˆå­ä¸­çš„å¯¹è±¡</h4><p>å¦‚æœ â€”â€” åªæœ‰å¦‚æœ â€”â€” å½“ä½ å‘ç°ä¸»çº¿ç¨‹æ˜æ˜¾è¢«é˜»å¡æ—¶ï¼Œä½ æ‰åº”è¯¥æƒ³åŠæ³•å»æ¸…ç†é˜»å¡ã€‚</p>
<p>ç¬¬ä¸€é€‰æ‹©æ˜¯ä½¿ç”¨èƒ½å¤Ÿå’Œä½ åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†å½»åº•éš”ç¦»çš„è½¬æ¢æ–¹å¼ã€‚ä¸¾ä¸ªå¤„ç†JSONçš„ä¾‹å­ã€‚</p>
<p>å½“æˆ‘ä»æœåŠ¡å™¨è·å–JSONæ•°æ®æ—¶ï¼Œæˆ‘å–œæ¬¢æŠŠå®ƒè½¬åŒ–æˆä¸­é—´å¯¹è±¡ï¼Œä»¥ä¾¿ä¹‹åå¯ä»¥å½’åˆ°æ¨¡å‹å¯¹è±¡ä¸­ã€‚åŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li>æˆ‘ä¸å¸Œæœ›æ¨¡å‹å¯¹è±¡çŸ¥é“JSONçš„å­˜åœ¨ã€‚</li>
<li>æˆ‘å¸Œæœ›èƒ½å¤„ç†NSNullä¸€ç±»çš„å€¼ï¼Œæ—¥æœŸè½¬åŒ–ï¼Œè¿˜æœ‰å…¶ä»–ä»»ä½•å¯¹è±¡æ¥æ‰‹æ•°æ®ä¹‹å‰çš„æ‰€æœ‰å…¶ä»–çš„è½¬åŒ–ã€‚</li>
</ol>
<p>æ‰€ä»¥æˆ‘ç”¨ä¸€ä¸ªNSOperationQueueæˆ–è€…GCDé˜Ÿåˆ—ï¼ˆæœ€è¿‘é€šå¸¸æ˜¯åè€…ï¼‰æ¥æŠŠæœåŠ¡å™¨è¿”å›çš„NSDataè½¬åŒ–æˆä¸­é—´å¯¹è±¡ã€‚</p>
<p>ï¼ˆå°½é‡ä½¿ç”¨é˜Ÿåˆ—ã€‚ç»ä¸è¦ä½¿ç”¨<code>detachThreadSelector</code>æˆ–è€…<code>performSelectorInBackground</code>ã€‚ï¼‰</p>
<p>è¿™äº›ä¸­é—´å¯¹è±¡æ¯æ¬¡ä¼šè¢«å•ä¸€çº¿ç¨‹è·å–ã€‚å®ƒä»¬åœ¨åå°çº¿ç¨‹è¢«åˆ›å»ºï¼Œç„¶åè¢«ä¼ åˆ°ä¸»çº¿ç¨‹ï¼Œåœ¨é‚£é‡Œè¢«ç”¨äºæ›´æ–°æ¨¡å‹ï¼Œç„¶åè¢«ä¸¢å¼ƒã€‚</p>
<p>å› ä¸ºå®ƒä»¬åœ¨ç”Ÿå‘½å‘¨æœŸä¸­è¢«ä¸åŒçš„çº¿ç¨‹å¼•ç”¨ï¼Œæˆ‘ç¡®ä¿¡è¿™äº›å¯¹è±¡é™¤äº†å®ƒä»¬è‡ªå·±ä¹‹å¤–ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼ŒåªçŸ¥é“è¢«ä¼ å…¥å®ƒä»¬çš„initæ–¹æ³•ä¸­çš„æ˜¯ç¥é©¬ã€‚ä¸€æ—¦åœ¨é˜Ÿåˆ—ä¸­è¢«åˆ›å»ºï¼Œå®ƒä»¬å°±æ˜¯ä¸å¯å˜çš„äº†ã€‚å®ƒä»¬ä¸è§‚å¯Ÿä»»ä½•äº‹ï¼Œä¹Ÿæ²¡æœ‰äººè§‚å¯Ÿå®ƒä»¬ï¼ˆæ¯•ç«Ÿï¼Œå®ƒä»¬æ˜¯ä¸æ”¹å˜çš„ï¼‰ã€‚</p>
<p>ï¼ˆä»ä¸æ”¹å˜çš„å¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œé‚£äº›å¯¹è±¡æ˜¯å®Œå…¨çº¿ç¨‹å®‰å…¨çš„ã€‚ç„¶è€Œï¼Œæ²¡å¿…è¦å¼ºè¿«çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºé‡è¦çš„æ˜¯å®ƒä»¬åœ¨å•ä¸€çº¿ç¨‹çš„ä¸€æ¬¡ä½¿ç”¨æ—¶æ˜¯å®‰å…¨çš„ï¼Œè€ŒéåŒæ—¶åœ¨å¤šä¸ªçº¿ç¨‹ã€‚ï¼‰</p>
<h4 id="å¯¹è±¡å’Œå®ƒçš„å°ä¼™ä¼´"><a href="#å¯¹è±¡å’Œå®ƒçš„å°ä¼™ä¼´" class="headerlink" title="å¯¹è±¡å’Œå®ƒçš„å°ä¼™ä¼´"></a>å¯¹è±¡å’Œå®ƒçš„å°ä¼™ä¼´</h4><p>æœ‰æ—¶å€™å¾ˆå¤šå¯¹è±¡ä¼šååŒå·¥ä½œã€‚æ”¾ä¸‹JSONï¼Œæˆ‘ä»¬æ¥è€ƒè™‘RSSè§£æå™¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¶‰åŠåˆ°ä¸‰ä¸ªä¸»è¦å¯¹è±¡ï¼šä¸€ä¸ªSAXè§£æå™¨çš„å°è£…å™¨ï¼Œå®ƒçš„ä»£ç†æ–¹æ³•ï¼Œå’Œè¿™ä¸ªä»£ç†åˆ›å»ºçš„ä¸­é—´å¯¹è±¡ã€‚ï¼ˆæ¦‚å¿µä¸Šæ¥è¯´ï¼Œå’Œä¸Šé¢ä¾‹å­ä¸­çš„å¯¹è±¡éå¸¸åƒã€‚ï¼‰</p>
<p>SAXè§£æå™¨çš„å°è£…å™¨å’Œå®ƒçš„ä»£ç†çš„ç”Ÿå‘½å‘¨æœŸè´¯ç©¿æ•´ä¸ªæ“ä½œã€‚å®ƒä»¬ä¸éœ€è¦æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå°½ç®¡ä»£ç è¿è¡Œä¸­å•ç‹¬çš„çº¿ç¨‹ä¸­ â€”â€” å› ä¸ºå®ƒä»¬<em>åª</em>è¢«é‚£ä¸ªçº¿ç¨‹è·å–ã€‚å½“å®ƒä»¬åœ¨å·¥ä½œæ—¶ï¼Œå®ƒä»¬å¯¹å¤–é¢çš„ä¸–ç•Œä¸€æ— æ‰€çŸ¥ï¼Œè€Œå¤–è´¸çš„ä¸–ç•Œå¯¹äºå®ƒä»¬ä¹Ÿæ˜¯ä¸€æ— æ‰€çŸ¥ã€‚</p>
<ol>
<li>SAXè§£æå™¨çš„å°è£…å™¨çŸ¥é“å®ƒåˆå§‹åŒ–æ—¶å€™ç”¨çš„NSDataï¼ŒçŸ¥é“å®ƒæœ‰ä¸€ä¸ªä»£ç†ã€‚</li>
<li>SAXè§£æå™¨çš„å°è£…å™¨çŸ¥é“å®ƒåˆ›å»ºçš„ä¸­é—´å¯¹è±¡ã€‚</li>
<li>ä¸­é—´å¯¹è±¡ä»€ä¹ˆéƒ½ä¸çŸ¥é“ã€‚</li>
</ol>
<p>äºæ˜¯ï¼Œè¿™äº›å¯¹è±¡ååŒå·¥ä½œï¼Œä½†æ˜¯ï¼Œé‡è¦çš„æ˜¯ï¼Œå®ƒä»¬ä»ä¸ä½¿ç”¨KVOæˆ–è€…é€šçŸ¥æ¨¡å¼ã€‚å®ƒä»¬ä½¿ç”¨ä»£ç†æ¨¡å¼æ¥å–è€Œä»£ä¹‹ï¼ˆæˆ–è€…ä½¿ç”¨blockå’Œå‡½æ•°åœ¨ç†è®ºä¸Šéƒ½ä¸é‡è¦ï¼‰ã€‚</p>
<p>è¿™äº›å¯¹è±¡ååŒå·¥ä½œï¼Œä½†åŒæ—¶ä¹Ÿå°½å¯èƒ½çš„ä¿æŒè¿™ä¸ªå›¢é˜Ÿä¸å®ƒçš„ä»»åŠ¡ç‹¬ç«‹åœ°åˆ†ç¦»å¼€ã€‚</p>
<p>æœ€åï¼Œåªæœ‰ä¸­é—´å¯¹è±¡ä¼šç•™å­˜ä¸‹æ¥ â€”â€” å®ƒä»¬è¢«ä¼ å›ä¸»çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯åœ¨é‚£é‡Œå®ƒä»¬è¢«ç”¨æ¥æ›´æ–°æ¨¡å‹ã€‚ç„¶åå®ƒä»¬ä¹Ÿè¢«ä¸¢å¼ƒã€‚</p>
<h4 id="æœ€ç³Ÿç³•çš„åœºæ™¯"><a href="#æœ€ç³Ÿç³•çš„åœºæ™¯" class="headerlink" title="æœ€ç³Ÿç³•çš„åœºæ™¯"></a>æœ€ç³Ÿç³•çš„åœºæ™¯</h4><p>æˆ‘å¤šæ¬¡é‡å¤äº†â€œæ›´æ–°æ¨¡å‹â€è¿™ä¸ªè¯ç»„ï¼Œå¹¶æåˆ°åœ¨ä¸»çº¿ç¨‹åšè¿™ä»¶äº‹ã€‚å‡ å¹´å‰æˆ‘ä»æ²¡æœ‰æ¢¦æƒ³è¿‡å¯ä»¥è¿™ä¹ˆå¹² â€”â€” ä½†ç”µè„‘å’Œè®¾å¤‡å·²ç»å˜å¾—å¦‚æ­¤è¿…é€Ÿï¼Œä»¥è‡³äºå¯ä»¥å®ç°ä¼˜å…ˆè€ƒè™‘åªè¿è¡Œåœ¨ä¸»çº¿ç¨‹ï¼Œç„¶åï¼Œåªæœ‰å½“å¤„ç†èƒ½å¤Ÿã€å¹¶ä¸”åº”è¯¥è¢«å®‰å…¨æŒªåˆ°é˜Ÿåˆ—ä¸­çš„å…¶ä»–æ‰€æœ‰äº‹æƒ…æ—¶ï¼Œå†è€ƒè™‘å…¶ä»–å¯é€‰é¡¹ã€‚</p>
<p>ä½ ä¸ä¼š<em>çœŸçš„</em>æƒ³è¦åœ¨åå°çº¿ç¨‹ä¸­æ›´æ–°æ¨¡å‹ã€‚å®ƒæ˜¯ä¸ªç”Ÿäº§å´©æºƒçš„æœºå™¨ã€‚ä½†æ˜¯æµ‹è¯•å’Œæ€§èƒ½å‰–æå¯èƒ½ä¼šå‘Šè¯‰ä½ ä½ éœ€è¦è¿™ä¹ˆåšã€‚</p>
<p>è¯•ç€è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœæ›´æ–°æ¨¡å‹<em>é™¤äº†</em>ä¸€ä»¶äº‹å¤–å…¶ä»–éƒ½å¥½ â€”â€” æ¯”å¦‚è¯´ï¼Œæ¶‰åŠåˆ°å°†NSDataè½¬æ¢æˆUIImageæˆ–è€…NSImage â€”â€” é‚£å°±<em>ä»…ä»…æŠŠæ…¢çš„é‚£éƒ¨åˆ†</em>æŒªåˆ°åå°ä»»åŠ¡ä¸­ã€‚ï¼ˆé€šè¿‡dataæˆ–è€…æ–‡ä»¶æ¥åˆ›å»ºå›¾ç‰‡ï¼ŒæŠŠè¿™ä¸ªæŒªå‡ºä¸»çº¿ç¨‹å®åœ¨æ˜¯ä¸€ä»¶å®Œç¾çš„äº‹ã€‚å®ƒå¾ˆå®¹æ˜“è¢«éš”ç¦»å¼€ã€‚ï¼‰</p>
<p>å¯èƒ½æœ‰é—®é¢˜çš„æ˜¯æ•°æ®åº“ï¼šå¯èƒ½ä½ å‘ç°å®ƒåœ¨å†…å­˜ä¸­åˆ›å»ºå¯¹è±¡ã€æ›´æ–°å±æ€§éƒ½å¾ˆå¿«ï¼Œå³ä½¿æœ‰ä¸€å †ä¹Ÿæ˜¯å¦‚æ­¤ã€‚åœ¨é‚£ç§åœºæ™¯ä¸­ï¼Œä½ å¯èƒ½å°±ä¼šåƒæˆ‘ä¸€æ ·ï¼ŒæŠŠæ•°æ®åº“çš„è°ƒç”¨ä»ä¸»çº¿ç¨‹ä¸­åˆ†ç¦»å‡ºæ¥ã€‚ï¼ˆå¹¶æ²¡æœ‰é‚£ä¹ˆéš¾ï¼šæ•°æ®åº“éœ€è¦åœ¨ä¸€ç³»åˆ—çš„åå°çº¿ç¨‹ä¸­è¿è¡Œï¼Œå®ƒè¦æŒ‰ç…§ä¸¥æ ¼çš„é¡ºåºæ¥æ‰§è¡Œé‚£äº›ä¸»çº¿ç¨‹ä¸­çš„ä»»åŠ¡ã€‚ï¼‰</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼šæ˜¯å­˜åœ¨å…¶ä»–å¯é€‰é¡¹çš„ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ ä»ç„¶å‘ç°ä½ ä¸å¾—ä¸åœ¨åå°çº¿ç¨‹ä¸­æ›´æ–°æ¨¡å‹ï¼Œé‚£å°±ä¸å¾—ä¸è¿™ä¹ˆåšå§ã€‚åˆ‡è®°ä½ åº”ç”¨çš„ å…¶ä»–éƒ¨åˆ†æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œæ‰€ä»¥åœ¨å‘é€é€šçŸ¥æˆ–è€…åšå…¶ä»–äº‹æƒ…æ—¶ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸Šå¤„ç†ã€‚</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>åœ¨ä¸»çº¿ç¨‹ä¸Šåšæ¯ä»¶äº‹ã€‚å¯¹äºé˜Ÿåˆ—å’Œåå°çº¿ç¨‹æƒ³éƒ½ä¸è¦æƒ³ã€‚äº«å—å¤©å ‚å§ï¼</p>
<p>å¦‚æœåœ¨æµ‹è¯•å’Œæ€§èƒ½åˆ†æåï¼Œä½ å‘ç°è‡ªå·±ä¸å¾—ä¸æŠŠä¸€äº›ä¸œè¥¿æŒªåˆ°åå°é˜Ÿåˆ—ä¸­ï¼ŒæŒ‘é‚£äº›å¯ä»¥è¢«å®Œç¾åˆ†ç¦»çš„éƒ¨åˆ†ï¼Œå¹¶ä¿è¯å®ƒä»¬è¢«å®Œç¾éš”ç¦»å¼€ã€‚ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼›ä¸è¦ä½¿ç”¨KVOæˆ–è€…é€šçŸ¥æ¨¡å¼ã€‚</p>
<p>æœ€åï¼Œå¦‚æœä½ ä»ç„¶éœ€è¦èµ°äº›é‡è·¯å­ â€”â€” æ¯”å¦‚è¯´åœ¨åå°é˜Ÿåˆ—ä¸­æ›´æ–°ä½ çš„æ¨¡å‹ â€”â€” åˆ‡è®°ä½ åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†è¦ä¹ˆæ˜¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œè¦ä¹ˆæ˜¯ä¸åˆ†å‰²çš„æ•´ä½“ï¼Œèƒ½è®©ä½ åœ¨èµ°é‡è·¯å­æ—¶ä¸å¿…è€ƒè™‘å®ƒä»¬ã€‚ç„¶åï¼šå°å¿ƒè¡Œäº‹ï¼Œä¸è¦ä¹è§‚å¤ªæ—©ã€‚ï¼ˆä¹è§‚ä¸»ä¹‰è€…åˆ›é€ å´©æºƒã€‚ï¼‰</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-3ï¼šNSNotification]]></title>
      <url>http://www.calios.gq/2015/11/16/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-3%EF%BC%9ANSNotification/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification" title="http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification" target="_blank" rel="external">http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification</a></p>
<hr>
<p>é€šå¸¸æ¥è¯´ï¼Œå’ŒKVOä¸ï¼ˆç‰¹åˆ«æ˜¯ï¼‰ç»‘å®šç›¸æ¯”ï¼Œæˆ‘æ›´å–œæ¬¢NSNotificationã€‚æˆ‘çš„ç¡®æœ‰æ—¶å€™ç”¨KVO â€”â€” æ¯å½“è¿™æ—¶å®ƒéƒ½æ˜¯é‚£æœ€æ•æ„Ÿçš„éƒ¨åˆ†ã€‚ä½†æ˜¯NSNotificationåƒå¾ˆå¤šæ¯”è¾ƒè€çš„APIä¸€æ ·ï¼Œæ˜¯å¾ˆå®¹æ˜“ä½¿ç”¨è€Œä¸ä¼šå¯¼è‡´å´©æºƒçš„ã€‚</p>
<p>ä½†æ˜¯ä½ è¿˜æ˜¯è¦å°å¿ƒã€‚</p>
<h4 id="ä¸€ç§å¯¼è‡´å´©æºƒçš„æ–¹å¼"><a href="#ä¸€ç§å¯¼è‡´å´©æºƒçš„æ–¹å¼" class="headerlink" title="ä¸€ç§å¯¼è‡´å´©æºƒçš„æ–¹å¼"></a>ä¸€ç§å¯¼è‡´å´©æºƒçš„æ–¹å¼</h4><p>å½“ä¸€ä¸ªå¯¹è±¡æ³¨å†Œäº†ä¸€ä¸ªé€šçŸ¥ï¼Œç„¶åæ²¡æœ‰å–æ¶ˆæ³¨å†Œå°±è¢«é”€æ¯äº†ï¼Œç„¶ååº”ç”¨å°±ä¼šåœ¨å‘é€é€šçŸ¥çš„æ—¶å€™å´©æºƒæ‰ã€‚è¿™æ˜¯ä½ éœ€è¦é¿å…çš„ã€‚æ–‡ç« ä½™ä¸‹çš„éƒ¨åˆ†å°±æ¥è¯´è¯´è¯¥æ€ä¹ˆåšã€‚</p>
<h4 id="ä¸€æ¡é‡è¦è§„åˆ™"><a href="#ä¸€æ¡é‡è¦è§„åˆ™" class="headerlink" title="ä¸€æ¡é‡è¦è§„åˆ™"></a>ä¸€æ¡é‡è¦è§„åˆ™</h4><p>æˆ‘æœ‰ä¸€æ¡ç®€å•è€Œç²—æš´æœ‰æ•ˆçš„è§„åˆ™ï¼š<em>åªåœ¨ä¸»çº¿ç¨‹</em>å‘é€NSNotificationã€‚æ— ä¸€ä¾‹å¤–ã€‚å¦‚æœä¸€äº›ä»£ç è¿è¡Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œå®ƒéœ€è¦å‘é€ä¸€ä¸ªé€šçŸ¥ï¼Œé‚£å®ƒå¿…é¡»åœ¨ä¸»çº¿ç¨‹åšè¿™ä»¶äº‹ã€‚</p>
<p>è¿™å°±é¿å…äº†æ‰€æœ‰ä½ ä¸å¸Œæœ›çš„çº¿ç¨‹å‘æ¥çš„é€šçŸ¥æ‰€å¯¼è‡´çš„é—®é¢˜ã€‚è¿™æ ·ä¹Ÿé¿å…äº†å› ä¸ºæ²¡æœ‰å–æ¶ˆé€šçŸ¥æ³¨å†Œè€Œå¸¦æ¥çš„ä¸€å›¢ä¹±éº»çš„æƒ…å½¢ã€‚</p>
<p>ä¸€ä¸ªåº”ç”¨åŸºæœ¬ä¸Šæ‰€æœ‰çš„ä»£ç éƒ½åº”åœ¨è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­ã€‚NSOperationæˆ–è€…GCD queueä¸­è¿è¡Œçš„ä»£ç åº”è¯¥å’Œå…¶ä»–æ‰€æœ‰ä»£ç åˆ†ç¦»å¼€ï¼Œå½“å¤šä¸ªå¯¹è±¡ååŒå·¥ä½œæ—¶åº”è¯¥ç”¨ä»£ç†æ¨¡å¼ï¼ˆç”¨æˆ–è€…ä¸ç”¨blockï¼‰ã€‚</p>
<p>ä¿è¯é€šçŸ¥æ€»æ˜¯åœ¨ä¸»çº¿ç¨‹è¢«å‘é€åº”è¯¥æ˜¯<em>å°èœä¸€ç¢Ÿ</em>ã€‚ï¼ˆæˆ‘ä¼šåœ¨å¦ä¸€ç¯‡ã€Šå¦‚ä½•é¿å…ç¨‹åºå´©æºƒã€‹ç³»åˆ—çš„æ–‡ç« ä¸­è¯¦ç»†å°†çº¿ç¨‹å’Œé˜Ÿåˆ—ã€‚ï¼‰</p>
<h4 id="æ‰¹é‡å–æ¶ˆæ³¨å†Œ"><a href="#æ‰¹é‡å–æ¶ˆæ³¨å†Œ" class="headerlink" title="æ‰¹é‡å–æ¶ˆæ³¨å†Œ"></a>æ‰¹é‡å–æ¶ˆæ³¨å†Œ</h4><p>æœ‰äº›äººå–œæ¬¢åœ¨<code>dealloc</code>ä¸­åšäº›é¢å¤–çš„ç»´æŠ¤å·¥ä½œï¼Œæ¥ç²¾ç¡®åœ°ç»™æ¯ä¸ªNSNotificationå–æ¶ˆæ³¨å†Œã€‚ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code>[[NSNotificationCenter defaultCenter] removeObserver:self name:kSomeNotificationName object:someObject];
[[NSNotificationCenter defaultCenter] removeObserver:self name:kSomeOtherNotificationName object:someOtherObject];
etc...
</code></pre><p>ä½ å¯ä»¥è¯æ˜ä½ å†™çš„æ˜¯å¯¹çš„ã€‚ä½†æ˜¯ç®€å•æ‰«ä¸€çœ¼ä»£ç æ˜¯ä¸å¤Ÿçš„ â€”â€” éšç€æ—¶é—´çš„å¢é•¿ï¼Œä½ ä¸å¾—ä¸ä»”ç»†æ€è€ƒè‡ªå·±çš„ä»£ç ã€‚</p>
<p>ä»¥åï¼Œä½ æˆ–è€…åˆ«äººå¯èƒ½ä¼šæ·»åŠ å¦ä¸€ä¸ªé€šçŸ¥ï¼Œç„¶åå¿˜äº†ä¸ºé‚£ä¸ªé€šçŸ¥è°ƒç”¨<code>removeObserver</code>ã€‚ç„¶åï¼Œå°±å´©æºƒäº†ã€‚</p>
<p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæœªæ¥æ¥æ‰‹çš„äººå¯èƒ½ä¸å¾—ä¸é€šè¯»ä½ çš„ä»£ç ï¼Œä»”ç»†æ ¸æŸ¥æ¥ç¡®ä¿æ¯ä¸ªæ³¨å†Œçš„é€šçŸ¥éƒ½è¢«ç§»é™¤äº†ã€‚è¿™å°±æ˜¯ç—›ç‚¹ï¼šæ‰‹åŠ¨å·¥ä½œè€Œåˆæ˜“å‡ºé”™ã€‚</p>
<p>ç›¸åï¼Œç»å¸¸è¿™ä¹ˆå†™ï¼š</p>
<pre><code>[NSNotificationCenter defaultCenter removeObserver:self];
</code></pre><p>å¦‚æœæ˜¯å°ç¬¬å®‰é‚£Â·ç¼æ–¯ï¼ˆã€Šå¤ºå®å¥‡å…µã€‹çš„ä¸»è§’ï¼‰ï¼Œä»–ä¼šè¿™ä¹ˆåšã€‚</p>
<h4 id="å½“å¿ƒå¤šæ¬¡æ³¨å†Œ"><a href="#å½“å¿ƒå¤šæ¬¡æ³¨å†Œ" class="headerlink" title="å½“å¿ƒå¤šæ¬¡æ³¨å†Œ"></a>å½“å¿ƒå¤šæ¬¡æ³¨å†Œ</h4><p>å¦‚æœä¸€ä¸ªå¯¹è±¡æ³¨å†Œäº†ä¸€ä¸ªé€šçŸ¥ï¼Œç„¶ååˆæ³¨å†Œä¸€éï¼Œé€šçŸ¥çš„å¤„ç†å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ã€‚ä¸ä¼šè‡ªåŠ¨åˆå¹¶ã€‚</p>
<p>ï¼ˆè¿™åœ¨è¿‡å»çš„æ—¥å­é‡Œç»å¸¸å‘ç”Ÿåœ¨iOSä¸­çš„viewDidLoadã€‚äººä»¬ä¼šæŠŠæ³¨å†Œä»£ç æ”¾åœ¨é‚£é‡Œ â€”â€” ä½†æ˜¯ï¼Œåˆ«å¿˜äº†è§†å›¾å¯ä»¥è¢«å¸è½½å’Œé‡æ–°åŠ è½½ï¼Œè¿™å°±æ„å‘³ç€å¯¹äºåŒä¸€ä¸ªé€šçŸ¥çš„å¤šæ¬¡æ³¨å†Œã€‚ï¼‰</p>
<p>ä½ çš„é€šçŸ¥çš„å¤„ç†å‡½æ•°åº”è¯¥å¯¹äºè¢«è°ƒç”¨ä¸¤æ¬¡åšç›¸åº”å¤„ç†ã€‚ä¹Ÿä¸åº”è¯¥è®©ç»™å®šå¯¹è±¡æ³¨å†Œä¸¤æ¬¡ç›¸åŒçš„é€šçŸ¥æˆä¸ºå¯èƒ½ã€‚äºŒè€…éƒ½è¦æ³¨æ„ã€‚</p>
<h4 id="åœ¨initä¸­æ³¨å†Œï¼Œåœ¨deallocä¸­å–æ¶ˆæ³¨å†Œ"><a href="#åœ¨initä¸­æ³¨å†Œï¼Œåœ¨deallocä¸­å–æ¶ˆæ³¨å†Œ" class="headerlink" title="åœ¨initä¸­æ³¨å†Œï¼Œåœ¨deallocä¸­å–æ¶ˆæ³¨å†Œ"></a>åœ¨initä¸­æ³¨å†Œï¼Œåœ¨deallocä¸­å–æ¶ˆæ³¨å†Œ</h4><p>å‡ ä¹åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œæˆ‘éƒ½åœ¨initæ–¹æ³•ä¸­æ³¨å†Œè§‚å¯Ÿè€…ï¼Œç„¶ååœ¨<code>dealloc</code>ä¸­ç§»é™¤è§‚å¯Ÿè€…ã€‚å¦‚æœæˆ‘å‘ç°ä¸€ä¸ªå¯¹è±¡éœ€è¦åœ¨å®ƒçš„ç”Ÿå‘½å‘¨æœŸé‡Œæ·»åŠ å’Œç§»é™¤è§‚å¯Ÿè€…ï¼Œæˆ‘ä¼šè§†ä¹‹ä¸ºå¼ºå£®çš„ä»£ç ã€‚</p>
<p>è¿™æ˜¯ä¸ªå¾ˆå¥½çš„æœºä¼šï¼Œ1ï¼‰è¦ä¹ˆæ˜¯å®ƒå¹¶ä¸æ˜¯çœŸæ­£éœ€è¦è¿™ä¹ˆåš 2ï¼‰è¿™ä¸ªå¯¹è±¡éœ€è¦åˆ’åˆ†æˆæ›´å°çš„å¯¹è±¡ã€‚</p>
<p>ä½ çŸ¥é“å¯¹äºä¸€ä¸ªç»™å®šçš„å¯¹è±¡è€Œè¨€ï¼Œinitæ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ä½ ä¹ŸçŸ¥é“deallocæ–¹æ³•åªä¼šåœ¨æ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨è¿™ä¸ªå¯¹è±¡æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªçŸ¥è¯†ç‚¹æ¥ä¿æŒæ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œä¹‹é—´çš„å¹³è¡¡ï¼Œè€Œä¸å¿…å»æ€è€ƒæˆ–è€…è·Ÿè¸ªå®ƒã€‚å¦‚æ­¤ç®€å•ã€‚</p>
<h4 id="é¿å…addObserverForName"><a href="#é¿å…addObserverForName" class="headerlink" title="é¿å…addObserverForName"></a>é¿å…addObserverForName</h4><p>æœ‰äº›äººå–œæ¬¢<code>-[NSNotificationCenter addObserverForName: object: queue: usingBlock:]</code>ã€‚è¿™æ„Ÿè§‰å¾ˆæ—¶é«¦ï¼Œå› ä¸ºæ˜¯åŸºäºblockçš„ï¼Œè€Œæˆ‘ä»¬éƒ½å–œæ¬¢blockã€‚ï¼ˆæˆ‘ç¡®ä¿¡ï¼‰</p>
<p>ä½†æ˜¯è¿™æ˜¯ä¸ªç³Ÿç³•çš„ä¸»æ„ã€‚ä½ å¯èƒ½æœ¬å¯ä»¥ä¿ç•™è‡ªå·±å†™çš„å¤„ç†é€šçŸ¥çš„æ–¹æ³•ï¼Œä½†æ˜¯ä½ ä¹Ÿè®©ä½ çš„æ•´ç†å·¥ä½œæ›´åŠ ç³Ÿç³•ï¼Œå› ä¸ºç°åœ¨ä½ å°±é¢å¤–å¤šäº†ä¸€ä¸ªå¯¹è±¡éœ€è¦ç…§çœ‹ï¼Œåˆéœ€è¦ç¨åè°ƒç”¨<code>removeObserver</code>ã€‚è¿™å°±æ„å‘³ç€æ²¡æœ‰æ‰¹é‡å–æ¶ˆæ³¨å†Œï¼›å®ƒæ„å‘³ç€ä½ è¦å›å»åšå®¡æ ¸çš„å·¥ä½œï¼Œè¿™å°±æ„å‘³ç€ä½ åˆå¤šäº†ä¸€ä»¶äº‹æƒ…è¦ä¿éšœã€‚</p>
<p>åŸºäºblockçš„ç‰ˆæœ¬æ„å‘³ç€ä½ å¯ä»¥è®©æ³¨å†Œå’Œå¤„ç†é€šçŸ¥ä¸€èµ·ä¿ç•™ â€”â€” ä½†æ˜¯è¿™ä¹ˆåšçš„è¯ï¼Œåœ¨æ•´ç†å·¥ä½œå’Œæ½œåœ¨å´©æºƒæ–¹é¢çš„ä»£ä»·å®åœ¨æ˜¯å¤ªå¤§äº†ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-2ï¼šå¯å˜å¯¹è±¡çš„å¼‚å¸¸]]></title>
      <url>http://www.calios.gq/2015/11/13/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-2%EF%BC%9A%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%82%E5%B8%B8/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/16/how_not_to_crash_2_mutation_exceptions" target="_blank" rel="external">http://inessential.com/2015/05/16/how_not_to_crash_2_mutation_exceptions</a></p>
<hr>
<p>ä½ ä»æŸå¤„è·å–åˆ°ä¸€ä¸ªé›†åˆå¹¶æšä¸¾å®ƒ â€”â€” ç„¶åå½“ä½ åœ¨æ”¹å˜è¿™ä¸ªé›†åˆçš„æ—¶å€™æŠ¥é”™ï¼Œå› ä¸ºå®ƒæ­£åœ¨è¿›è¡Œæšä¸¾ã€‚åº”ç”¨å´©æºƒäº†ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä¸€ä¸ªå°æŠ€å·§é¿å…è¿™ç§æ‚²ä¼¤çš„å‘½è¿ï¼šä¸è¦å¯¹å¯å˜çš„é›†åˆè¿›è¡Œæšä¸¾æ“ä½œã€‚</p>
<h4 id="å¼‚è®®"><a href="#å¼‚è®®" class="headerlink" title="å¼‚è®®"></a>å¼‚è®®</h4><p>ä½ å¯èƒ½æŒæœ‰æŸç§åˆç†çš„è§‚ç‚¹ï¼Œè¯´<em>çœŸæ­£</em>çš„ç­”æ¡ˆæ˜¯ä¸è¦åœ¨å¯¹é›†åˆè¿›è¡Œæšä¸¾çš„æ—¶å€™å¯¹å¯å˜çš„é›†åˆè¿›è¡Œæ”¹å˜ã€‚ä½ åº”è¯¥å¯¹äºè‡ªå·±çš„åº”ç”¨æœ‰è¶³å¤Ÿçš„äº†è§£ï¼Œä»¥ä¾¿èƒ½å¤Ÿå†™å‡ºå®‰å…¨åœ°å¯¹å¯å˜é›†åˆè¿›è¡Œæšä¸¾çš„ä»£ç ã€‚</p>
<p>æ˜¯çš„ï¼Œä½ åº”è¯¥å¦‚æ­¤ã€‚ä½ ç»å¯¹åº”è¯¥å¦‚æ­¤ã€‚</p>
<p>ç„¶è€Œï¼šç¼–å†™è¿œç¦»å´©æºƒçš„ä»£ç å°±æ˜¯åœ¨äºæ¶ˆé™¤ç–‘ç‚¹ã€‚å°±åœ¨äºèƒ½å¤Ÿå°†é”™è¯¯çš„å‡ ç‡æœ€å°åŒ–ï¼Œå°†æœªæ¥çš„ï¼ˆç”±ä½ æˆ–å…¶ä»–äººå¸¦æ¥çš„ï¼‰æ”¹å˜å¼•å…¥å´©æºƒçš„å¯èƒ½æ€§æœ€å°åŒ–ã€‚</p>
<h4 id="å¯å˜é›†åˆä¸åº”è¯¥æˆä¸ºå…¬æœ‰æ¥å£çš„ä¸€éƒ¨åˆ†"><a href="#å¯å˜é›†åˆä¸åº”è¯¥æˆä¸ºå…¬æœ‰æ¥å£çš„ä¸€éƒ¨åˆ†" class="headerlink" title="å¯å˜é›†åˆä¸åº”è¯¥æˆä¸ºå…¬æœ‰æ¥å£çš„ä¸€éƒ¨åˆ†"></a>å¯å˜é›†åˆä¸åº”è¯¥æˆä¸ºå…¬æœ‰æ¥å£çš„ä¸€éƒ¨åˆ†</h4><p>ä¸€ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªå¯å˜é›†åˆä½œä¸ºå…¬æœ‰å±æ€§ï¼Œè¿™ä»¶äº‹æœ¬æ¥å°±åº”è¯¥å°½é‡é¿å… â€”â€” æˆ–è€…æœ€å¥½ä¸è¦å‘ç”Ÿã€‚å¯å˜é›†åˆåº”è¯¥è¢«æ§åˆ¶åœ¨å¯¹è±¡å†…éƒ¨ã€‚</p>
<p>ï¼ˆæ›´è¿›ä¸€æ­¥åœ°è¯´ï¼Œå…¬æœ‰çš„é›†åˆåº”è¯¥ä¸ºåªè¯»ã€‚å½“ç„¶äº‹å®ä¹Ÿå¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚ï¼‰</p>
<p>ç°åœ¨ï¼Œå®ƒæ•´ä½“ä¸Šå¯èƒ½æ˜¯æœ‰ä¸€ä¸ªå…¬æœ‰é›†åˆï¼Œåœ¨å†…éƒ¨åˆæœ‰ä¸€ä¸ªå¯å˜çš„é›†åˆã€‚æƒ³è±¡ä¸€ä¸ªè·Ÿè¸ªoperationçš„å¯¹è±¡ã€‚å®ƒå¯èƒ½å…¬æœ‰æ–¹æ³•è¿™ä¹ˆå†™ï¼š</p>
<pre><code>@property (nonatomic, readonly) NSArray *operations;
</code></pre><p>å†…éƒ¨ç§æœ‰æ–¹æ³•è¿™ä¹ˆå†™ï¼š</p>
<pre><code>@property (nonatomic) NSMutableArray *mutableOperations;
- (NSArray *)operations {
  return self.mutableOperations;
}
</code></pre><p>è¿™æ˜¯å®Œå…¨åˆæƒ…åˆç†çš„ä»£ç ï¼šå› ä¸ºmutableOperationsæ˜¯ä¸€ä¸ªNSMutableArrayï¼Œå®ƒåˆåŒæ—¶æ˜¯ä¸€ä¸ªNSArrayã€‚ï¼ˆæˆ‘å¤šå¹´æ¥éƒ½è¿™ä¹ˆå†™ã€‚æˆ‘å¯¹è‡ªå·±è¯´ï¼šâ€Heyï¼Œæˆ‘æ˜¯ä¸ªè¿‡æ¥äººäº†ã€‚æˆ‘èƒ½<em>åº”ä»˜çš„äº†</em>ã€‚â€œä½†æ˜¯æˆ‘æ²¡æœ‰æ„è¯†åˆ°çš„æ˜¯ï¼Œæˆç†Ÿçš„å¼€å‘è€…æ˜¯ä¸ºäº†å‡å°‘å‡ºé”™çš„å¯èƒ½è€Œå†™ä»£ç ã€‚ï¼‰</p>
<h4 id="è¢«æŒ‡å®šä¸ºä¸å¯å˜çš„å±æ€§åº”è¯¥åå‰¯å…¶å®"><a href="#è¢«æŒ‡å®šä¸ºä¸å¯å˜çš„å±æ€§åº”è¯¥åå‰¯å…¶å®" class="headerlink" title="è¢«æŒ‡å®šä¸ºä¸å¯å˜çš„å±æ€§åº”è¯¥åå‰¯å…¶å®"></a>è¢«æŒ‡å®šä¸ºä¸å¯å˜çš„å±æ€§åº”è¯¥åå‰¯å…¶å®</h4><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½ å£°æ˜<code>operations</code>æ˜¯ä¸€ä¸ªåœ¨ä»»ä½•æ—¶å€™éƒ½å¯ä»¥å®‰å…¨æšä¸¾çš„æ•°ç»„ã€‚å¦ä¸€ä¸ªäºº â€”â€” æˆ–è€…å°±æ˜¯ä½ è‡ªå·± â€”â€” åœ¨å…­ä¸ªæœˆä¹‹åçœ‹è¿™æ®µä»£ç æ—¶ï¼Œå®Œå…¨ä¸ä¼šæ„è¯†åˆ°ä½ æ­£åœ¨è·å–çš„å¯å˜æ•°ç»„ï¼Œå¹¶<em>ä¸èƒ½</em>è¶³å¤Ÿå®‰å…¨åœ°è¿›è¡Œæšä¸¾ã€‚</p>
<p>è¿™å°±æ˜¯å®ç°åå‰¯å…¶å®çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code>- (NSArray *)operations {
  return [self.mutableOperations copy];
}
</code></pre><p>ï¼ˆå¦‚æœä¸ºäº†è¡¨è¾¾å¾—æ›´æ¸…æ™°ï¼ŒæŠŠå±æ€§å£°æ˜ä¸ºcopyä¹Ÿä¸ä¼šæœ‰å½±å“ï¼Œä½†æ˜¯æˆ‘æ‰¿è®¤æˆ‘ä¸ç»å¸¸è¿™ä¹ˆåšã€‚è®©APIçš„ä½¿ç”¨è€…å®Œå…¨æ¸…æ™°åœ°çŸ¥é“æ­£åœ¨å‘ç”Ÿä»€ä¹ˆåº”è¯¥æ˜¯æœ‰å¥½å¤„çš„ã€‚ï¼‰</p>
<p>ä½ å¯èƒ½ä¼šç¿»å›å»å¼•ç”¨æ€§èƒ½æˆ–è€…å†…å­˜ä½¿ç”¨çš„é—®é¢˜æˆ–è€…äºŒè€…çš†æœ‰ â€”â€” è€Œæˆ‘å¿…é¡»æ‰¿è®¤ï¼šæˆ‘æ˜¯ä¸€ä¸ªæ€§èƒ½çš„æ¨å´‡è€…ï¼Œæˆ‘ä¼šåœ¨Instrumentsä¸ŠèŠ±è´¹è¶…ä¹å¸¸ç†çš„æ—¶é—´ï¼Œä»…ä¸ºäº†èƒ½å¤Ÿè®©ä»£ç å¿«é€Ÿè¿è¡Œã€æ²¡æœ‰ä¸åˆç†çš„å†…å­˜æ¶ˆè€—ã€‚æˆ‘ä»æ¥æ²¡æœ‰å‘ç°è¿™ä¹ˆåšæœ‰ä»»ä½•é—®é¢˜ã€‚å¦‚æœä½ çš„åº”ç”¨å‡ºç°æ€§èƒ½æˆ–è€…å†…å­˜æ¶ˆè€—çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯å…¶ä»–é—®é¢˜å¯¼è‡´çš„ï¼Œè€Œä¸æ˜¯è¿™äº›copyã€‚ï¼ˆå°½ç®¡ä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨<code>@autoreleasepool</code>æ¥è®©è¿™äº›copyä¸ç•™å­˜é‚£ä¹ˆé•¿æ—¶é—´ã€‚ï¼‰</p>
<p>copyä¸€ä¸‹å§ã€‚</p>
<h4 id="å½©è›‹ï¼šä¸è¦ç›¸ä¿¡ä»–ä»¬çš„è°è¨€"><a href="#å½©è›‹ï¼šä¸è¦ç›¸ä¿¡ä»–ä»¬çš„è°è¨€" class="headerlink" title="å½©è›‹ï¼šä¸è¦ç›¸ä¿¡ä»–ä»¬çš„è°è¨€"></a>å½©è›‹ï¼šä¸è¦ç›¸ä¿¡ä»–ä»¬çš„è°è¨€</h4><p>æˆ‘æœ€è¿‘è§£å†³äº†ä¸€ä¸ªåœ¨æšä¸¾NSTextStorage layoutManageræ—¶å¯å˜é‡çš„é—®é¢˜ï¼š</p>
<pre><code>@property (readonly, copy) NSArray *layoutManagers;
</code></pre><p><em>æ˜¾ç„¶</em>æšä¸¾æ˜¯å®‰å…¨çš„ã€‚å®ƒæ˜¯ä¸€ä¸ªNSArrayï¼Œå®ƒå£°æ˜è‡ªå·±æ˜¯ä¸ªcopyã€‚æ¼‚äº®ã€‚æšä¸¾èµ°èµ·ã€‚</p>
<p>ä½†æ˜¯ï¼Œå®ƒéª—æˆ‘ã€‚åœ¨è°ƒè¯•å™¨é‡Œï¼Œæˆ‘å‘ç°å®ƒæ˜¯ä¸€ä¸ªNSMutableArrayï¼ˆ__NSArrayMï¼‰â€”â€” è€Œä¸”å®ƒæ ¹æœ¬å°±ä¸æ˜¯ä¸€ä¸ªcopyã€‚å®ƒæ˜¯NSTextStorageçš„åä¸º<code>_layoutManagers</code>çš„å®ä¾‹å˜é‡ï¼Œè¿™ä¸ªå˜é‡è¢«å£°æ˜ä¸ºä¸€ä¸ªNSMutableArrayã€‚</p>
<p>è€Œåœ¨æˆ‘çš„æšä¸¾çš„blockä»£ç é‡Œé¢ï¼Œè§¦å‘äº†layoutManagersçš„æ”¹å˜ï¼Œç„¶ååº”ç”¨å°±å´©æºƒäº†ã€‚</p>
<p>ç­”æ¡ˆæ˜¯ï¼šå¯¹layoutManagersçš„å‰¯æœ¬è¿›è¡Œæšä¸¾ã€‚é—®é¢˜å°±è§£å†³äº†ã€‚</p>
<p>å¸¸è¨€é“ï¼šå¦‚æœä½ ä»åˆ«äººçš„ä»£ç ä¸­è·å–ä¸€ä¸ªé›†åˆï¼Œå¯¹å‰¯æœ¬è¿›è¡Œæšä¸¾æ€»æ²¡åå¤„ï¼Œé˜²æ‚£äºæœªç„¶å˜›ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-1ï¼šKVOä¸æ‰‹åŠ¨ç»‘å®š]]></title>
      <url>http://www.calios.gq/2015/11/12/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-1%EF%BC%9AKVO%E4%B8%8E%E6%89%8B%E5%8A%A8%E7%BB%91%E5%AE%9A/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind" title="http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind" target="_blank" rel="external">http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind</a></p>
<hr>
<p>æˆ‘æœ€è¿‘åœ¨ä¿®å¤ç³»ç»Ÿå´©æºƒçš„bug â€”â€” ä½†æ˜¯ï¼Œä¸å†™å¦‚ä½•ä¿®å¤bugç›¸æ¯”ï¼Œæˆ‘æƒ³ï¼Œå†™å†™å¦‚ä½•åœ¨æœ€åˆå°±é¿å…åˆ›é€ å´©æºƒçš„bugä¼šæ›´æœ‰æ„æ€ä¸€äº›ã€‚</p>
<p>åœ¨ç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä¼šè°ˆè°ˆKVOï¼Œæ‰‹åŠ¨ç»‘å®šï¼Œå¼•ç”¨å¾ªç¯å’Œæ— æ•ˆæ–¹æ³•ã€‚</p>
<h4 id="ç»‘å®šæ„å‘³ç€æ°¸è¿œä¸ä¼šå¤±è”"><a href="#ç»‘å®šæ„å‘³ç€æ°¸è¿œä¸ä¼šå¤±è”" class="headerlink" title="ç»‘å®šæ„å‘³ç€æ°¸è¿œä¸ä¼šå¤±è”"></a>ç»‘å®šæ„å‘³ç€æ°¸è¿œä¸ä¼šå¤±è”</h4><p>iOSå¼€å‘è€…æ²¡æœ‰è¿™ä¸ªï¼Œä½†æ˜¯Macå¼€å‘è€…çš„å°ä¼™ä¼´ä»¬æœ‰ï¼šæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªå±æ€§ç»‘å®šåœ¨å¦ä¸€ä¸ªå±æ€§ä¸Šã€‚æˆ‘ä»¬å¯ä»¥å®ç°è¿™ç‚¹ï¼Œå³å½“x.fooæ›´æ–°çš„æ—¶å€™ï¼Œy.fooä¹Ÿéšä¹‹æ›´æ–°ã€‚</p>
<p>NSKeyValueBinding.håœ¨AppKitä¸­ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹<code>bind:toObject:withKeyPath:options:</code>.</p>
<p>å‡è®¾æœ‰ä¸€ä¸ªæœ‰ç€titleå±æ€§çš„buttonã€‚æ¯å½“controllerçš„titleæ›´æ–°çš„æ—¶å€™ï¼Œè¿™ä¸ªtitleå±æ€§ä¹Ÿåº”è¯¥éšä¹‹æ›´æ–°ã€‚æˆ‘ä»¬å‡è®¾controlleræ‹¥æœ‰è¿™ä¸ªbuttonã€‚ä½ å¯ä»¥è¿™æ ·å†™ä»£ç ï¼š</p>
<pre><code>static NSString kTitleKey = @&quot;title&quot;;
[self.button bind:kTitleKey toObject:self withKeyPath:kTitleKey options:nil];
</code></pre><p>éå¸¸æ–¹ä¾¿ï¼Œè€Œä¸”å¾ˆæœ‰æ•ˆã€‚</p>
<p>åŒæ—¶ï¼Œä½ ä¹Ÿç¦»å´©æºƒä¸è¿œäº†ã€‚</p>
<p>é—®é¢˜åœ¨äºï¼šè¿™ä¸ªç»‘å®šå¼•ç”¨äº†<code>toObject</code>ã€‚è¿™å°±æ„å‘³ç€è¿™ä¸ªbuttonæœ‰æ•ˆåœ°å¼•ç”¨äº†controllerã€‚å¦‚æœcontrolleråˆå¼•ç”¨å®ƒçš„buttonï¼ˆå®ƒæœ¬è¯¥å¦‚æ­¤ï¼‰ï¼Œé‚£ä¹ˆå°±é€ æˆäº†å¼•ç”¨å¾ªç¯ã€‚äºŒè€…éƒ½ä¸ä¼šæˆä¸ºåƒµå°¸ï¼Œä½†æ˜¯éƒ½ä¼šè¢«åºŸå¼ƒã€‚</p>
<p>ä¸€ç§å´©æºƒçš„æ–¹å¼ â€”â€” è¿™ä¹Ÿæ˜¯çœŸå®åœºæ™¯ â€”â€” æ˜¯å¦‚æœè¿™ä¸ªè¢«åºŸå¼ƒçš„controllerç›‘å¬ç€ä¸€ä¸ªé€šçŸ¥ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºBSNotificationï¼‰ï¼Œå¹¶ä¸”å½“æ¥æ”¶åˆ°BSNotificationçš„æ—¶å€™<em>åšäº†ç‚¹äº‹</em>ï¼Œå½“å®ƒ<em>åšè¿™ç‚¹äº‹</em>çš„æ—¶å€™å®ƒå°±ä¼šå´©æºƒï¼Œå› ä¸ºå®ƒåœ¨ç†è®ºä¸Šå·²ç»å¤±æ•ˆï¼Œè€Œå®ƒä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†è¿™ç§æƒ…å†µã€‚</p>
<h4 id="KVOæ„å‘³ç€å¿…é¡»æ¯æ¬¡éƒ½æŠŠæ¯ä»¶äº‹åšåˆ°å®Œå…¨æ­£ç¡®"><a href="#KVOæ„å‘³ç€å¿…é¡»æ¯æ¬¡éƒ½æŠŠæ¯ä»¶äº‹åšåˆ°å®Œå…¨æ­£ç¡®" class="headerlink" title="KVOæ„å‘³ç€å¿…é¡»æ¯æ¬¡éƒ½æŠŠæ¯ä»¶äº‹åšåˆ°å®Œå…¨æ­£ç¡®"></a>KVOæ„å‘³ç€å¿…é¡»æ¯æ¬¡éƒ½æŠŠæ¯ä»¶äº‹åšåˆ°å®Œå…¨æ­£ç¡®</h4><p>è®©æˆ‘ä»¬åŠ ä¸Šç¬¬ä¸‰ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªmodelã€‚æˆ‘ä»¬<em>çœŸæ­£</em>æƒ³è¦çš„æ˜¯è¿™æ ·çš„æµç¨‹ï¼š<br>modelObject.titleçš„æ›´æ–°ï¼Œä¼šä½¿controller.titleæ›´æ–°ï¼Œè€Œcontroller.titleçš„æ›´æ–°ï¼Œä¼šä½¿button.titleæ›´æ–°ã€‚</p>
<p>è¿™æ¬¡æˆ‘ä»¬æ¥ç”¨KVOã€‚</p>
<pre><code>- (NSString *)title {
  return self.modelObject.title;
}
+ (NSSet *)keyPathsâ€‹ForValuesâ€‹AffectingTitle {
  return [NSSet setWithObject:â€‹@&quot;modelObject.title&quot;];
} 
</code></pre><p>å¥½äº† â€”â€” ç°åœ¨æˆ‘ä»¬æœ‰äº†å®Œæ•´çš„æµç¨‹ã€‚å½“modelObject.titleæ”¹å˜çš„æ—¶å€™ï¼Œä¼šå½±å“controller.titleï¼ŒåŒæ—¶button.titleä¹Ÿéšä¹‹æ›´æ–°ä¸ºæ­£ç¡®çš„å€¼ã€‚</p>
<p>éå¸¸æ–¹ä¾¿ï¼Œè€Œä¸”å¾ˆæœ‰æ•ˆã€‚</p>
<p>å½“ç„¶ï¼Œå®ƒä¼šå´©æºƒï¼Œåœ¨modelObjectè¢«é‡Šæ”¾çš„æ—¶å€™ï¼ˆå› ä¸ºmodelObjectçš„å®ä¾‹åœ¨å®ƒè¿˜æ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…çš„æ—¶å€™è¢«é‡Šæ”¾äº†ï¼‰ã€‚</p>
<p>å¦‚æœåè¿‡æ¥ï¼Œcontrollerå¼•ç”¨modelObjectï¼ˆå®ƒå¯èƒ½åº”è¯¥å¦‚æ­¤ï¼‰ï¼Œç„¶åä½ å°±æœ‰äº†ä¸€ä¸ªè¢«åºŸå¼ƒçš„ç¬¬ä¸‰ä¸ªå¯¹è±¡ï¼Œå®ƒæ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ï¼Œæ˜¯ä¸ªéšç€æ—¶é—´å˜åŒ–ä¸æ–­å¢é•¿å˜å¤§çš„è®¨åŒå®¶ä¼™ã€‚</p>
<h4 id="ä¸€ä¸ªå¹¶ä¸é‚£ä¹ˆæ¼‚äº®çš„è§£å†³åŠæ³•"><a href="#ä¸€ä¸ªå¹¶ä¸é‚£ä¹ˆæ¼‚äº®çš„è§£å†³åŠæ³•" class="headerlink" title="ä¸€ä¸ªå¹¶ä¸é‚£ä¹ˆæ¼‚äº®çš„è§£å†³åŠæ³•"></a>ä¸€ä¸ªå¹¶ä¸é‚£ä¹ˆæ¼‚äº®çš„è§£å†³åŠæ³•</h4><p>controllerå¯ä»¥æœ‰ä¸€ä¸ªç±»ä¼¼äº<code>invalidate</code>è¿™æ ·åå­—çš„å‡½æ•°ï¼Œç”¨æ¥æ‰“ç ´å¼•ç”¨å¾ªç¯ã€‚ä¸€æ—¦æ‰“ç ´ï¼Œ<code>dealloc</code>æ–¹æ³•å°±ä¼šå› ä¸ºcontrollerã€å®ƒçš„buttonå’Œå®ƒçš„modelå¯¹è±¡è€Œè¢«è°ƒç”¨ã€‚</p>
<p>ä½ å¯ä»¥è¿™ä¹ˆå†™ä»£ç ï¼Œä»¥ä¾¿åœ¨ä½ çŸ¥é“ä½ ç”¨å®Œäº†controllerçš„æ—¶å€™è°ƒç”¨ï¼š</p>
<pre><code>-(void)invalidate {
  [self.button unbind:kTitleKey];
  self.modelObject = nil;
}
</code></pre><p>è¿™å°±æ˜¯è¿™ä¸ªè§£å†³åŠæ³•ä¸é‚£ä¹ˆæ¼‚äº®çš„åœ°æ–¹ï¼š</p>
<p>å¼•ç”¨è®¡æ•°æ˜¯éå¸¸æ£’çš„è§£å†³æ–¹æ¡ˆ â€”â€” å®ƒèƒ½ä¿è¯åœ¨<code>dealloc</code>è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œæ²¡æœ‰å“ªä¸ªå¯¹è±¡æ‹¥æœ‰å¯¹äºè¿™ä¸ªå³å°†é‡Šæ”¾çš„å¯¹è±¡çš„å¼ºå¼•ç”¨ã€‚è¿™å°±ä½¿å¾—<code>dealloc</code>æˆä¸ºä¸€ä¸ªç§»é™¤è§‚å¯Ÿè€…åŠå…¶ä»–ç±»ä¼¼éœ€è¦ç§»é™¤çš„ä¸é”™åœ°ç‚¹ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ ä½¿ç”¨äº†ç±»ä¼¼invalidateçš„å‡½æ•°ï¼Œä½ å°±æ˜¯åœ¨è¯•å›¾è‡ªå·±æ¥æ¥æ‰‹å¼•ç”¨è®¡æ•°è¿™ä»¶äº‹ã€‚ä½ <em>ä¸å¾—ä¸</em>è°ƒç”¨invalidateï¼Œåˆä¸å¾—ä¸åœ¨<em>åˆé€‚çš„</em>æ—¶å€™è°ƒç”¨ã€‚ä½ èƒ½å¯¹æ¯ä¸€ä¸ªæ‹¥æœ‰invalidateå‡½æ•°çš„å¯¹è±¡åšå‡ºæ°¸ä¹…çš„ä¿è¯ä¹ˆï¼Ÿå¦‚æœå‡ºç°ä¸€äº›æ”¹å˜ï¼Œä¸åªæœ‰ä¸€ä¸ªå¯¹è±¡å¼•ç”¨äº†controllerï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿè°æ¥è°ƒç”¨invalidateï¼Ÿä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿ</p>
<p>é‚£æ˜¯ä¸€å¤§å †é¢å¤–éœ€è¦è€ƒè™‘çš„å·¥ä½œï¼Œè€Œç¼–ç¨‹çš„ç›®çš„ä¹‹ä¸€å°±æ˜¯ä½¿é”™è¯¯å°½å¯èƒ½çš„å‡å°‘ã€‚ä¾èµ–invalidateä¼šä½¿é”™è¯¯å‡ºç°çš„å¯èƒ½<em>å¤§å¤§å¢åŠ </em>ã€‚</p>
<h4 id="ä¸€ä¸ªæ›´å¥½çš„è§£å†³åŠæ³•"><a href="#ä¸€ä¸ªæ›´å¥½çš„è§£å†³åŠæ³•" class="headerlink" title="ä¸€ä¸ªæ›´å¥½çš„è§£å†³åŠæ³•"></a>ä¸€ä¸ªæ›´å¥½çš„è§£å†³åŠæ³•</h4><p>è®©æˆ‘ä»¬å›å½’åˆ°æˆ‘ä»¬è¯•å›¾è§£å†³çš„é—®é¢˜ä¸Šæ¥ï¼š</p>
<p>modelObject.titleçš„æ›´æ–°ï¼Œä¼šä½¿controller.titleæ›´æ–°ï¼Œè€Œcontroller.titleçš„æ›´æ–°ï¼Œä¼šä½¿button.titleæ›´æ–°ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼šcontrollerçŸ¥é“modelObjectå’Œbuttonï¼Œä½†æ˜¯åä¸¤è€…ä¹‹é—´å¹¶ä¸çŸ¥é“å½¼æ­¤çš„å­˜åœ¨ï¼Œä¹Ÿä¸çŸ¥é“controllerçš„å­˜åœ¨ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æ€ä¹ˆé¿å¼€invalidateå‡½æ•°æ¥è§£å†³é—®é¢˜ã€‚</p>
<p>åœ¨controllerä¸­ï¼Œç­æ‰è‡ªå®šä¹‰getterã€‚ç­æ‰<code>keyPaths ForValues AffectingTitle</code>.ç­æ‰<code>bind: toObject: withKeyPath: options:</code>çš„ä½¿ç”¨ã€‚</p>
<p>å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œåˆ›å»ºè‡ªå®šä¹‰çš„setter â€”â€” å› ä¸ºï¼Œæ— è®ºå¦‚ä½•ï¼Œsetteråœ¨æ”¹å˜çš„æ—¶å€™æ€»æ˜¯ä¼šè¢«è°ƒç”¨ï¼Œæ‰€æœ‰éœ€è¦è§£å†³çš„é—®é¢˜å°±æ˜¯å¹¿æ’­titleå±æ€§çš„æ›´æ–°ã€‚</p>
<pre><code>-(void)setTitle:(NSString *)title {
  _title = title;
  self.button.title = title;
}
</code></pre><p>é—®é¢˜è§£å†³äº†ä¸€åŠï¼šå½“controller.titleæ”¹å˜æ—¶ï¼Œbutton.titleä¹Ÿéšä¹‹æ”¹å˜ã€‚</p>
<p>æˆ‘ä»¬ä¸èƒ½å¯¹modelObjectåšåŒæ ·çš„äº‹æƒ…ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“controllerçš„å­˜åœ¨ã€‚æ‰€ä»¥åè¿‡æ¥ï¼Œè®©controlleræ¥è§‚å¯ŸmodelObject.titleã€‚</p>
<pre><code>[self.modelObject addObserver:self forKeyPath: kTitleKey options:0 context: kTitleContext];
</code></pre><p>ç„¶ååœ¨KVOçš„è§‚å¯Ÿå‡½æ•°é‡Œï¼Œç›‘æµ‹kTitleContextï¼Œç„¶åè®©<code>self.title = self.modelObject.title</code>ã€‚è¿™ä¼šè°ƒç”¨controllerçš„<code>setTitle:</code>å‡½æ•° â€”â€” è€Œè¯¥å‡½æ•°ä¼šæ›´æ–°button.titleã€‚</p>
<p>è¿™ä¸ªè§£å†³åŠæ³•å°±ä¸ä¼šå­˜åœ¨å¼•ç”¨å¾ªç¯çš„é—®é¢˜ã€‚è¿˜æœ‰ä¸€ç‚¹ç§»é™¤çš„å·¥ä½œè¦åšï¼Œä½†ä½ å¯ä»¥åœ¨controllerçš„<code>dealloc</code>å‡½æ•°ä¸­ç”¨ä¸€è¡Œä»£ç äº†ç»“ï¼š</p>
<pre><code>[_modelObject removeObserver: self forKeyPath:kTitleKey context: kTitleContext];
</code></pre><h4 id="æ€»ç»“ä¸å»ºè®®"><a href="#æ€»ç»“ä¸å»ºè®®" class="headerlink" title="æ€»ç»“ä¸å»ºè®®"></a>æ€»ç»“ä¸å»ºè®®</h4><p>æˆ‘ä»¬æå‡ºçš„è§£å†³æ–¹æ¡ˆé¿å…äº†å¼•ç”¨å¾ªç¯ï¼Œä¸å¿…æ—¶åˆ»è®°å¾—è¦è°ƒç”¨invalidateå‡½æ•°ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒè°ƒç”¨çš„æ—¶æœºæ˜¯å¦æ­£ç¡®ã€‚è¿™æ˜¯æ›´å®‰å…¨çš„ä»£ç ã€‚</p>
<p>æ›´æ£’çš„æ˜¯ï¼Œå®ƒç”¨äº†æ›´å°‘çš„ä»£ç ï¼Œè€Œä¸”è¶³å¤Ÿç®€æ´ã€‚</p>
<p>ä¸€äº›å»ºè®®ï¼š</p>
<ul>
<li>ä¸è¦åœ¨ä»»ä½•åœºæ™¯ä¸­ä½¿ç”¨<code>bind: toObject: withKeyPath: options:</code>(iOSçš„å°ä¼™ä¼´ä»¬ï¼šä½ ä»¬åº”è¯¥é«˜å…´è‡ªå·±æ²¡æœ‰è¿™æ ·çš„é€‰æ‹©ã€‚ä¹Ÿå¯ä»¥æŠŠå®ƒå½“åšå¯èƒ½å®ƒä¹‹æ‰€ä»¥ä¸ºMacå¼€å‘è€ŒéiOSçš„åŸå› ä¹‹ä¸€)ã€‚</li>
<li>å½“ä½ å¹¿æ’­æ•°æ®æ›´æ–°æ—¶ï¼Œç”¨è‡ªå®šä¹‰çš„setterï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰getterï¼ˆæ¯•ç«Ÿæ˜¯åœ¨<em>setter</em>ä¸­æ›´æ–°çš„æ•°æ®ï¼‰ã€‚</li>
<li>é¿å…invalidateè¿™æ ·çš„å‡½æ•°ï¼Œå°½é‡è®©å¼•ç”¨è®¡æ•°åšå®ƒè‡ªå·±çš„äº‹æƒ… â€”â€” å› ä¸ºå¦‚æœ<em>ä½ </em>æ˜¯é‚£ä¸ªè·Ÿè¸ªè®¡æ•°çš„è§’è‰²ï¼Œä½ å¤šåŠä¼šå‡ºé”™ã€‚ï¼ˆæˆ‘å‘ç°æˆ‘ä¸æ˜¯æ€»èƒ½å¤Ÿé¿å…invalidateè¿™æ ·çš„å‡½æ•°ï¼Œä½†æ˜¯å¯èƒ½æ€§æ€»æ˜¯æ¯”ä½ æƒ³çš„è¦å¤šé‚£ä¹ˆä¸€ç‚¹ï¼‰</li>
<li>åœ¨æ€è€ƒä½ çš„åº”ç”¨ä¸­å‘ç”Ÿäº†ä»€ä¹ˆæ—¶ï¼Œä»»ä½•å½¢å¼çš„è§‚å¯Ÿæ­»é”éƒ½ä¼šå¸¦æ¥å›°éš¾ï¼šåœ¨ä»»ä½•æ—¶å€™å®ƒæœ‰è¶³å¤Ÿç†ç”±å‡ºç°æ—¶ï¼Œéƒ½æœ€å¥½æ˜¯å‡†ç¡®çš„ã€‚ä¸€æ—¦ä½ æœ‰äº†è¶³å¤Ÿå¤šçš„è¿™ç§è—¤è”“èˆ¬æ— å¤„ä¸åœ¨çš„è§‚å¯Ÿæ¨¡å¼ï¼Œä½ å°±å»ºé€ äº†ä¸€ä¸ªä¸è§å¤©æ—¥çš„ä¸›æ—ï¼Œå¯¹å®ƒçš„æ¯ä¸€ç‚¹æ”¹å˜éƒ½ä¼šè®©ä½ å¦‚å±¥è–„å†°ã€‚</li>
<li>ç†è®ºä¸Šï¼Œç»‘å®šå’ŒKVOæ˜¯ä¸ºäº†è§£è€¦è€Œç”Ÿçš„ï¼Œè€Œå®é™…ä¸Šè¿™ç§è€¦åˆå°±æ˜¯é‚£ä¹ˆç´§å¯† â€”â€” åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå¦‚æœæ²¡æœ‰æ›´ç´§å¯†çš„è¯ â€”â€” æ›´éš¾debugï¼Œæ›´éš¾çŸ«æ­£ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæœ€å¥½æŠŠè§‚å¯Ÿæ¨¡å¼æ˜ç¡®å†™æ¸…ï¼ˆä¸è¦å†™æˆ<code>keyPaths ForValues AffectingXyz</code>è¿™ç§ï¼‰ï¼Œé¿å…åœ¨keyPathä¸­å‡ºç°â€.â€å­—ç¬¦ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘å¦‚ä½•é¿å…ç¨‹åºå´©æºƒ-0ï¼šç›®å½•]]></title>
      <url>http://www.calios.gq/2015/11/12/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-0%EF%BC%9A%E7%9B%AE%E5%BD%95/</url>
      <content type="html"><![CDATA[<p>åŸæ–‡ç´¢å¼•ï¼š</p>
<p><a href="http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind" title="http://inessential.com/2015/05/14/how_not_to_crash_1_kvo_and_manual_bind" target="_blank" rel="external">#1: KVOä¸æ‰‹åŠ¨ç»‘å®š</a><br><a href="http://inessential.com/2015/05/16/how_not_to_crash_2_mutation_exceptions" title="http://inessential.com/2015/05/16/how_not_to_crash_2_mutation_exceptions" target="_blank" rel="external">#2: å¯å˜å¯¹è±¡çš„å¼‚å¸¸</a><br><a href="http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification" title="http://inessential.com/2015/05/21/how_not_to_crash_3_nsnotification" target="_blank" rel="external">#3: NSNotification</a><br><a href="http://inessential.com/2015/05/22/how_not_to_crash_4_threading" title="http://inessential.com/2015/05/22/how_not_to_crash_4_threading" target="_blank" rel="external">#4: çº¿ç¨‹</a><br><a href="http://inessential.com/2015/05/26/how_not_to_crash_5_threading_part_2" title="http://inessential.com/2015/05/26/how_not_to_crash_5_threading_part_2" target="_blank" rel="external">#5: çº¿ç¨‹2</a><br><a href="http://inessential.com/2015/05/27/how_not_to_crash_6_properties_and_acce" title="http://inessential.com/2015/05/27/how_not_to_crash_6_properties_and_acce" target="_blank" rel="external">#6: å±æ€§å’Œå­˜å–å™¨</a><br><a href="http://inessential.com/2015/05/29/how_not_to_crash_7_dealing_with_nothin" title="http://inessential.com/2015/05/29/how_not_to_crash_7_dealing_with_nothin" target="_blank" rel="external">#7: ä»€ä¹ˆéƒ½ä¸åš</a><br><a href="http://inessential.com/2015/06/10/how_not_to_crash_8_infrastructure" title="http://inessential.com/2015/06/10/how_not_to_crash_8_infrastructure" target="_blank" rel="external">#8: åŸºæœ¬æ¶æ„</a><br><a href="http://inessential.com/2015/06/10/how_not_to_crash_9_mindset" title="http://inessential.com/2015/06/10/how_not_to_crash_9_mindset" target="_blank" rel="external">#9: å¿ƒæ€</a></p>
<hr>
<p>è¯‘æ–‡ç´¢å¼•ï¼š</p>
<p><a href="http://www.calios.gq/2015/11/12/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-1%EF%BC%9AKVO%E4%B8%8E%E6%89%8B%E5%8A%A8%E7%BB%91%E5%AE%9A/" title="http://www.calios.gq/2015/11/12/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-1%EF%BC%9AKVO%E4%B8%8E%E6%89%8B%E5%8A%A8%E7%BB%91%E5%AE%9A/">#1: KVOä¸æ‰‹åŠ¨ç»‘å®š</a><br><a href="http://www.calios.gq/2015/11/13/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-2%EF%BC%9A%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%82%E5%B8%B8/" title="http://www.calios.gq/2015/11/13/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-2%EF%BC%9A%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%82%E5%B8%B8/">#2: å¯å˜å¯¹è±¡çš„å¼‚å¸¸</a><br><a href="http://www.calios.gq/2015/11/16/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-3%EF%BC%9ANSNotification/" title="http://www.calios.gq/2015/11/16/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-3%EF%BC%9ANSNotification/">#3: NSNotification</a><br><a href="http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/" title="http://www.calios.gq/2015/11/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-4%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/">#4: çº¿ç¨‹</a><br><a href="http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-5%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/" title="http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-5%EF%BC%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/">#5: çº¿ç¨‹2</a><br><a href="http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-6%EF%BC%9A%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AD%98%E5%8F%96%E5%99%A8/" title="http://www.calios.gq/2015/11/26/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-6%EF%BC%9A%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AD%98%E5%8F%96%E5%99%A8/">#6: å±æ€§å’Œå­˜å–å™¨</a><br><a href="http://www.calios.gq/2015/12/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-7%EF%BC%9A%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E5%81%9A/" title="http://www.calios.gq/2015/12/19/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-7%EF%BC%9A%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E5%81%9A/">#7: ä»€ä¹ˆéƒ½ä¸åš</a><br><a href="http://www.calios.gq/2016/01/21/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-8%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/" title="http://www.calios.gq/2016/01/21/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-8%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/">#8: åŸºæœ¬æ¶æ„</a><br><a href="http://www.calios.gq/2016/02/24/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-9%EF%BC%9A%E5%BF%83%E6%80%81/" title="http://www.calios.gq/2016/02/24/%E3%80%90%E8%AF%91%E3%80%91%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83-9%EF%BC%9A%E5%BF%83%E6%80%81/">#9: å¿ƒæ€</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[OS Xå®‰è£…MongoDB]]></title>
      <url>http://www.calios.gq/2015/09/25/OS-X%E5%AE%89%E8%A3%85MongoDB/</url>
      <content type="html"><![CDATA[<p>åœ¨OS Xä¸­ï¼Œä½¿ç”¨<a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a>å®Œæˆå„ç§packageçš„å®‰è£…å·¥ä½œæ— ç–‘æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚å¦‚ä¸‹æ˜¯ä½¿ç”¨Homebrewå®‰è£…MongoDBçš„æ­¥éª¤ã€‚</p>
<h4 id="1-æ›´æ–°Homebrewçš„packageæ•°æ®åº“"><a href="#1-æ›´æ–°Homebrewçš„packageæ•°æ®åº“" class="headerlink" title="1.æ›´æ–°Homebrewçš„packageæ•°æ®åº“"></a>1.æ›´æ–°Homebrewçš„packageæ•°æ®åº“</h4><p>```<br>$ brew update<br>```</p>
<h4 id="2-å®‰è£…MongoDB"><a href="#2-å®‰è£…MongoDB" class="headerlink" title="2.å®‰è£…MongoDB"></a>2.å®‰è£…MongoDB</h4><p>```<br>$ brew install mongodb<br>==> Downloading <a href="https://homebrew.bintray.com/bottles/mongodb-3.0.6.yosemite.bottle.tar.gz" target="_blank" rel="external">https://homebrew.bintray.com/bottles/mongodb-3.0.6.yosemite.bottle.tar.gz</a></p>
<h6 id="23-0"><a href="#23-0" class="headerlink" title="##########                                                          23.0%"></a>##########                                                          23.0%</h6><p>curl: (56) SSLRead() return error -9806<br>Error: Failed to download resource â€œmongodbâ€<br>Download failed: <a href="https://homebrew.bintray.com/bottles/mongodb-3.0.6.yosemite.bottle.tar.gz" target="_blank" rel="external">https://homebrew.bintray.com/bottles/mongodb-3.0.6.yosemite.bottle.tar.gz</a><br>Warning: Bottle installation failed: building from source.<br>==> Downloading <a href="https://fastdl.mongodb.org/src/mongodb-src-r3.0.6.tar.gz" target="_blank" rel="external">https://fastdl.mongodb.org/src/mongodb-src-r3.0.6.tar.gz</a></p>
<h6 id="100-0"><a href="#100-0" class="headerlink" title="################################################################## 100.0%"></a>################################################################## 100.0%</h6><p>==> Cloning <a href="https://github.com/mongodb/mongo-tools.git" target="_blank" rel="external">https://github.com/mongodb/mongo-tools.git</a><br>Cloning into â€˜/Library/Caches/Homebrew/mongodbâ€“github.com-mongodb-mongo-toolsâ€“gitâ€™â€¦<br>remote: Counting objects: 1180, done.<br>remote: Compressing objects: 100% (950/950), done.<br>remote: Total 1180 (delta 184), reused 840 (delta 136), pack-reused 0<br>Receiving objects: 100% (1180/1180), 1.86 MiB | 230.00 KiB/s, done.<br>Resolving deltas: 100% (184/184), done.<br>Checking connectivityâ€¦ done.<br>Note: checking out â€˜7588eb887549bd5d2fc7bbc08f7c62d4b29b9d75â€™.</p>
<p>You are in â€˜detached HEADâ€™ state. You can look around, make experimental<br>changes and commit them, and you can discard any commits you make in this<br>state without impacting any branches by performing another checkout.</p>
<p>If you want to create a new branch to retain commits you create, you may<br>do so (now or later) by using -b with the checkout command again. Example:</p>
<p>  git checkout -b new_branch_name</p>
<p>==> Checking out tag r3.0.6<br>==> ./build.sh<br>==> /usr/local/opt/scons/bin/scons install â€“prefix=/usr/local/Cellar/mongodb/3.0.6 -j8 â€“osx-version-min=10.10 â€“cc=<br>==> Caveats<br>To have launchd start mongodb at login:<br>  ln -sfv /usr/local/opt/mongodb/*.plist ~/Library/LaunchAgents<br>Then to load mongodb now:<br>  launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mongodb.plist<br>Or, if you donâ€™t want/need launchctl, you can just run:<br>  mongod â€“config /usr/local/etc/mongod.conf<br>==> Summary<br>ğŸº  /usr/local/Cellar/mongodb/3.0.6: 17 files, 158M, built in 7.2 minutes<br>```<br>çœ‹èµ·æ¥é€šè¿‡Homebrewçš„bottleæ¥å®‰è£…å¤±è´¥ï¼Œäºæ˜¯å¼€å§‹ä¸‹è½½æºä»£ç æ¥ç¼–è¯‘ï¼Œæœ€ç»ˆå®‰è£…æˆåŠŸã€‚</p>
<h4 id="3-å¯åŠ¨MongoDB"><a href="#3-å¯åŠ¨MongoDB" class="headerlink" title="3.å¯åŠ¨MongoDB"></a>3.å¯åŠ¨MongoDB</h4><p>æŒ‰ç…§Terminalä¸­çš„æç¤ºï¼Œç›´æ¥å¯åŠ¨MongoDBã€‚</p>
<p>```<br>$ mongod â€“config /usr/local/etc/mongod.conf<br>```<br>é€šè¿‡Terminalç›´æ¥è¿æ¥MongoDBã€‚</p>
<p>```<br>$ mongo<br>MongoDB shell version: 3.0.6<br>connecting to: test</p>
<blockquote>
<p>```</p>
</blockquote>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/" target="_blank" rel="external">http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[AVPlayer Class Reference]]></title>
      <url>http://www.calios.gq/2015/09/24/AVPlayer-Class-Reference/</url>
      <content type="html"><![CDATA[<h4 id="1-Create-a-Player"><a href="#1-Create-a-Player" class="headerlink" title="1.Create a Player"></a>1.Create a Player</h4><ul>
<li><p>With a url: </p>
<ul>
<li>implicitly create an <code>AVPlayerItem</code> object. Getting it by <code>currentItem</code>.</li>
</ul>
</li>
<li><p>With a player item: </p>
<ul>
<li>used to play items for which an <code>AVAsset</code> object has previously been created.</li>
</ul>
</li>
</ul>
<h4 id="2-Managing-Playback"><a href="#2-Managing-Playback" class="headerlink" title="2.Managing Playback"></a>2.Managing Playback</h4><ul>
<li><p>play: </p>
<ul>
<li>same as setting <code>rate</code> to <code>1.0</code>.</li>
</ul>
</li>
<li><p>pause:</p>
<ul>
<li>same as setting <code>rate</code> to <code>0.0</code>.</li>
</ul>
</li>
<li><p>rate: </p>
<ul>
<li>other than <code>0.0</code> and <code>1.0</code>, rate can be used if the associated player item returns <code>YES</code> for the <code>AVPlayerItem</code> properties<code>canPlaySlowForward</code> or <code>canPlayFastForward</code>.</li>
</ul>
</li>
<li><p>actionAtItemEndï¼š</p>
<ul>
<li><code>AVPlayerActionAtItemEndAdvance</code>: only for <code>AVQueuePlayer</code></li>
<li><code>AVPlayerActionAtItemEndPause</code>: default </li>
<li><code>AVPlayerActionAtItemEndNone</code>: let it be free. :P</li>
</ul>
</li>
<li><p>replaceCurrentItemWithPlayerItem: </p>
<ul>
<li>only for player instances without queues. </li>
<li>Use key-value observing to observe the currentItem property for changes.</li>
<li><u>Well, what does it means by â€˜The new item must have the same compositor as the item it replaces, or have no compositor.â€™ ?</u></li>
</ul>
</li>
<li><p>prerollAtRate:completionHandler:</p>
<ul>
<li>loads data starting at the itemâ€™s current playback time.</li>
<li>only be set when <code>status</code> of player is <code>AVPlayerStatusReadyToPlay</code>, otherwise an exception is thown.</li>
</ul>
</li>
<li><p>cancelPendingPrerolls: </p>
<ul>
<li>cancels any pending operations to prepare the render pipeline for the current item.</li>
</ul>
</li>
</ul>
<h4 id="3-Managing-Time"><a href="#3-Managing-Time" class="headerlink" title="3.Managing Time"></a>3.Managing Time</h4><ul>
<li><p>currentTime: </p>
<ul>
<li><code>CMTime</code>,  <code>CoreMediaFramework</code></li>
<li>not key-value observable.</li>
<li>use <code>addPeriodicTimeObserverForInterval:queue:usingBlock:</code> or <code>addBoundaryTimeObserverForTimes:queue:usingBlock:</code> instead.</li>
</ul>
</li>
<li><p>seekToTime:completionHandler::</p>
<ul>
<li>Moves the playback cursor and executes the specified block when the seek operation has either been completed or been interrupted.</li>
</ul>
</li>
<li><p>other <code>seek</code> functions: nearly the same.</p>
</li>
</ul>
<h4 id="4-Managing-External-Playback-abbr"><a href="#4-Managing-External-Playback-abbr" class="headerlink" title="4.Managing External Playback (abbr.)"></a>4.Managing External Playback (abbr.)</h4><h4 id="5-Synchronizing-Playback-to-an-External-Source-abbr"><a href="#5-Synchronizing-Playback-to-an-External-Source-abbr" class="headerlink" title="5.Synchronizing Playback to an External Source (abbr.)"></a>5.Synchronizing Playback to an External Source (abbr.)</h4><h4 id="6-Timed-Observations"><a href="#6-Timed-Observations" class="headerlink" title="6.Timed Observations"></a>6.Timed Observations</h4><ul>
<li><p><strong>addPeriodicTimeObserverForInterval:queue:usingBlock:</strong></p>
<ul>
<li>requests invocation of a given block during playback to report changing time.</li>
<li><u>** You must retain the returned value as long as you want the time observer to be invoked by the player. Each invocation of this method should be paired with a corresponding call to <code>removeTimeObserver:</code>.**</u></li>
<li><strong>Attention:</strong> Releasing the observer object without invoking <code>removeTimeObserver:</code> will result in undefined behavior.</li>
</ul>
</li>
<li><p>addBoundaryTimeObserverForTimes:queue:usingBlock: (abbr.)</p>
</li>
<li><strong>removeTimeObserver:</strong><ul>
<li>Upon return, the caller is guaranteed that no new time observer blocks will begin executing. Depending on the calling thread and the queue used to add the time observer, an in-flight block may continue to execute after this method returns. You can guarantee synchronous time observer removal by enqueuing the call to <code>removeTimeObserver</code> on that queue. Alternatively, call <code>dispatch_sync(queue, ^{})</code> after <code>removeTimeObserver</code> to wait for any in-flight blocks to finish executing.</li>
</ul>
</li>
</ul>
<h4 id="7-Managing-Closed-Caption-Display"><a href="#7-Managing-Closed-Caption-Display" class="headerlink" title="7.Managing Closed Caption Display"></a>7.Managing Closed Caption Display</h4><ul>
<li>closedCaptionDisplayEnabled:<ul>
<li>Indicates whether the player uses closed captioning.</li>
</ul>
</li>
</ul>
<h4 id="8-Managing-Audio-Output"><a href="#8-Managing-Audio-Output" class="headerlink" title="8.Managing Audio Output"></a>8.Managing Audio Output</h4><ul>
<li>muted:<ul>
<li>Indicates whether the audio output of the player is muted.</li>
</ul>
</li>
<li><strong>volume:</strong><ul>
<li>audio playback volume for the player, ranging from 0.0 through 1.0 on a linear scale.</li>
<li>To provide UI in iOS for adjusting system audio playback volume, use the <code>MPVolumeView</code> class, which provides media playback controls that iOS users expect and whose appearance you can customize.</li>
</ul>
</li>
</ul>
<h4 id="9-Player-Properties"><a href="#9-Player-Properties" class="headerlink" title="9.Player Properties"></a>9.Player Properties</h4><ul>
<li>status:<ul>
<li>Indicates whether the player can be used for playback. (read-only)</li>
<li>When the value of this property is <code>AVPlayerStatusFailed</code>, you can no longer use the player for playback and you need to create a new instance to replace it. If this happens, you can check the value of the error property to determine the nature of the failure.</li>
<li>This property is key value observable using <code>Key-value observing</code>.</li>
</ul>
</li>
<li>error:<ul>
<li>If the receiverâ€™s status is AVPlayerStatusFailed, this describes the error that caused the failure. (read-only)</li>
</ul>
</li>
<li>currentItem:<ul>
<li>The playerâ€™s current item. (read-only)</li>
</ul>
</li>
<li>outputObscuredDueToInsufficientExternalProtection (abbr.)</li>
</ul>
<h4 id="10-Media-Selection-Criteria-Settings-abbr"><a href="#10-Media-Selection-Criteria-Settings-abbr" class="headerlink" title="10.Media Selection Criteria Settings (abbr.)"></a>10.Media Selection Criteria Settings (abbr.)</h4><h4 id="11-Constants"><a href="#11-Constants" class="headerlink" title="11.Constants"></a>11.Constants</h4><ul>
<li><p>AVPlayerStatus:</p>
<ul>
<li>Possible values of the status property, to indicate whether it can successfully play items.</li>
</ul>
</li>
<li><p>AVPlayerActionAtItemEnd (abbr.)</p>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€Bashã€‘lsofâ€”â€”MacæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ]]></title>
      <url>http://www.calios.gq/2015/09/18/%E3%80%90Bash%E3%80%91lsof%E2%80%94%E2%80%94Mac%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5/</url>
      <content type="html"><![CDATA[<h4 id="Issue"><a href="#Issue" class="headerlink" title="Issue"></a>Issue</h4><p>åœ¨æœ¬åœ°é€šè¿‡Node.jsèµ·äº†ä¸€ä¸ªæœåŠ¡æ¥ç›‘å¬3000ç«¯å£ï¼Œåœ¨Terminalæ‰§è¡Œ<code>node index.js</code> åå¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè€Œå<strong>ç›´æ¥</strong>å†æ¬¡æ‰§è¡Œ<code>node index.js</code>ã€‚æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<p>```<br>Gulugulu:myapp calios$ node index.js<br>events.js:85<br>      throw er; // Unhandled â€˜errorâ€™ event<br>            ^<br>Error: listen EADDRINUSE<br>    at exports._errnoException (util.js:746:11)<br>    at Server._listen2 (net.js:1156:14)<br>    at listen (net.js:1182:10)<br>    at Server.listen (net.js:1267:5)<br>    at EventEmitter.listen (/Users/calios/Documents/MyWorkspace/Front/Node/myapp/node_modules/express/lib/application.js:617:24)<br>    at Object.<anonymous> (/Users/calios/Documents/MyWorkspace/Front/Node/myapp/index.js:10:18)<br>    at Module._compile (module.js:460:26)<br>    at Object.Module._extensions..js (module.js:478:10)<br>    at Module.load (module.js:355:32)<br>    at Function.Module._load (module.js:310:12)<br>```</anonymous></p>
<h4 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h4><p>é¦–å…ˆæŸ¥çœ‹<code>3000</code>ç«¯å£æ˜¯å¦å·²è¢«å ç”¨ã€‚</p>
<p>```<br>$ lsof -i :3000 (3000å¯æ›¿æ¢ä¸ºå…¶ä»–æƒ³æŸ¥çœ‹çš„ç«¯å£å·)<br>COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME<br>node    48002 calios   14u  IPv6 0x9534c78c493eedc3      0t0  TCP *:hbci (LISTEN)<br>```<br>å‘ç°æ­£æ˜¯åˆšæ‰nodeèµ·æ¥çš„æœåŠ¡æ­£åœ¨å ç”¨ï¼Œkillæ‰è¿™ä¸ª<code>PID</code>ä¸º<code>48002</code>çš„å®¶ä¼™ã€‚</p>
<p>```<br>$ kill -9 48002<br>```<br>æ­¤æ—¶å†æ‰§è¡Œ<code>node index.js</code>å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<h4 id="More"><a href="#More" class="headerlink" title="More"></a>More</h4><h5 id="lsof-list-open-files"><a href="#lsof-list-open-files" class="headerlink" title="lsof(list open files)"></a>lsof(list open files)</h5><blockquote>
<p>Lsof lists on its standard output file information about files opened by processes.</p>
<p>An open file may be a regular file, a directory, a block special file, a character special  file,  an executing  text  reference,  a library, a stream or a network file (Internet socket, NFS file or UNIX domain socket.)  A specific file or all the files in a file system may be selected by path.</p>
<p>-i [i]  selects the listing of files any of whose Internet address matches the address specified  in i.   If  no  address  is specified, this option selects the listing of all Internet and x.25(HP-UX) network files.<br> [46][protocol][@hostname|hostaddr][:service|port]</p>
</blockquote>
<p>And hereâ€™s some functional commands.</p>
<p>```<br>lsof <code>which httpd</code>           //é‚£ä¸ªè¿›ç¨‹åœ¨ä½¿ç”¨apacheçš„å¯æ‰§è¡Œæ–‡ä»¶<br>lsof /etc/passwd             //é‚£ä¸ªè¿›ç¨‹åœ¨å ç”¨/etc/passwd<br>lsof /dev/hda6               //é‚£ä¸ªè¿›ç¨‹åœ¨å ç”¨hda6<br>lsof /dev/cdrom              //é‚£ä¸ªè¿›ç¨‹åœ¨å ç”¨å…‰é©±<br>lsof -c sendmail             //æŸ¥çœ‹sendmailè¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ<br>lsof -c courier -u ^zahn     //æ˜¾ç¤ºå‡ºé‚£äº›æ–‡ä»¶è¢«ä»¥courieræ‰“å¤´çš„è¿›ç¨‹æ‰“å¼€ï¼Œä½†æ˜¯å¹¶ä¸å±äºç”¨æˆ·zahn<br>lsof -p 30297                //æ˜¾ç¤ºé‚£äº›æ–‡ä»¶è¢«pidä¸º30297çš„è¿›ç¨‹æ‰“å¼€<br>lsof -D /tmp                 //æ˜¾ç¤ºæ‰€æœ‰åœ¨/tmpæ–‡ä»¶å¤¹ä¸­æ‰“å¼€çš„instanceå’Œæ–‡ä»¶çš„è¿›ç¨‹ã€‚ä½†æ˜¯symbolæ–‡ä»¶å¹¶ä¸åœ¨åˆ—</p>
<p>lsof -u1000                  //æŸ¥çœ‹uidæ˜¯100çš„ç”¨æˆ·çš„è¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ<br>lsof -utony                  //æŸ¥çœ‹ç”¨æˆ·tonyçš„è¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ<br>lsof -u^tony                 //æŸ¥çœ‹ä¸æ˜¯ç”¨æˆ·tonyçš„è¿›ç¨‹çš„æ–‡ä»¶ä½¿ç”¨æƒ…å†µ(^æ˜¯å–åçš„æ„æ€)<br>lsof -i                      //æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„ç«¯å£<br>lsof -i:80                   //æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€80ç«¯å£çš„è¿›ç¨‹<br>lsof -i -U                   //æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„ç«¯å£å’ŒUNIX domainæ–‡ä»¶<br>lsof -i UDP@[url]www.akadia.com:123     //æ˜¾ç¤ºé‚£äº›è¿›ç¨‹æ‰“å¼€äº†åˆ°www.akadia.comçš„UDPçš„123(ntp)ç«¯å£çš„é“¾æ¥<br>lsof -i tcp@ohaha.ks.edu.tw:ftp -r      //ä¸æ–­æŸ¥çœ‹ç›®å‰ftpè¿æ¥çš„æƒ…å†µ(-rï¼Œlsofä¼šæ°¸è¿œä¸æ–­çš„æ‰§è¡Œï¼Œç›´åˆ°æ”¶åˆ°ä¸­æ–­ä¿¡å·,+rï¼Œlsofä¼šä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°æ²¡æœ‰æ¡£æ¡ˆè¢«æ˜¾ç¤º,ç¼ºçœæ˜¯15såˆ·æ–°)<br>lsof -i tcp@ohaha.ks.edu.tw:ftp -n      //lsof -n ä¸å°†IPè½¬æ¢ä¸ºhostnameï¼Œç¼ºçœæ˜¯ä¸åŠ ä¸Š-nå‚æ•°<br>```</p>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316599.html" target="_blank" rel="external">http://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316599.html</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è½¬ã€‘iOS9 HTTP ä¸èƒ½æ­£å¸¸ä½¿ç”¨çš„è§£å†³åŠæ³•]]></title>
      <url>http://www.calios.gq/2015/09/17/%E3%80%90%E8%BD%AC%E3%80%91iOS9-HTTP-%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
      <content type="html"><![CDATA[<p><strong>åŸæ–‡é“¾æ¥ï¼š</strong> <a href="http://segmentfault.com/a/1190000002933776" target="_blank" rel="external">http://segmentfault.com/a/1190000002933776</a></p>
<p>ä»Šå¤©å‡çº§Xcode 7.0 bataå‘ç°ç½‘ç»œè®¿é—®å¤±è´¥ã€‚<br>è¾“å‡ºé”™è¯¯ä¿¡æ¯</p>
<p>```<br>The resource could not be loaded because the App Transport Security policy requires the use of a secure connection.<br>```<br>GoogleåæŸ¥è¯ï¼ŒiOS9å¼•å…¥äº†æ–°ç‰¹æ€§<code>App Transport Security (ATS)</code>ã€‚è¯¦æƒ…ï¼š<a href="https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html#//apple_ref/doc/uid/TP40016198-DontLinkElementID_13" target="_blank" rel="external">App Transport Security (ATS)</a></p>
<p>æ–°ç‰¹æ€§è¦æ±‚Appå†…è®¿é—®çš„ç½‘ç»œå¿…é¡»ä½¿ç”¨<code>HTTPS</code>åè®®ã€‚<br>ä½†æ˜¯ç°åœ¨å…¬å¸çš„é¡¹ç›®ä½¿ç”¨çš„æ˜¯<code>HTTP</code>åè®®ï¼Œä½¿ç”¨ç§æœ‰åŠ å¯†æ–¹å¼ä¿è¯æ•°æ®å®‰å…¨ã€‚ç°åœ¨ä¹Ÿä¸èƒ½é©¬ä¸Šæ”¹æˆ<code>HTTPS</code>åè®®ä¼ è¾“ã€‚</p>
<p>æœ€ç»ˆæ‰¾åˆ°ä»¥ä¸‹è§£å†³åŠæ³•ï¼š</p>
<p>1.åœ¨Info.plistä¸­æ·»åŠ <code>NSAppTransportSecurity</code>ç±»å‹<code>Dictionary</code>ã€‚</p>
<p>2.åœ¨<code>NSAppTransportSecurity</code>ä¸‹æ·»åŠ <code>NSAllowsArbitraryLoads</code>ç±»å‹<code>Boolean</code>,å€¼è®¾ä¸º<code>YES</code>ã€‚</p>
<hr>
<p><strong>å‚è€ƒï¼š</strong></p>
<ul>
<li><a href="https://github.com/meteor/meteor/issues/4560" target="_blank" rel="external">App Transport Security support aka apps on iOS 9 donâ€™t work #4560</a></li>
<li><a href="http://devstreaming.apple.com/videos/wwdc/2015/711y6zlz0ll/711/711_networking_with_nsurlsession.pdf?dl=1" target="_blank" rel="external">711_networking_with_nsurlsession.pdf</a></li>
</ul>
<hr>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>è‹¹æœæ­£åœ¨åŠ å¤§åº”ç”¨å®‰å…¨çš„ç®¡æ§ï¼Œè¿™ä¸ªä¸¾æªå¯ä»¥çœ‹å‡ºè‹¹æœå¯¹ä¿¡æ¯å®‰å…¨çš„é‡è§†ï¼Œä¹Ÿæš´éœ²å‡ºå¤§éƒ¨åˆ†åº”ç”¨ä¼ è¾“æ•°æ®æ—¶éƒ½æ˜¯æœªç»è¿‡åŠ å¯†çš„ï¼Œæˆ–ä½¿ç”¨ç§æœ‰æ–¹å¼åŠ å¯†ï¼Œä»¥è‡³äºè‹¹æœå¼€å§‹å¯¹å¼€å‘è€…æå‡ºè¦æ±‚ã€‚</p>
<p>ç§æœ‰åŠ å¯†è™½ç„¶ä¸€å®šç¨‹åº¦ä¸Šæ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ç»ˆç©¶ä¸æ˜¯ä¸€ä¸ªé•¿ä¹…ä¹‹è®¡ã€‚å…¨ä¸–ç•Œè¿™ä¹ˆå¤šå®‰å…¨ä¸“å®¶åœ¨ç»´æŠ¤<code>HTTPS</code>å®‰å…¨ï¼Œæ—©æ—¥ä½¿ç”¨<code>HTTPS</code>ç¡®ä¿ä¿¡æ¯å®‰å…¨æ‰æ˜¯ç‹é“ï¼ä¹Ÿçœå»äº†ç§æœ‰åŠ å¯†åè®®çš„å®‰å…¨éšæ‚£ï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€è¯‘ã€‘KVO-å¦‚ä½•æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯è§‚å¯Ÿè€…ï¼Ÿ]]></title>
      <url>http://www.calios.gq/2015/09/12/%E3%80%90%E8%AF%91%E3%80%91KVO-%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5%E4%B8%80%E4%B8%AAobject%E6%98%AF%E5%90%A6%E6%98%AF%E8%A7%82%E5%AF%9F%E8%80%85%EF%BC%9F/</url>
      <content type="html"><![CDATA[<p><strong>åŸæ–‡é“¾æ¥ï¼š<a href="http://stackoverflow.com/questions/9231896/kvo-how-to-check-if-an-object-is-an-observer" target="_blank" rel="external">KVO - How to check if an object is an observer?</a></strong></p>
<hr>
<h4 id="Nikolai-Ruheçš„å›ç­”"><a href="#Nikolai-Ruheçš„å›ç­”" class="headerlink" title="Nikolai Ruheçš„å›ç­”:"></a><a href="http://stackoverflow.com/users/104790/nikolai-ruhe" target="_blank" rel="external">Nikolai Ruhe</a>çš„å›ç­”:</h4><blockquote>
<p>æ˜¯å¦å¯èƒ½æ£€æŸ¥å‡ºä¸€ä¸ªå¯¹è±¡å®é™…ä¸Šæ˜¯å¦åœ¨è§‚å¯ŸæŸä¸ªå±æ€§ï¼Ÿ</p>
</blockquote>
<p>ä¸èƒ½ã€‚å½“å’ŒKVOæ‰“äº¤é“æ—¶ä½ åº”è¯¥è°¨è®°ä»¥ä¸‹è§„åˆ™ï¼š</p>
<p><u>æ¯å½“åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…ï¼ˆobserverï¼‰çš„æ—¶å€™ï¼Œä½ å°±è¦è´Ÿè´£ç§»é™¤è¿™ä¸ªè§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…æ˜¯é€šè¿‡å®ƒçš„ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰æ¥æ ‡è®°å”¯ä¸€æ€§çš„â€”â€”å› æ­¤ï¼Œä¸Šä¸‹æ–‡å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚å½“æ¥æ”¶é€šçŸ¥æ—¶ï¼ˆä»¥åŠåœ¨è‹¹æœçš„Lionç³»ç»Ÿä¸­ï¼Œç§»é™¤è§‚å¯Ÿè€…æ—¶ï¼‰ï¼Œä½ åº”è¯¥æ£€æŸ¥çš„æ˜¯ <strong>ä¸Šä¸‹æ–‡</strong> ï¼Œè€Œä¸æ˜¯pathã€‚</u></p>
<p>å¤„ç†è¢«è§‚å¯Ÿå¯¹è±¡çš„æœ€ä½³æ–¹æ³•æ˜¯ï¼Œåœ¨è¢«è§‚å¯Ÿå¯¹è±¡çš„<code>setter</code>æ–¹æ³•ä¸­ç§»é™¤å’Œåˆ›å»ºKVOäº‹ä»¶ã€‚</p>
<p>```<br>static int fooObservanceContext;</p>
<ul>
<li><p>(void)setFoo:(Foo *)foo<br>{<br>  [_foo removeObserver:self forKeyPath:@â€barâ€ context:&amp;fooObservanceContext];</p>
<p>  _foo = foo; // or whatever ownership handling is needed.</p>
<p>  [foo addObserver:self forKeyPath:@â€barâ€ options:0 context:&amp;fooObservanceContext];<br>}</p>
</li>
<li><p>(void)observeValueForKeyPath:(NSString <em>)keyPath ofObject:(id)object change:(NSDictionary </em>)change context:(void *)context<br>{<br>  if (context == &amp;fooObservanceContext) {</p>
<pre><code>// handle change
</code></pre><p>  } else {</p>
<pre><code>// not my observer callback
[super observeValueForKeyPath:keyPath ofObject:object change:change context:context];
</code></pre><p>  }<br>}</p>
</li>
<li><p>(void)dealloc<br>{<br>  self.foo = nil; // removes observer<br>}<br>```<br>å½“ä½¿ç”¨KVOæ—¶ï¼Œä½ å¿…é¡»ç¡®ä¿è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…è¿™ä¸¤ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå’Œæ­£åœ¨æ‰§è¡Œçš„KVOäº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·é•¿ã€‚</p>
</li>
</ul>
<p>å½“æ·»åŠ ä¸€ä¸ªKVOäº‹ä»¶æ—¶ï¼Œä½ éœ€è¦è¡¡é‡æ˜¯å¦æ­£ç¡®ç§»é™¤äº†åŒä¸€ä¸ªKVOäº‹ä»¶ã€‚ä¸è¦å‡­ç©ºå‡è®¾ï¼Œä½ æ˜¯KVOçš„å”¯ä¸€ä½¿ç”¨è€…ã€‚æ¡†æ¶ä¸­çš„ç±»å¯èƒ½ä¼šæ ¹æ®å®ƒä»¬è‡ªå·±çš„éœ€æ±‚æ¥ä½¿ç”¨KVOï¼Œæ‰€ä»¥éœ€è¦åœ¨å›è°ƒæ—¶æ£€æŸ¥ä¸Šä¸‹æ–‡ã€‚</p>
<p>æœ€åï¼Œæˆ‘æƒ³æŒ‡å‡ºçš„æ˜¯ï¼šè¢«è§‚å¯Ÿçš„å±æ€§å¿…é¡»æ˜¯æ”¯æŒKVOçš„ã€‚<a href="http://stackoverflow.com/questions/4874288/use-key-value-observing-to-get-a-kvo-callback-on-a-uiviews-frame/19701380#19701380" target="_blank" rel="external">ä½ ä¸å¯èƒ½è§‚å¯Ÿä»»ä½•å±æ€§</a>ã€‚</p>
<hr>
<h4 id="Rayfleckçš„å›ç­”"><a href="#Rayfleckçš„å›ç­”" class="headerlink" title="Rayfleckçš„å›ç­”:"></a><a href="http://stackoverflow.com/users/165050/rayfleck" target="_blank" rel="external">Rayfleck</a>çš„å›ç­”:</h4><p><code>NSKeyValueObserving</code> åè®®ä¸­æœ‰éƒ¨åˆ†æ˜¯è¿™æ ·çš„ï¼š</p>
<p>```</p>
<ul>
<li>(void *)observationInfo<br>```<br>å®ƒä¼šåˆ—å‡ºè§‚å¯Ÿè€…ã€‚ä½†åªæœ‰åœ¨debugçš„æ—¶å€™æœ‰ç”¨ã€‚<br>å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥ï¼š<code>po [observedObject observationInfo]</code>ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¼‚äº®çš„è§‚å¯Ÿè€…å’Œkey pathçš„æ¦‚è§ˆã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOS Developing Tricks]]></title>
      <url>http://www.calios.gq/2015/09/12/iOS-Developing-Tricks/</url>
      <content type="html"><![CDATA[<h4 id="1-How-to-set-the-title-of-UIButton-as-left-alignment"><a href="#1-How-to-set-the-title-of-UIButton-as-left-alignment" class="headerlink" title="1.How to set the title of UIButton as left alignment?"></a>1.How to set the title of UIButton as left alignment?</h4><p>```<br>yourBtn.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;<br>```<br>or</p>
<p>```<br>yourBtn.contentEdgeInsets = UIEdgeInsetsMake(0, 10, 0, 0);<br>```</p>
<h4 id="2-UINavigationController-Hide-Back-Button-on-Only-One-View"><a href="#2-UINavigationController-Hide-Back-Button-on-Only-One-View" class="headerlink" title="2.UINavigationController: Hide Back Button on Only One View"></a>2.UINavigationController: Hide Back Button on Only One View</h4><p>Sometimes, <code>controller.navigationItem.hidesBackButton = YES/NO</code> doesnâ€™t work at all.</p>
<p>And hereâ€™s a workaround:</p>
<p>To hide the back button, set the left bar button view to an empty view.</p>
<p>```<br>UIView *tmpView = [[UIView alloc] initWithFrame:CGRectZero];<br>UIBarButtonItem *tmpButtonItem = [[UIBarButtonItem alloc] initWithCustomView:tmpView];<br>[tmpView release];<br>self.navigationItem.leftBarButtonItem = tmpButtonItem;<br>[tmpButtonItem release];<br>```<br>To restore the back button, just set the left bar button item to <code>nil</code>.</p>
<p>```<br>[self.navigationItem setLeftBarButtonItem:nil animated:YES];<br>```</p>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://stackoverflow.com/questions/2765024/how-to-set-the-title-of-uibutton-as-left-alignment" target="_blank" rel="external">http://stackoverflow.com/questions/2765024/how-to-set-the-title-of-uibutton-as-left-alignment</a></p>
<p><a href="http://stackoverflow.com/questions/5062405/uinavigationcontroller-hiding-back-button-on-one-view-hides-it-for-all-views" target="_blank" rel="external">http://stackoverflow.com/questions/5062405/uinavigationcontroller-hiding-back-button-on-one-view-hides-it-for-all-views</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[UISearchBaräºŒä¸‰äº‹]]></title>
      <url>http://www.calios.gq/2015/09/12/UISearchBar%E4%BA%8C%E4%B8%89%E4%BA%8B/</url>
      <content type="html"><![CDATA[<h4 id="1-å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title"><a href="#1-å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title" class="headerlink" title="1.å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title"></a>1.å¦‚ä½•ä¿®æ”¹CancelæŒ‰é’®çš„Title</h4><p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨iOS8 SDKï¼Œæœ¬æ¬¡ UISearchBaré€‚ç”¨äºiOS7(+)ç‰ˆæœ¬ï¼Œå¦‚æœæƒ³è¦é€‚é…iOS6ï¼Œåˆ™éœ€è¦å¯¹åº”é€‚é…iOS6.</p>
<ul>
<li>iOS7+: <code>for(id cc in [searchBar.subviews[0] subviews]){}</code></li>
<li>iOS7-: <code>for(id cc in [searchBar subviews]){}</code></li>
</ul>
<p>```<br>    -(void)searchBarTextDidBeginEditing:(UISearchBar <em>)searchBar<br>    {<br>        for(id cc in [searchBar.subviews[0] subviews])<br>        {<br>            if([cc isKindOfClass:[UIButton class]])<br>            {<br>                UIButton </em>btn = (UIButton *)cc;<br>                [btn setTitle:[AppLanguageProcess getLanguageWithKey:@â€TEXT_CANCELâ€]  forState:UIControlStateNormal];<br>                [btn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];<br>            }<br>        }<br>    }<br>```</p>
<h4 id="2-iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®"><a href="#2-iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®" class="headerlink" title="2.iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®"></a>2.iOS7ä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®</h4><p>ç”±äºæŸäº›åŸå› ï¼ŒiOSä¸­æ·»åŠ åˆ°NavigationBarä¸Šçš„UISearchBarä¸æ˜¾ç¤ºCancelæŒ‰é’®ã€‚åŒæ ·çš„æƒ…å†µä¹Ÿå‘ç”Ÿåœ¨å°†UISearchBarè®¾ç½®ä¸ºnavigationItemçš„titleViewæ—¶ã€‚<br>ä½ å¯ä»¥é€šè¿‡åœ¨UISearchBarå¤–é¢åŒ…ä¸€å±‚viewæ¥è§„é¿è¿™ä¸ªé—®é¢˜ã€‚å¦‚ä¸‹æ˜¯æˆ‘å°†å®ƒæ”¾åœ¨titleViewæ—¶çš„è§£å†³åŠæ³•ï¼š</p>
<pre><code>UISearchBar *searchBar = [UISearchBar new];
searchBar.showsCancelButton = YES;
[searchBar sizeToFit];
UIView *barWrapper = [[UIView alloc]initWithFrame:searchBar.bounds];
[barWrapper addSubview:searchBar];
self.navigationItem.titleView = barWrapper;
</code></pre><h4 id="3-å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor"><a href="#3-å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor" class="headerlink" title="3.å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor"></a>3.å¦‚ä½•å°†èƒŒæ™¯è®¾ç½®ä¸ºclearColor</h4><p>Hereâ€™s a future-proof way:</p>
<pre><code>[searchBar setBackgroundImage:\[UIImage new]];
[searchBar setTranslucent:YES];
</code></pre><h4 id="4-å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹"><a href="#4-å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹" class="headerlink" title="4.å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹"></a>4.å¦‚ä½•åœ¨â€œæœç´¢â€æŒ‰é’®ç‚¹å‡»åâ€œå–æ¶ˆâ€æŒ‰é’®ä¾ç„¶å¯ç‚¹</h4><pre><code>for (id view in [[_searchBar.subviews lastObject] subviews]) {
    if ([view isKindOfClass:[UIButton class]]) {
         [view setEnabled:YES];
    }
}
</code></pre><hr>
<p><strong>Ref:</strong></p>
<p><a href="http://www.cocoachina.com/bbs/read.php?tid=280249" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=280249</a><br><a href="http://stackoverflow.com/questions/18986407/ios7-when-uisearchbar-added-in-uinavigationbar-not-showing-cancel-button" target="_blank" rel="external">iOS7 when UIsearchbar added in UINavigationBar not showing cancel button</a><br><a href="http://stackoverflow.com/a/12598711/1594792" target="_blank" rel="external">UISearchBar clear background color or set background image</a><br><a href="http://stackoverflow.com/questions/22499379/uitextfield-from-uisearchbar-in-ios-7-1" target="_blank" rel="external">http://stackoverflow.com/questions/22499379/uitextfield-from-uisearchbar-in-ios-7-1</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[View Debugging]]></title>
      <url>http://www.calios.gq/2015/09/11/View-Debugging/</url>
      <content type="html"><![CDATA[<ul>
<li>å°†è”æœºè°ƒè¯•çš„è®¾å¤‡æˆªå±ï¼šDebug -> View Debugging -> Take Screenshot of **iPhoneã€‚</li>
</ul>
<ul>
<li><p>æŸ¥çœ‹viewçš„å±‚çº§ç»“æ„ï¼šDebug -> View Debugging -> Capture View Hierarchy. ç‰¹åˆ«æ˜¯å½“æŸä¸ªviewä¸æ˜¾ç¤ºæˆ–ä½ç½®ä¸æ­£å¸¸æ—¶ï¼Œç”¨å®ƒå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°æ˜¯è¢«å“ªä¸ªviewé®æŒ¡ã€‚</p>
</li>
<li><p>è°ƒè¯•æ—¶æ˜¾ç¤ºviewçš„å°ºå¯¸å’Œframeï¼šDebug -> View Debugging -> Show View Frames/Show Alignment Rectanglesã€‚</p>
</li>
</ul>
<p>ä»¥ä¸Šï¼Œå‡å¯åœ¨ Xcode -> Preferences -> Key Bindings -> Debug Menu ä¸­è®¾ç½®å¿«æ·é”®ã€‚<br><img src="http://i12.tietuku.com/a137140412ce894c.png" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[AutoLayout debug]]></title>
      <url>http://www.calios.gq/2015/09/10/AutoLayout-debug/</url>
      <content type="html"><![CDATA[<p>å¯¹äºä½¿ç”¨AutoLayoutå¸ƒå±€çš„viewï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªé€šç”¨çš„debugæ–¹æ³•ã€‚</p>
<p>1.æ‰“å¼€Exception breakpointsã€‚</p>
<p>2.åœ¨éœ€è¦debugçš„viewä¸­æ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<pre><code>- (void)layoutSublayersOfLayer:(CALayer *)layer
{
    [super layoutSublayersOfLayer:layer];
}
</code></pre><p>3.è¿è¡Œä»£ç ï¼Œåº”è¯¥ä¼šåœ¨æ–°å¢æ–¹æ³•ä¸­åœä½ã€‚å¦‚æœæ²¡æœ‰ï¼Œåœ¨<code>[super layoutSublayersOfLayer:layer];</code> ä¸€å¥æ·»åŠ æ–­ç‚¹ã€‚</p>
<p>4.åœ¨æ§åˆ¶å°ä¸­ï¼Œè¾“å…¥<code>po [self _autolayoutTrace]</code>ã€‚</p>
<p>è¿™ä¼šæ‰“å°å‡ºwindowä¸­çš„æ‰€æœ‰viewï¼Œå¹¶ä¸”constraintæœ‰é—®é¢˜çš„viewä¼šç”¨æ˜Ÿå·ï¼ˆ*ï¼‰æˆ–è€…<code>AMBIGUOUS LAYOUT</code> æ ‡ç¤ºå‡ºæ¥ã€‚ä»¥æ­¤ï¼Œå°±å¯ä»¥æ‰¾åˆ°éœ€è¦ä»”ç»†æ–Ÿé…Œçš„constraintäº†ã€‚</p>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://stackoverflow.com/questions/23020326/assertion-failure-in-uitableview-layoutsublayersoflayer" target="_blank" rel="external">http://stackoverflow.com/questions/23020326/assertion-failure-in-uitableview-layoutsublayersoflayer</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[OrientationäºŒä¸‰äº‹]]></title>
      <url>http://www.calios.gq/2015/09/09/Orientation%E4%BA%8C%E4%B8%89%E4%BA%8B/</url>
      <content type="html"><![CDATA[<h4 id="ä¸€ã€å¦‚ä½•ç”¨ä»£ç å®ç°å¼ºåˆ¶æ—‹è½¬"><a href="#ä¸€ã€å¦‚ä½•ç”¨ä»£ç å®ç°å¼ºåˆ¶æ—‹è½¬" class="headerlink" title="ä¸€ã€å¦‚ä½•ç”¨ä»£ç å®ç°å¼ºåˆ¶æ—‹è½¬"></a>ä¸€ã€å¦‚ä½•ç”¨ä»£ç å®ç°å¼ºåˆ¶æ—‹è½¬</h4><p>ä»¥ä¸‹æ–¹æ³•å·²åœ¨iOS7 &amp; iOS8çš„ARCä¸­æµ‹è¯•è¿‡ï¼š</p>
<p>```<br>[[UIDevice currentDevice] setValue:[NSNumber numberWithInteger: UIInterfaceOrientationPortrait]<br>                            forKey:@â€orientationâ€];<br>```<br>è¿™ç§æ–¹æ³•å¹¶ä¸ä¼šåƒ <code>performSelector</code> ä¸€æ ·é€ æˆå†…å­˜æ³„éœ²ã€‚</p>
<p><strong>å¯¹äºUIAlertViewï¼š</strong> ä½¿ç”¨ä»¥ä¸Šä»£ç ï¼Œå½“ä½ åœ¨<code>view(will/Did)appear</code> ä¸­æ‰“å¼€UIAlertViewæ—¶ä¼šå‘ç°æ‰€æœ‰viewéƒ½æ˜¯ç«–å±ï¼Œé™¤äº†UIAlertViewã€‚æˆ‘æ²¡æ³•å¼ºåˆ¶å®ƒæ—‹è½¬ï¼Œä½†æ˜¯æˆ‘å‘ç°å¦‚æœä½ åœ¨æ‰“å¼€UIAlertViewä¹‹å‰ç¨å¾®å»¶è¿Ÿä¸€ä¼šå„¿ï¼Œå®ƒå°±ä¼šæœ‰æ—¶é—´æ¥æ”¹å˜è‡ªå·±çš„æ–¹å‘ã€‚</p>
<h4 id="äºŒã€å¦‚ä½•åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åªå…è®¸ä¸€ä¸ªViewControlleræ¨ªå±-ç«–å±æ˜¾ç¤º"><a href="#äºŒã€å¦‚ä½•åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åªå…è®¸ä¸€ä¸ªViewControlleræ¨ªå±-ç«–å±æ˜¾ç¤º" class="headerlink" title="äºŒã€å¦‚ä½•åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åªå…è®¸ä¸€ä¸ªViewControlleræ¨ªå±/ç«–å±æ˜¾ç¤º"></a>äºŒã€å¦‚ä½•åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åªå…è®¸ä¸€ä¸ªViewControlleræ¨ªå±/ç«–å±æ˜¾ç¤º</h4><p>æˆ‘ä¼šå»ºè®®å°†ä½ çš„appè®¾ç½®ä¸ºportraitï¼Œç„¶ååœ¨éœ€è¦æ¨ªå±çš„åœ°æ–¹å…è®¸landscapeã€‚</p>
<p><strong>é¦–å…ˆï¼Œ</strong>ç‚¹å‡» Project name -> General -> Deployment Info -> åœ¨Device Orientationåªé€‰æ‹©Portraitã€‚</p>
<p><strong>å…¶æ¬¡ï¼Œ</strong>åœ¨ä½ çš„<code>AppDelegate.h</code> ä¸­æ·»åŠ å¦‚ä¸‹å±æ€§ï¼š</p>
<p>```<br>@property (nonatomic) BOOL fullScreenVideoIsPlaying;<br>```</p>
<p><strong>å†æ¬¡ï¼Œ</strong>åœ¨ä½ çš„<code>AppDelegate.m</code> ä¸­æ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<p>```</p>
<ul>
<li>(NSUInteger)application:(UIApplication <em>)application supportedInterfaceOrientationsForWindow:(UIWindow </em>)window{<br>  if (self.fullScreenVideoIsPlaying == YES) {<pre><code>return UIInterfaceOrientationMaskAllButUpsideDown;
</code></pre>  }<br>  else {<pre><code>return UIInterfaceOrientationMaskPortrait;
</code></pre>  }<br>}<br>```<br><strong>ä¹‹åï¼Œ</strong> åœ¨éœ€è¦landscapeçš„view controllerä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–¹æ³•æˆ–ç›´æ¥æŠŠå¦‚ä¸‹ä»£ç æ”¾åœ¨ä½ çš„<code>viewWillAppear:</code> ä¸­ï¼š</li>
</ul>
<p>```<br>((AppDelegate *)[[UIApplication sharedApplication] delegate]).fullScreenVideoIsPlaying = YES;<br>[[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationPortrait animated:NO];<br>```<br>åœ¨éœ€è¦æ”¹å›portraitçš„åœ°æ–¹è¿™ä¹ˆå†™ï¼š</p>
<p>```<br>AppDelegate <em>appDelegate = (AppDelegate </em>)[[UIApplication sharedApplication] delegate];<br>    appDelegate.fullScreenVideoIsPlaying = NO;<br>[self supportedInterfaceOrientations];<br>[self shouldAutorotate:UIInterfaceOrientationPortrait];<br>[[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationPortrait animated:NO];<br>```</p>
<p>åœ¨iOS8ä¸­éœ€è¦æ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<p>```</p>
<ul>
<li><p>(BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {<br>  // Return YES for supported orientations<br>  return (interfaceOrientation == UIInterfaceOrientationPortrait);<br>}</p>
</li>
<li><p>(BOOL)shouldAutorotate:(UIInterfaceOrientation)interfaceOrientation{<br>  // Return YES for supported orientations<br>  return (interfaceOrientation == UIInterfaceOrientationPortrait);<br>}</p>
</li>
</ul>
<p>-(NSUInteger)supportedInterfaceOrientations{<br>    return UIInterfaceOrientationMaskPortrait;<br>}<br>```</p>
<hr>
<p><strong>Ref:</strong></p>
<p><a href="http://stackoverflow.com/questions/12650137/how-to-change-the-device-orientation-programmatically-in-ios-6" target="_blank" rel="external">How to change the device orientation programmatically in iOS 6</a> (In fact, it also works for iOS7 &amp; iOS8. XD)</p>
<p><a href="http://stackoverflow.com/questions/26611646/ios7-ios8-allow-only-portrait-in-view-controller" target="_blank" rel="external">IOS7/IOS8 Allow only portrait in view controller</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ï£¿ è®¾å¤‡çš„æŠ“åŒ…]]></title>
      <url>http://www.calios.gq/2015/09/07/Getting-a-Packet-Trace-for-%EF%A3%BF/</url>
      <content type="html"><![CDATA[<h4 id="æŠ“åŒ…çš„æ–¹æ³•å–å†³äºä½ çš„å¹³å°ï¼š"><a href="#æŠ“åŒ…çš„æ–¹æ³•å–å†³äºä½ çš„å¹³å°ï¼š" class="headerlink" title="æŠ“åŒ…çš„æ–¹æ³•å–å†³äºä½ çš„å¹³å°ï¼š"></a>æŠ“åŒ…çš„æ–¹æ³•å–å†³äºä½ çš„å¹³å°ï¼š</h4><ul>
<li>OS Xç³»ç»Ÿä¸Šæœ‰å¾ˆå¤šå·¥å…·å¯ä»¥å¸®åŠ©ä½ æ”¶é›†ã€åˆ†æåŒ…ã€‚æ¯”å¦‚ï¼šCharlesï¼ŒCPA(Cocoa Packet Analyzer)ï¼Œtcpdumpï¼ŒWiresharkç­‰ã€‚</li>
<li>iOSå¹¶ä¸ç›´æ¥æ”¯æŒæŠ“åŒ…ã€‚ä½†æ˜¯ï¼Œå¦‚æœiOSè®¾å¤‡é€šè¿‡USBè¿æ¥åˆ°Macä¸Šï¼Œå°±å¯ä»¥ç”¨OS Xçš„æŠ“åŒ…å·¥å…·æ¥æ”¶é›†å¹¶åˆ†æé€šè¿‡è¿œç¨‹è™šæ‹Ÿæ¥å£ï¼ˆRemote virtual interfaceï¼‰è·å–çš„åŒ…ã€‚</li>
</ul>
<h4 id="iOSçš„æŠ“åŒ…æ–¹æ³•"><a href="#iOSçš„æŠ“åŒ…æ–¹æ³•" class="headerlink" title="iOSçš„æŠ“åŒ…æ–¹æ³•"></a>iOSçš„æŠ“åŒ…æ–¹æ³•</h4><p>iOSå¹¶ä¸ç›´æ¥æ”¯æŒæŠ“åŒ…ã€‚ä½†æ˜¯å¦‚æœä½ åœ¨åšiOSå¼€å‘ï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼æ¥æŠ“åŒ…ï¼š</p>
<ul>
<li>å¦‚æœä½ å°è¯•è§£å†³çš„é—®é¢˜å‘ç”Ÿåœ¨WiFiä¸Šï¼Œä½ å¯ä»¥æŠŠiOSè®¾å¤‡æ”¾åˆ°ä¸€ä¸ªæµ‹è¯•WiFiç½‘ç»œä¸­ã€‚è¯¦æƒ…è§ Wifi Captureã€‚</li>
<li>å¦‚æœä½ çš„appç”¨çš„æ˜¯HTTPï¼Œä½ å¯ä»¥è®¾ç½®ä¸€ä¸‹è®¾å¤‡çš„HTTPä»£ç†æ¥è°ƒè¯•ã€‚</li>
<li>åœ¨iOS5åŠä»¥åï¼Œä½ å¯ä»¥ä½¿ç”¨è¿œç¨‹è™šæ‹Ÿæ¥å£ï¼ˆRVIï¼‰ã€‚</li>
</ul>
<p>```<br>$ # è·å–å½“å‰ç«¯å£çš„åˆ—è¡¨<br>$ ifconfig -l<br>lo0 gif0 stf0 en0 en1 p2p0 fw0 ppp0 utun0<br>$ # æ–°å»ºæŒ‡å®šUUIDè®¾å¤‡çš„ç«¯å£<br>$ rvictl -s 74bd53c647548234ddcef0ee3abee616005051ed</p>
<p>Starting device 74bd53c647548234ddcef0ee3abee616005051ed [SUCCEEDED]</p>
<p>$ # é‡æ–°è·å–ç«¯å£åˆ—è¡¨ï¼Œä¼šçœ‹åˆ°å·²ç»é€šè¿‡å‘½ä»¤æ–°å¢çš„è™šæ‹Ÿç½‘ç»œç«¯å£ï¼Œrvi0ã€‚<br>$ # network interface, rvi0, added by the previous command.<br>$ ifconfig -l<br>lo0 gif0 stf0 en0 en1 p2p0 fw0 ppp0 utun0 rvi0</p>
<p>$ # åˆ—å‡ºå…¨éƒ¨è™šæ‹Ÿç«¯å£<br>$ rvictl -l </p>
<p>$ # å…³é—­æŒ‡å®šUUIDè®¾å¤‡çš„è™šæ‹Ÿç«¯å£<br>$ rvictl -x <uuid> å…³é—­è™šæ‹Ÿç«¯å£<br>```</uuid></p>
<p>Wireshark ç›‘æ§rvi0ç«¯å£ã€‚</p>
<p>ä½¿ç”¨MacæŠ“å–iPhoneæ•°æ®åŒ…å¯é€šè¿‡å…±äº«å’Œä»£ç†ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ä½¿ç”¨Macçš„ç½‘ç»œå…±äº«åŠŸèƒ½å°†Macçš„ç½‘ç»œé€šè¿‡WiFiå…±äº«ç»™iPhoneè¿æ¥ï¼›</li>
<li>ä½¿ç”¨ä»£ç†è½¯ä»¶ï¼ˆä¾‹å¦‚Charlesï¼‰åœ¨Macä¸Šå»ºç«‹HTTPä»£ç†æœåŠ¡å™¨ã€‚</li>
</ul>
<p>è¿™ä¸¤ç§æ–¹å¼éƒ½æ˜¯å°†iPhoneçš„ç½‘ç»œæµé‡å¯¼å…¥åˆ°Macç”µè„‘ä¸­ï¼Œé€šè¿‡Macè¿æ¥äº’è”ç½‘ã€‚è¿™å°±è¦æ±‚Macæœ¬èº«æ˜¯è”ç½‘çš„ï¼Œå¯¹äºç½‘ç»œå…±äº«çš„æ–¹å¼è¿˜è¦æ±‚Macæœ¬èº«çš„ç½‘ç»œä¸èƒ½ä½¿ç”¨WiFiï¼Œè€Œä¸”åœ¨iPhoneä¸Šåªèƒ½ä½¿ç”¨WiFiè¿æ¥ï¼Œæ— æ³•æŠ“å–åˆ°2G/3Gç½‘ç»œåŒ…ã€‚</p>
<p>è‹¹æœåœ¨iOS 5ä¸­æ–°å¼•å…¥äº†<strong>â€œè¿œç¨‹è™šæ‹Ÿæ¥å£(Remote Virtual Interface,RVI)â€</strong>çš„ç‰¹æ€§,å¯ä»¥åœ¨Macä¸­å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œæ¥å£æ¥ä½œä¸ºiOSè®¾å¤‡çš„ç½‘ç»œæ ˆï¼Œè¿™æ ·æ‰€æœ‰ç»è¿‡iOSè®¾å¤‡çš„æµé‡éƒ½ä¼šç»è¿‡æ­¤è™šæ‹Ÿæ¥å£ã€‚æ­¤è™šæ‹Ÿæ¥å£åªæ˜¯ç›‘å¬iOSè®¾å¤‡æœ¬èº«çš„åè®®æ ˆï¼ˆä½†å¹¶æ²¡æœ‰å°†ç½‘ç»œæµé‡ä¸­è½¬åˆ°Macæœ¬èº«çš„ç½‘ç»œè¿æ¥ä¸Šï¼‰ï¼Œæ‰€æœ‰ç½‘ç»œè¿æ¥éƒ½æ˜¯iOSè®¾å¤‡æœ¬èº«çš„ï¼Œä¸Macç”µè„‘æœ¬èº«è”ä¸è”ç½‘æˆ–è€…è”ç½‘ç±»å‹æ— å…³ã€‚iOSè®¾å¤‡æœ¬èº«å¯ä»¥ä¸ºä»»æ„ç½‘ç»œç±»å‹ï¼ˆWiFi/2G/3Gï¼‰ï¼Œè¿™æ ·åœ¨Macç”µè„‘ä¸Šä½¿ç”¨ä»»æ„æŠ“åŒ…å·¥å…·ï¼ˆtcpdumpã€Wiresharkã€CPAï¼‰æŠ“å–RVIæ¥å£ä¸Šçš„æ•°æ®åŒ…å°±å®ç°äº†å¯¹iPhoneçš„æŠ“ã€‚</p>
<p><strong>Ref:</strong></p>
<p><a href="https://developer.apple.com/library/mac/qa/qa1176/_index.html" target="_blank" rel="external">https://developer.apple.com/library/mac/qa/qa1176/_index.html</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[maskWithHole-ä½¿ç”¨CAShapeLayerå’ŒUIBezierPathç”»å›¾å½¢]]></title>
      <url>http://www.calios.gq/2015/08/29/maskWithHole-%E4%BD%BF%E7%94%A8CAShapeLayer%E5%92%8CUIBezierPath%E7%94%BB%E5%9B%BE%E5%BD%A2/</url>
      <content type="html"><![CDATA[<p>ä½¿ç”¨CAShapeLayerå’ŒUIBezierPathç”»å›¾å½¢çš„æ­¥éª¤ï¼š</p>
<ul>
<li>æ–°å»ºCAShapeLayerå¯¹è±¡shapeLayer</li>
<li>æ–°å»ºUIBezierPathå¯¹è±¡bezierPath</li>
<li>ä½¿ç”¨bezierPathå„ç§ç”»å›¾</li>
<li>å°†bezierPathçš„CGPathèµ‹å€¼ç»™shapeLayerçš„path</li>
<li>ä½¿ç”¨shapeLayer</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æ‰«æäºŒç»´ç çš„é¡µé¢ï¼Œå‘¨è¾¹æ˜¯ç°é»‘è‰²é€æ˜åŠèƒŒæ™¯ï¼Œä¸­é—´æ˜¯å®Œå…¨é€æ˜çš„æ‰«ææ¡†ã€‚</li>
</ul>
<p>å®ç°ä»£ç ï¼š</p>
<p>```<br>    CAShapeLayer *maskWithHole = [CAShapeLayer layer];</p>
<pre><code>// Both frames are defined in the same coordinate system
CGRect biggerRect = CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width,[[UIScreen mainScreen] bounds].size.height - 64);
CGRect smallerRect = CGRectMake((kScreenWidth - PickerSize)/2 + 5, 100 + 5, PickerSize - 10, PickerSize/2 - 10);

UIBezierPath *maskPath = [UIBezierPath bezierPath];
[maskPath moveToPoint:CGPointMake(CGRectGetMinX(biggerRect), CGRectGetMinY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(biggerRect), CGRectGetMaxY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(biggerRect), CGRectGetMaxY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(biggerRect), CGRectGetMinY(biggerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(biggerRect), CGRectGetMinY(biggerRect))];

[maskPath moveToPoint:CGPointMake(CGRectGetMinX(smallerRect), CGRectGetMinY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(smallerRect), CGRectGetMaxY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(smallerRect), CGRectGetMaxY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMaxX(smallerRect), CGRectGetMinY(smallerRect))];
[maskPath addLineToPoint:CGPointMake(CGRectGetMinX(smallerRect), CGRectGetMinY(smallerRect))];

[maskWithHole setPath:[maskPath CGPath]];
[maskWithHole setFillRule:kCAFillRuleEvenOdd];
[maskWithHole setFillColor:[[UIColor colorWithWhite:0.45 alpha:0.45] CGColor]];

[self.view.layer insertSublayer:maskWithHole above:_preview];
</code></pre><p>```</p>
<p><strong>Ref:</strong><br><a href="http://stackoverflow.com/questions/10856353/crop-a-cashapelayer-retrieving-the-external-path" target="_blank" rel="external">http://stackoverflow.com/questions/10856353/crop-a-cashapelayer-retrieving-the-external-path</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iTerm2å®ç”¨æŠ€å·§]]></title>
      <url>http://www.calios.gq/2015/08/26/iTerm2%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<h4 id="Commandé”®"><a href="#Commandé”®" class="headerlink" title="Commandé”®"></a>Commandé”®</h4><p>æŒ‰ä½âŒ˜é”®:</p>
<ul>
<li>å¯ä»¥æ‹–æ‹½é€‰ä¸­çš„å­—ç¬¦ä¸²ï¼›</li>
<li>ç‚¹å‡» urlï¼šè°ƒç”¨é»˜è®¤æµè§ˆå™¨è®¿é—®è¯¥ç½‘å€ï¼›</li>
<li>ç‚¹å‡»æ–‡ä»¶ï¼šè°ƒç”¨é»˜è®¤ç¨‹åºæ‰“å¼€æ–‡ä»¶ï¼›</li>
<li>å¦‚æœæ–‡ä»¶åæ˜¯filename:42ï¼Œä¸”é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨æ˜¯ Macvimã€Textmateæˆ–BBEditï¼Œå°†ä¼šç›´æ¥æ‰“å¼€åˆ°è¿™ä¸€è¡Œï¼›</li>
<li>ç‚¹å‡»æ–‡ä»¶å¤¹ï¼šåœ¨ finder ä¸­æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ï¼›</li>
<li>åŒæ—¶æŒ‰ä½optioné”®ï¼Œå¯ä»¥ä»¥çŸ©å½¢é€‰ä¸­ï¼Œç±»ä¼¼äºvimä¸­çš„ctrl væ“ä½œã€‚</li>
</ul>
<h4 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h4><ul>
<li>åˆ‡æ¢ tabï¼š<code>âŒ˜+â†</code>ï¼Œ<code>âŒ˜+â†’</code>ï¼Œ<code>âŒ˜+{</code>ï¼Œ<code>âŒ˜+}</code>ã€‚<code>âŒ˜+</code> æ•°å­—ç›´æ¥å®šä½åˆ°è¯¥ tabï¼›</li>
<li>æ–°å»º tabï¼š<code>âŒ˜+t</code>ï¼›</li>
<li>é¡ºåºåˆ‡æ¢ paneï¼š<code>âŒ˜+[</code>ï¼Œ <code>âŒ˜+]</code>ï¼›</li>
<li>æŒ‰æ–¹å‘åˆ‡æ¢ paneï¼š<code>âŒ˜+Option+</code> æ–¹å‘é”®ï¼›</li>
<li>åˆ‡åˆ†å±å¹•ï¼š<code>âŒ˜+d</code> æ°´å¹³åˆ‡åˆ†ï¼Œ<code>âŒ˜+Shift+d</code> å‚ç›´åˆ‡åˆ†ï¼›</li>
<li>æ™ºèƒ½æŸ¥æ‰¾ï¼š<code>âŒ˜+f</code>ï¼Œæ”¯æŒæ­£åˆ™æŸ¥æ‰¾ã€‚</li>
</ul>
<h4 id="è‡ªåŠ¨å®Œæˆ"><a href="#è‡ªåŠ¨å®Œæˆ" class="headerlink" title="è‡ªåŠ¨å®Œæˆ"></a>è‡ªåŠ¨å®Œæˆ</h4><ul>
<li>è‡ªåŠ¨è¡¥é½å‘½ä»¤ï¼šè¾“å…¥è‹¥å¹²å­—ç¬¦ï¼ŒæŒ‰ <code>âŒ˜+</code>ï¼Œå¼¹å‡ºè‡ªåŠ¨è¡¥é½çª—å£ï¼Œåˆ—å‡ºæ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤ã€‚</li>
<li>å†å²è®°å½•ï¼šæŒ‰ <code>âŒ˜+Shift+h</code> å¼¹å‡ºå†å²è®°å½•çª—å£ã€‚</li>
</ul>
<h4 id="é«˜äº®å½“å‰é¼ æ ‡çš„ä½ç½®"><a href="#é«˜äº®å½“å‰é¼ æ ‡çš„ä½ç½®" class="headerlink" title="é«˜äº®å½“å‰é¼ æ ‡çš„ä½ç½®"></a>é«˜äº®å½“å‰é¼ æ ‡çš„ä½ç½®</h4><ul>
<li><code>âŒ˜+/</code>ï¼Œé«˜äº®æ˜¾ç¤ºé¼ æ ‡ä½ç½®ã€‚</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Xcodeå¿«æ·é”®]]></title>
      <url>http://www.calios.gq/2015/08/09/Xcode%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      <content type="html"><![CDATA[<ul>
<li>åœ¨è¾…åŠ©ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶:åœ¨é¡¹ç›®å¯¼èˆªå™¨ä¸­é€‰ä¸­æ–‡ä»¶æ‰§è¡Œ<code>Option+å·¦é”®ç‚¹å‡»</code>æ“ä½œã€‚</li>
<li>æ–‡ä»¶è·³è½¬æ : <code>Control+6</code>ï¼ˆé”®å…¥æ–¹æ³•/å˜é‡å+Enterè·³è½¬ï¼‰</li>
<li>ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªeditorï¼š``Command + Option + ```</li>
<li>å¿«é€Ÿæ‰“å¼€: <code>Command + Shift + O</code>ï¼Œç›´æ¥è·³è½¬åˆ°æŸä¸ªæ–¹æ³•å®šä¹‰æˆ–è€…æŒ‡å®šçš„ä»£ç æ–‡ä»¶ã€‚ï¼ˆé”®å…¥é¦–å­—æ¯ï¼Œä»¥è¾ƒå°‘è¾“å…¥æœç´¢æ›´å¤šã€‚ï¼‰</li>
<li>æ–‡æ¡£å’Œå‚è€ƒ: <code>Command + Shift + 0 (Zero)</code></li>
<li>æ¸…é™¤æ§åˆ¶å°ï¼š<code>Command + k</code></li>
</ul>
<p>æ–­ç‚¹ç›¸å…³ï¼š</p>
<ul>
<li>Enable/Disable breakpoint: <code>Command + y</code>- </li>
<li>Pause/Continue: <code>Ctrl + Command + y</code></li>
<li>Add breakpoint at current line: <code>Command + \</code></li>
<li>Create symbolic breakpoint: <code>Command + Ctrl + \</code> (Customable)</li>
</ul>
<hr>
<p>é™„ä¸Šä¸€å¼ å®Œæ•´å¿«æ·é”®çš„å›¾ã€‚</p>
<p><img src="http://i12.tietuku.com/c65f289668849506.png" alt="" title="Xcode shortcuts"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ï£¿çš„æ¯›ç»ç’ƒæ•ˆæœ]]></title>
      <url>http://www.calios.gq/2015/07/29/%EF%A3%BF%E7%9A%84%E6%AF%9B%E7%8E%BB%E7%92%83%E6%95%88%E6%9E%9C/</url>
      <content type="html"><![CDATA[<p>å…ˆæ¥çœ‹è‹¹æœçš„å®˜æ–¹æ–‡æ¡£ï¼š</p>
<blockquote>
<p>Tab bars are translucent by default on iOS 7. Additionally, there is a system blur applied to all tab bars. This allows your content to show through underneath the bar.</p>
<p>Navigation bars are translucent by default in iOS 7. Additionally, there is a system blur applied to all navigation bars. This allows your content to show through underneath the bar.</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒiOS7åŠä»¥åï¼ŒTabBarå’ŒNavigationBaréƒ½æœ‰è‡ªå¸¦çš„æ¯›ç»ç’ƒæ•ˆæœã€‚æ‰€ä»¥ï¼Œä½œä¸ºdeployment targetä¸º7.0çš„é¡¹ç›®ï¼Œä¹‹å‰æ˜¯åœ¨æŠ˜è…¾ç¥é©¬ï¼Ÿo(â•¯â–¡â•°)o</p>
<p>å› æ­¤ï¼Œä»Šåé¡¹ç›®ä¸­ï¼Œå¯¹äºTabBar&amp;NavigationBaræ¯›ç»ç’ƒæ•ˆæœï¼Œå½“deployment target >= 7.0æ—¶æ— éœ€ç‰¹æ®Šå¤„ç†ï¼Œå¤©ä¸‹æ— äº‹ã€‚</p>
<p><br></p>
<hr>
<p><strong>Related:</strong><br>ä¸€äº›æä¾›æ¯›ç»ç’ƒæ•ˆæœçš„Frameworkï¼š</p>
<ul>
<li><a href="https://github.com/nicklockwood/FXBlurView" target="_blank" rel="external">FXBlurView</a>: UIView subclass that replicates the iOS 7 realtime background blur effect, but works on iOS 5 and above.</li>
<li><a href="https://github.com/romaonthego/REFrostedViewController" target="_blank" rel="external">REFrostedViewController</a>: iOS 7/8 style blurred view controller that appears on top of your view controller.</li>
<li><a href="https://github.com/JagCesar/iOS-blur" target="_blank" rel="external">JCRBlurView</a></li>
<li><a href="https://github.com/lukabernardi/LBBlurredImage" target="_blank" rel="external">LBBlurredImage</a>: LBBlurredImage is an UIImageView category that permit to set an image and make this blurred.</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[NSLocalNotification]]></title>
      <url>http://www.calios.gq/2015/07/09/NSLocalNotification/</url>
      <content type="html"><![CDATA[<p>åˆ›å»ºä¸€ä¸ªæœ¬åœ°é€šçŸ¥é€šå¸¸åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>1.åˆ›å»º<code>UILocalNotification</code>ã€‚ </p>
<p>2.è®¾ç½®å¤„ç†é€šçŸ¥çš„æ—¶é—´<code>fireDate</code>ã€‚ </p>
<p>3.é…ç½®é€šçŸ¥çš„å†…å®¹ï¼šé€šçŸ¥ä¸»ä½“ã€é€šçŸ¥å£°éŸ³ã€å›¾æ ‡æ•°å­—ç­‰ã€‚ </p>
<p>4.é…ç½®é€šçŸ¥ä¼ é€’çš„è‡ªå®šä¹‰æ•°æ®å‚æ•°<code>userInfo</code>ï¼ˆè¿™ä¸€æ­¥å¯é€‰ï¼‰ã€‚ </p>
<p>5.è°ƒç”¨é€šçŸ¥ï¼Œå¯ä»¥ä½¿ç”¨<code>scheduleLocalNotification:</code> æŒ‰è®¡åˆ’è°ƒåº¦ä¸€ä¸ªé€šçŸ¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>presentLocalNotificationNow</code> ç«‹å³è°ƒç”¨é€šçŸ¥ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[What-About-Now?]]></title>
      <url>http://www.calios.gq/2015/07/05/What-About-Now/</url>
      <content type="html"><![CDATA[<p><strong>First, create a postï¼š</strong></p>
<pre><code>WhereHexoInstalled calios$ hexo new ForgetIt
[INFO] Created: ~/WhereHexoInstalled/source/_posts/forgetIt.md
</code></pre><p><strong>Open it: </strong></p>
<pre><code>WhereHexoInstalled calios$ open ~/WhereHexoInstalled/source/_posts/What-About-Now.md
</code></pre><p><strong>Then, try block quote:</strong></p>
<pre><code>&gt; Every interaction is both precious and an opportunity to delight.
&gt; 
&gt; *Seth Godin â€”â€”*  [Welcome to Island Marketing]
</code></pre><blockquote>
<p>Every interaction is both precious and an opportunity to delight.</p>
<p><em>Seth Godin â€”â€”</em>  <a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html" target="_blank" rel="external">Welcome to Island Marketing</a></p>
</blockquote>
<p><strong>And then, try code block:</strong></p>
<pre><code><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIBarButtonItem</span> *search = [[<span class="built_in">UIBarButtonItem</span> alloc] initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemSearch</span> target:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(searchItemPressed)];</div><div class="line"><span class="keyword">self</span>.navigationItem.leftBarButtonItem = search;</div></pre></td></tr></table></figure>


UIBarButtonItem *search = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemSearch target:self action:@selector(searchItemPressed)];
self.navigationItem.leftBarButtonItem = search;
</code></pre><p><strong>Now, link:</strong></p>
<pre><code>Here&apos;s [Github](http://github.com/).
</code></pre><p>Hereâ€™s <a href="https://github.com/" target="_blank" rel="external">Github</a>.</p>
<p><strong>Finally, image.</strong></p>
<pre><code>![img](http://img-storage.qiniudn.com/15-8-5/58389499.jpg)
</code></pre><p><img src="http://img-storage.qiniudn.com/15-8-5/58389499.jpg" alt="Here&#39;s an image"></p>
<hr>
<p><strong> Hereâ€™s a temp end. And enjoy yourself. XD </strong></p>
<p>Calios<br>5th, July </p>
<hr>
<p><strong>Update Nov 20th, 2015.</strong></p>
<p>Iâ€™ll list part of other syntax here to save.</p>
<p><strong>Table</strong></p>
<pre><code>| Title1 | Title2 
| ---- | ----
|   Column1       |   Row1
|   Column2       |   Row2
</code></pre><p>It shows like this.</p>
<table>
<thead>
<tr>
<th>Title1</th>
<th>Title2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Column1</td>
<td>Row1  </td>
</tr>
<tr>
<td>Column1</td>
<td>Row2</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>Update Apr 20th, 2016.</strong></p>
<p>How to add code block in item list?</p>
<blockquote>
<ul>
<li>undo add a file before commit:</li>
</ul>
<!-- language: bash -->
<p>  $ svn revert â€“recursive folder_name</p>
</blockquote>
<p>As mentioned <a href="http://meta.stackexchange.com/questions/3122/formatting-sandbox/3431#3431" target="_blank" rel="external">here</a>:</p>
<blockquote>
<p>On the start of a line, specify a language inline using <code>&lt;!-- language: lang --&gt;</code> hints, and indent the code 4 spaces as usual.</p>
</blockquote>
<p>Like this.</p>
<pre><code>- undo add a file before commit:

&lt;!-- language: bash --&gt;
    $ svn revert --recursive folder\_name
</code></pre><hr>
<p><strong><em> Issues I occured in the blog and Refs:</em></strong></p>
<ul>
<li><a href="http://meta.stackexchange.com/questions/55437/how-can-the-backtick-character-be-included-in-code" target="_blank" rel="external">How can the backtick character ` be included in code?</a></li>
<li>How to add image for online blog? <ul>
<li>I tried to upload image <a href="http://yotuku.cn/" target="_blank" rel="external">here</a> and of course you can choose any â€œCloudâ€ you like. :P</li>
</ul>
</li>
<li>How to increase the speed for downloading from Github?<ul>
<li>Import the public repository of Github to some domestic code track website, and then download it from the domestic code. I tried <a href="http://www.coding.net" target="_blank" rel="external">coding.net</a> and it may be useful for others.</li>
</ul>
</li>
<li>Formatting sandbox: <a href="http://meta.stackexchange.com/questions/3122/formatting-sandbox/3431#3431" target="_blank" rel="external">http://meta.stackexchange.com/questions/3122/formatting-sandbox/3431#3431</a></li>
</ul>
]]></content>
    </entry>
    
  
  
</search>
